import{_ as W}from"./CH2Buh_U.js";import{M as j,C as f,_ as z}from"./CPHuSmoe.js";import{_ as H}from"./CrctGWB-.js";import{_ as K}from"./gfcTzQ0I.js";import{_ as Y}from"./iGJpO4hG.js";import{_ as Z}from"./B0IJO_Xd.js";import{_ as q}from"./Box5FeG7.js";import{U as J,Z as Q,ak as X,a0 as v,a6 as tt,$ as et,a1 as ot,i as l,j as L,k as st,o as n,c as w,W as s,f as x,b as p,u as r,x as S,n as at,_ as nt,Y as rt}from"./GLBH15dL.js";import{u as it}from"./DCMfTZpQ.js";import{u as ct}from"./D2Aygtl8.js";import"./DOMz106x.js";import"./viXQLG1X.js";import"./DCkZ5Rzz.js";import"./DpuOAysh.js";import"./C7PoV1zm.js";import"./DRArWz0C.js";import"./D8aEg3BZ.js";import"./BvI9bkuF.js";import"./C1D4Ozuk.js";import"./DjhTuyUU.js";import"./sAv92ZWP.js";import"./BOAzHGzj.js";import"./CNKCMX-k.js";import"./DoW1pMUu.js";import"./Cy95Qd2y.js";import"./D4Tfbifg.js";import"./DQ9AOTKz.js";import"./Chmhkmtq.js";import"./BRNiVJfy.js";import"./CpKgH15o.js";import"./C9aiABHZ.js";import"./56Y_7FHu.js";const mt={class:"tw-mt-10 tw-mb-20"},lt={key:1,class:"tw-my-8"},pt={key:2,class:"tw-mt-8"},zt=J({__name:"[id]",setup(ut){const{t:i}=Q(),u=X(),{getCurrentBonus:c}=v(u),_=tt(),k=et(),N=ot(),{isLeaderBoard:A}=v(k),{isLoggedIn:I}=v(N),h=l([]),a=l([]),o=l(null),C=l({}),E={type:j.ACCORDION,style:{accordionContainerClass:"tw-flex tw-flex-col tw-gap-4"}},R=L(()=>{var t,e;return((e=(t=c.value)==null?void 0:t.info)==null?void 0:e.categories)||[]}),O=L(()=>{var t,e;return((e=(t=c.value)==null?void 0:t.info)==null?void 0:e.providers)||[]}),G=()=>{h.value=[{target:"search",componentName:f.SEARCH_INPUT,props:{modelValue:"",classes:"tw-col-span-4"},mobile:{class:"tw-col-span-6"}},{target:"category",componentName:f.SINGLE_SELECTOR,props:{modelValue:"",additionalLabel:`${i("categories")}: `,placeholder:i("categories"),displayedOption:"category",returnedOption:"id",isAllowEmpty:!0,itemList:R.value,classList:"tw-col-span-1"},mobile:{redirect:!0}},{target:"provider",componentName:f.SINGLE_SELECTOR,props:{modelValue:"",additionalLabel:`${i("providers")}: `,placeholder:i("providers"),displayedOption:"soft",returnedOption:"val",isAllowEmpty:!0,itemList:O.value,classList:"tw-col-span-1"},mobile:{redirect:!0}}]},b=async t=>{C.value={...t,category:t.category?[t.category]:void 0},a.value=[],o.value.current_page=1,await g()},P=async()=>{o.value.page=+o.value.next_page,await g()},$=t=>{t&&Array.isArray(t)&&(a.value=[...a.value,...t])},g=async()=>{var t;try{const e=await u.getBonusGames(+_.params.id,{...C.value,...o.value});if($(e.data.items),o.value=e.data.pagination,!((t=o.value)!=null&&t.next_page))return;const d=new URL(o.value.next_page.toString()),m=new URLSearchParams(d.search);if(!m.has("page"))return;const y=m.get("page");o.value={...o.value,next_page:y}}catch(e){console.error("getGames pages/bonus-wagering/[id].vue",e)}},M=async()=>{try{await u.getBonusById(+_.params.id,!0)}catch(t){console.error("getBonusByIdCallAction pages/bonus-wagering/[id].vue",t),t.error_code===417&&nt().push({path:rt.promotions})}};return ct("getBonusByIdCallAction",async()=>await M(),{watch:[I]}),st(async()=>{_.params.id&&(await g(),G())}),it({title:"Bonus Wager"}),(t,e)=>{var B;const d=W,m=z,y=H,T=K,U=Y,V=Z,F=q;return n(),w("div",mt,[s(c)?(n(),x(d,{key:0,bonus:s(c)},null,8,["bonus"])):p("",!0),r(m,{class:"tw-mt-4",list:s(h),"order-settings":{gridCols:6},"mobile-settings":E,onChange:b,onInput:b},null,8,["list"]),s(a).length?(n(),w("section",lt,[r(T,{"key-name":"leader-board-tab","key-identify":"game_id",list:s(a),class:at(["ng-casino-recent-grid","ng-casino-recent-grid-activity"])},{item:S(({item:D})=>[r(y,{class:"tw-mt-1",game:D},null,8,["game"])]),_:1},8,["list"]),(B=s(o))!=null&&B.next_page?(n(),x(V,{key:0,"class-list":"tw-my-8","item-count":s(a).length,item:s(o)},{action:S(()=>[r(U,{"label-key":"show_more","color-type":"outline",class:"content-btn",onClick:P})]),_:1},8,["item-count","item"])):p("",!0)])):p("",!0),s(A)?(n(),w("section",pt,[r(F)])):p("",!0)])}}});export{zt as default};
