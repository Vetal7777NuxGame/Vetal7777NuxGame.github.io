import{_ as z}from"./DOMz106x.js";import{_ as F}from"./iGJpO4hG.js";import{U as L,Z as M,a6 as R,a7 as G,a0 as g,$ as D,i as v,k as K,a8 as k,E as W,W as t,o,c,a as e,b as r,t as a,f as b,u as m,F as w,x,a9 as Y,Y as Z,a4 as j,aa as q,a5 as H}from"./GLBH15dL.js";import{_ as J,a as O}from"./CwuDGibc.js";import{_ as Q}from"./DRArWz0C.js";import{u as X}from"./DCMfTZpQ.js";import{g as B}from"./C1D4Ozuk.js";import"./CHFWnz7Z.js";import"./CNKCMX-k.js";import"./D8aEg3BZ.js";import"./DoW1pMUu.js";import"./sAv92ZWP.js";import"./BRNiVJfy.js";import"./gfcTzQ0I.js";import"./BvI9bkuF.js";import"./C-FpUhHP.js";import"./CcBUgpmW.js";import"./CrctGWB-.js";import"./DQ9AOTKz.js";import"./Chmhkmtq.js";import"./BIuZoLzm.js";import"./ez3e82Nz.js";import"./D2Aygtl8.js";const tt={key:0,class:"tw-py-8"},et={class:"pvp-error"},st=["src"],nt={class:"pvp-error-title"},ot={class:"pvp-error-text"},at={key:1,class:"tw-font-bold"},it={key:1,class:"tw-py-8"},rt={class:"status-bar"},ct={key:0,class:"tw-flex tw-items-center tw-mr-4"},_t={class:"status-bar-items"},lt={class:"status-bar-item"},mt={key:0,class:"tw-mr-4"},pt={class:"tw-flex tw-items-center"},ut={class:"tw-mr-1"},dt=["src","alt"],bt={key:0,class:"status-bar-item @tablet:tw-hidden"},wt={class:"tw-mr-4"},ft={class:"tw-flex tw-items-center tw-text-text-brand"},ht={class:"tw-mr-1"},yt={class:"status-bar-item"},gt={key:0,class:"tw-mr-4"},vt={class:"tw-flex tw-items-center"},kt={class:"tw-mr-1"},xt=["src","alt"],Bt={class:"tw-mr-4 @tablet:tw-hidden"},Ct={class:"tw-flex tw-items-center"},Tt={class:"tw-mr-1"},It={class:"tw-mr-4 @tablet:tw-hidden"},Nt={class:"tw-flex tw-items-center"},Et={class:"tw-mr-1"},Pt=L({__name:"[id]",setup(St){const{t:_}=M(),{$emitter:f}=Y(),C=R(),u=G(),{gameError:i}=g(u),T=D(),{isLessContainerTablet:d,isLessContainerDesktop:I}=g(T),l=v({}),s=v({}),N=n=>{n&&!n.spins_left&&setTimeout(()=>{u.setGameError({title:_("Attentions"),description:_("you_have_no_spins_left"),status:!0,button:{text:_("go_to_lobby"),path:`${Z.pvp_battle_lobby}-${s.value.link}`}})},5e3),l.value=n},E=()=>{window.location.reload()};return K(async()=>{const{data:n}=await u.fetchBattleInfo({id:C.params.id});s.value=n,l.value=n.player_data,f.on(k.PVP_BATTLE_STAT,N)}),W(()=>{f.off(k.PVP_BATTLE_STAT)}),X({title:()=>{var n;return((n=s.value)==null?void 0:n.game_name)??"PVP Battle"}}),(n,$t)=>{var h,y;const P=z,S=F,p=j,$=J,U=q,V=O,A=Q;return t(i).status?(o(),c("div",tt,[e("section",et,[t(i).image?(o(),c("img",{key:0,src:t(i).image,alt:"error"},null,8,st)):r("",!0),e("h3",nt,a(t(i).title),1),e("p",ot,a(t(i).description),1),t(i).amount?(o(),c("span",at,a(t(i).amount),1)):r("",!0),t(i).timer?(o(),b(P,{key:2,id:"bet-amount-error","hidden-days":!0,"hidden-hours":!0,"end-time":t(i).timer*1e3,onCountdownFinished:E},null,8,["end-time"])):r("",!0),(y=(h=t(i))==null?void 0:h.button)!=null&&y.text?(o(),b(S,{key:3,"label-key":t(i).button.text,link:t(i).button.path,"is-link":"",class:"pvp-error-btn"},null,8,["label-key","link"])):r("",!0)])])):(o(),c("div",it,[e("div",rt,[t(I)?r("",!0):(o(),c("div",ct,[m(p,{name:"pvp",size:24,class:"tw-mr-2"}),e("span",null,a(t(_)("pvp_battle")),1)])),e("div",_t,[e("div",lt,[t(d)?r("",!0):(o(),c("span",mt,a(t(_)("bet_amount")),1)),e("span",pt,[e("span",ut,a(t(l).bet_amount),1),e("img",{src:("getCurrencyIconUrl"in n?n.getCurrencyIconUrl:t(B))(t(s).battle_currency),alt:t(s).battle_currency},null,8,dt)])]),t(d)?r("",!0):(o(),c("div",bt,[e("span",wt,a(t(_)("spins_left")),1),e("span",ft,[e("span",ht,a(t(l).spins_left),1),m(p,{name:"spins",size:16})])])),e("div",yt,[t(s).battle_type==="max_winning"?(o(),c(w,{key:0},[t(d)?r("",!0):(o(),c("span",gt,a(t(_)("winnings")),1)),e("span",vt,[e("span",kt,a(Number(t(l).winnings).toFixed(2)),1),e("img",{src:("getCurrencyIconUrl"in n?n.getCurrencyIconUrl:t(B))(t(s).battle_currency),alt:t(s).battle_currency},null,8,xt)])],64)):r("",!0),t(s).battle_type==="max_multiplying"?(o(),c(w,{key:1},[e("span",Bt,a(t(_)("multiplier")),1),e("span",Ct,[e("span",Tt," x"+a(Number(t(l).max_multiplayer).toFixed(1)),1),m(p,{name:"max_multiplying",folder:"pvp",size:24})])],64)):r("",!0),t(s).battle_type==="consecutive_wins"?(o(),c(w,{key:2},[e("span",It,a(t(_)("consecutive_wins")),1),e("span",Nt,[e("span",Et,a(t(l).max_consecutive_wins),1),m(p,{name:"consecutive_wins",folder:"pvp",size:24})])],64)):r("",!0)])]),m($,{class:"tw-ml-auto tw-mr-3",battle:t(s)},null,8,["battle"]),m(U,{"is-link":"","color-type":"secondary",link:{name:"battles-lobby-id",params:{id:t(s).link}}},{default:x(()=>[m(p,{name:"stat",size:20})]),_:1},8,["link"])]),m(A,{loading:!t(s).nux_game_id},{default:x(()=>[t(s).nux_game_id?(o(),b(V,{key:0,"game-id":t(s).nux_game_id,battle:t(s),"stat-info":t(l),"is-battle":""},null,8,["game-id","battle","stat-info"])):r("",!0)]),_:1},8,["loading"])]))}}}),se=H(Pt,[["__scopeId","data-v-de6573d4"]]);export{se as default};
