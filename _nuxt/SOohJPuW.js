import{U as K,Z as Q,i as f,aU as X,j as C,p as Y,k as ee,q as te,o as m,c as g,u as _,x as h,W as i,f as D,w as F,b,d as r,t as B,a as H,T as le,m as se,a3 as ae,n as oe,aV as ne,a4 as ie}from"./DSD2pUNw.js";import{u as re}from"./Zs2GqXH5.js";import{v as ce}from"./D8aEg3BZ.js";const ue=(s,o)=>{s.parentElement||document.body.appendChild(s);const y=window.innerHeight,t=o.top,S=y-(o.top+o.height);s.style.visibility="hidden",s.style.display="block";const $=s.offsetHeight;s.style.visibility="",s.style.display="",S>=t?s.style.top=`${o.top+o.height}px`:s.style.top=`${o.top-$-20}px`,s.style.left=`${o.left}px`,s.style.right="auto",s.style.position="fixed",s.style.width=`${o.width}px`,s.style.maxHeight="300px",s.style.height="fit-content",s.style.maxWidth=`${o.width}px`,s.style.minWidth=`${o.width}px`,s.style.minHeight="80px",s.style.zIndex="9999",s.parentElement||document.body.removeChild(s)},de={key:0,class:"multiselect-search-container tw-relative tw-pb-2"},pe={key:0,class:"ng-multiselect-label fg-main-12-regular"},fe={class:"fg-main-14-regular"},me=["onMousedown"],be=K({__name:"NgSingleSelector",props:{isRequired:{type:Boolean,default:!0},isValidatedSeparately:{type:Boolean,default:!1},isOptionSearchable:{type:Boolean,default:!1},isCloseOnSelected:{type:Boolean,default:!0},isHideSelected:{type:Boolean,default:!1},isDefaultClass:{type:Boolean,default:!0},isFullOption:{type:Boolean,default:!1},isAllowEmpty:{type:Boolean,default:!1},isSearchable:{type:Boolean,default:!1},isSearchIcon:{type:Boolean},isDisabled:{type:Boolean,default:!1},validationRules:{},returnedOption:{default:null},defaultOption:{default:null},displayedOption:{default:""},additionalLabel:{default:""},deselectLabel:{default:""},selectedLabel:{default:""},selectLabel:{default:""},placeholder:{default:""},classList:{default:""},inputName:{default:""},modelValue:{},itemList:{},isPreventAutofocus:{type:Boolean,default:!1},modalOverflow:{type:Boolean,default:!1}},emits:["update:modelValue","change","close","open"],setup(s,{emit:o}){const{t:y}=Q(),t=s,S=e=>typeof e=="object"?Object.values(e).join(" "):String(e),$=()=>{const e={};return t.isSearchable&&(e.customLabel=S),e},c=f(null),v=f(),V=f(`ng-single-selector-footer-${ce()}`),q=f(!1),I=X(),k=f(""),E=()=>{t.defaultOption&&(c.value=t.defaultOption)},M=C(()=>t.additionalLabel?t.isRequired?t.additionalLabel:`${t.additionalLabel} (${y("optional")})`:""),P=C(()=>t.placeholder?t.isRequired?t.placeholder:`${t.placeholder} (${y("optional")})`:""),N=()=>{d("open"),R()},z=()=>{d("close"),T()},u=f(null),R=()=>{t.modalOverflow&&(u.value&&cancelAnimationFrame(u.value),u.value=requestAnimationFrame(()=>{j(),R()}))},T=()=>{t.modalOverflow&&u.value&&(cancelAnimationFrame(u.value),u.value=null)},j=()=>{if(!t.modalOverflow)return;const e=v.value.$el;if(e){const n=e.querySelector(".multiselect__content-wrapper");if(n&&e){const l=e.getBoundingClientRect();ue(n,l)}}},U=()=>{const e=v.value.$el;if(e&&t.isSearchable){const n=e.querySelector(".multiselect__content-wrapper"),l=e.querySelector(".multiselect__input");if(n&&l){if(t.isOptionSearchable)l.placeholder=`${y("search")}...`,l.classList.add("ng-selector-search"),n.querySelector(".multiselect-search-container").prepend(l);else{const p=document.createElement("div");p.classList.add("ng-search-wrapper");const a=document.createElement("div");a.classList.add("ng-search-content");const O=document.createElement("div");O.classList.add("ng-selector-placeholder"),O.innerHTML=l.placeholder,l.placeholder="",p.append(a),a.append(O),l.before(p),a.append(l),t.isSearchIcon&&ne(()=>import("./x9wMAF8_.js"),[],import.meta.url).then(J=>{const w=document.createElement("img");w.classList.add("ng-search-icon"),w.src=J.default,p.prepend(w)})}l.addEventListener("click",()=>l.focus())}}},W=()=>{const e=v.value.$el;if(e){const n=e.querySelector(".multiselect__content-wrapper"),l=document.createElement("div");l.classList.add("ng-selector-footer"),l.id=V.value,n.append(l),q.value=!0}},d=o,A=()=>{var e;if(!t.returnedOption||t.isFullOption){d("update:modelValue",c.value),d("change");return}t.returnedOption&&(d("update:modelValue",((e=c.value)==null?void 0:e[t.returnedOption])??""),d("change"))},Z=C(()=>[`${t.isDefaultClass?"ng-single-selector":""}`,`${t.isSearchable?"ng-hide-placeholder":""}`,`${t.isDisabled?"disabled":""}`,`${L.value?"error":""}`,`${t.classList}`]),{errorMessage:L}=re(()=>t.inputName,t.isValidatedSeparately?t.validationRules:null,{syncVModel:!0}),x=()=>{const{$el:e,updateSearch:n}=v.value,l=e.querySelector(".multiselect__input");l&&(l!=null&&l.value)&&(l.value="",n())},G=(e="")=>{k.value=e};return Y(()=>t.defaultOption,()=>{E()}),ee(()=>{E(),U(),I.footer&&W()}),(e,n)=>{const l=ie,p=te("VueMultiselect");return m(),g("div",null,[_(p,se({ref_key:"ngselector",ref:v,modelValue:i(c),"onUpdate:modelValue":n[0]||(n[0]=a=>ae(c)?c.value=a:null)},$(),{label:e.displayedOption,"close-on-select":e.isCloseOnSelected,"hide-selected":e.isHideSelected,"allow-empty":e.isAllowEmpty,searchable:e.isSearchable,"selected-label":e.selectedLabel,"select-label":e.selectLabel,"deselect-label":e.deselectLabel,placeholder:i(P),"tag-position":"bottom","preserve-search":!0,options:e.itemList,multiple:!1,class:i(Z),"prevent-autofocus":e.isPreventAutofocus,onSelect:A,onRemove:A,onOpen:N,onClose:z,onSearchChange:G}),{beforeList:h(()=>[t.isOptionSearchable?(m(),g("div",de,[_(l,{class:"tw-absolute tw-top-3.5 tw-left-4 tw-text-input-fg icon-search",size:20,name:"search"}),i(k).length?(m(),D(l,{key:0,class:"tw-absolute tw-top-4 tw-right-4 tw-text-input-fg icon-close",size:16,name:"close",onClick:F(x,["prevent","stop"])})):b("",!0)])):b("",!0),r(e.$slots,"before-list")]),singleLabel:h(({option:a})=>[r(e.$slots,"selected-option",{props:a},()=>[e.additionalLabel?(m(),g("span",pe,B(i(M)),1)):b("",!0),H("span",fe,B(a[e.displayedOption]||a),1)])]),option:h(({option:a})=>[r(e.$slots,"option",{props:a})]),afterList:h(()=>[i(q)?(m(),D(le,{key:0,to:`#${i(V)}`},[r(e.$slots,"footer")],8,["to"])):b("",!0),r(e.$slots,"after-list")]),noOptions:h(()=>[r(e.$slots,"no-options")]),caret:h(({toggle:a})=>[r(e.$slots,"caret",{toggle:a},()=>[H("div",{class:"caret",onMousedown:F(a,["prevent","stop"])},[_(l,{name:"toggle",size:16})],40,me)])]),_:3},16,["modelValue","label","close-on-select","hide-selected","allow-empty","searchable","selected-label","select-label","deselect-label","placeholder","options","class","prevent-autofocus"]),i(L)?(m(),g("div",{key:0,class:oe(["ng-selector-error-message",{disabled:e.isDisabled}])},B(i(L)),3)):b("",!0)])}}});export{be as _,ue as s};
