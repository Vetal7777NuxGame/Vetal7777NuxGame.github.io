import{_ as D}from"./Dq3GPOqN.js";import{U as C,V,_ as K,j as v,o as l,c as E,a as d,W as u,b as O,f as I,bs as W,a0 as b,a1 as M,$ as j,i as x,S as z,Y as B,k as Y,a8 as P,bi as Z,p as $,E as q,a9 as F}from"./DSD2pUNw.js";import{u as J}from"./CygSoWUo.js";import{u as Q}from"./tIRvP6xh.js";const X={class:"game-error"},ee=["alt"],te=["innerHTML"],ne=["innerHTML"],se=C({__name:"GameError",props:{gameError:{}},setup(a){const m=V(),g=K(),o=a,_=`/img/game-error/${o.gameError.icon}.png`,i=v(()=>{const t=/<[^>]*>/g,n=o.gameError.msg.match(/<p.*?>(.*?)<\/p>/g);return n&&n.length>1?{title:n[0].replace(t,""),description:n[1].replace(t,"")}:{title:o.gameError.msg,description:""}}),h=t=>{g.push(m({path:t}))};return(t,n)=>{const c=D;return l(),E("section",X,[d("img",{class:"game-error-icon",src:_,alt:t.gameError.icon+"icon"},null,8,ee),d("h3",{class:"game-error-title",innerHTML:u(i).title},null,8,te),u(i).description.length?(l(),E("p",{key:0,class:"game-error-text",innerHTML:u(i).description},null,8,ne)):O("",!0),t.gameError.button?(l(),I(c,{key:1,"label-key":t.gameError.button.text,class:"game-error-btn",onClick:n[0]||(n[0]=S=>h(t.gameError.button.path))},null,8,["label-key"])):O("",!0)])}}});var G=(a=>(a.CASINO_GAME="casino",a.SPORT_BOOK="sport-book",a.TIMER="timer",a))(G||{});const ae={class:"ng-sportbook"},re=d("div",{id:"ng-betby-content"},null,-1),oe=[re],me=C({__name:"index",setup(a){const m=W(),{$emitter:g}=F(),{getSportBook:o,getSportToken:_}=b(m),{fetchSportUrl:i,fetchSportToken:h,resetSportPageStore:t}=m,n=M(),{isLoggedIn:c}=b(n),{setAuthModal:S}=M(),H=j(),{isDesktop:f,isChatOpened:R}=b(H),y=x(),r=x(),p=z({msg:"",status:!1,icon:G.SPORT_BOOK,button:{text:"Back to Home",path:B.main_home}});Y(()=>{g.on(P.BONUS_WAGERING_CHANGED,()=>{Z()})});const T=async()=>{N();try{await i(),window.BTRenderer?A(o.value):L(o.value)}catch(e){if(console.error("callSportPageAction sportbook/index.vue",e),e&&(e!=null&&e.msg)){const{msg:s}=e;p.msg=s,p.status=!0}}},L=e=>{if(e){const s=document.createElement("script");s.setAttribute("src",e.jsUrl),s.setAttribute("id","ng-betby-script"),y.value.appendChild(s),s.onload=()=>A(e)}},A=e=>{e&&(r.value=new window.BTRenderer().initialize({target:document.getElementById("ng-betby-content"),themeName:e==null?void 0:e.theme,brand_id:e==null?void 0:e.brandId,token:e==null?void 0:e.token,lang:e==null?void 0:e.lang,betSlipOffsetBottom:U.value,betSlipOffsetRight:w.value,betSlipOffsetTop:0,betslipZIndex:1,stickyTop:0,onTokenExpired:async()=>{c.value&&await h().then(()=>_.value)},onSessionRefresh:async()=>{await T()},onRecharge:()=>{c.value},onRegister:()=>{S("signUp")},onLogin:()=>{S("signIn")}}))},N=()=>{var e;!r.value||!window.BTRenderer||(e=r.value)==null||e.kill()},w=v(()=>f.value&&R.value?360:0);$(()=>R.value,()=>{r.value&&r.value.updateOptions({betSlipOffsetRight:w.value})});const U=v(()=>f.value?0:58);return $(()=>f.value,()=>{r.value&&r.value.updateOptions({betSlipOffsetBottom:f.value?0:58})}),Q("callSportPageAction",async()=>await T(),{watch:[c]}),q(()=>{g.off(P.BONUS_WAGERING_CHANGED),N(),t()}),J({title:"Sportbook"}),(e,s)=>{const k=se;return l(),E("div",ae,[d("div",{ref_key:"sportbookRef",ref:y},oe,512),u(p).status?(l(),I(k,{key:0,"game-error":u(p)},null,8,["game-error"])):O("",!0)])}}});export{me as default};
