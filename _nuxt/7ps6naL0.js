var tt=Object.defineProperty;var nt=(t,u,n)=>u in t?tt(t,u,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[u]=n;var Ae=(t,u,n)=>(nt(t,typeof u!="symbol"?u+"":u,n),n);import{_ as Ye}from"./Dq3GPOqN.js";import{U as ve,Z as Me,a6 as st,$ as Te,a0 as q,as as ot,aq as He,ar as ne,j as J,o as d,c as x,u as D,m as at,W as e,a as r,g as Ie,v as $e,t as C,f as P,b as w,n as Ee,a4 as Ue,a5 as be,bh as lt,am as _e,ah as rt,ai as it,al as ct,a1 as xe,i as se,k as Fe,l as We,a3 as Be,ab as ut,p as Ce,x as ae,K as we,D as je,V as Ke,_ as Xe,E as Je,w as dt,Y as Se,aa as Qe,aQ as mt,a8 as ze,bi as _t,a9 as pt,aB as ye,T as gt}from"./DSD2pUNw.js";import{_ as ft}from"./vTJyTPoi.js";import{_ as Ze}from"./xL4uUKpb.js";import{_ as vt}from"./SOohJPuW.js";import{_ as bt}from"./CNvrXMO9.js";import{u as ht}from"./DRPBFnCi.js";import{g as he}from"./DiADfKRX.js";import{P as De,_ as wt}from"./2xuPsAF-.js";import{_ as yt}from"./CqLY2vNr.js";import{_ as St}from"./DYjXzImW.js";import{_ as Et}from"./ChUyVPeQ.js";import{_ as kt}from"./BZ6bRDco.js";import{_ as It}from"./CKIiqM3i.js";import{u as $t}from"./oMPCwqzb.js";import{u as Ct}from"./CygSoWUo.js";import{u as Nt}from"./tIRvP6xh.js";const xt={class:"status-btn-content"},Bt=ve({__name:"BattleStatusButton",props:{battle:{}},setup(t){const{t:u}=Me(),n=t,i=st(),_=Te(),{isLessContainerTablet:f}=q(_),y={...ot,[He.AVAILABLE_KEY]:ne.PLAY},R=J(()=>{var m;return!f.value&&((m=i==null?void 0:i.params)==null?void 0:m.id)}),k=J(()=>n.battle.timer>0&&n.battle.timer<=30),o=J(()=>k.value&&v.value!==ne.FINISHED?{name:"trophy",width:"16",height:"16"}:v.value===ne.CANCELED?{name:"block",width:"16",height:"16"}:v.value===ne.FINISHED?{name:ne.FINISHED,folder:"pvp",width:"16",height:"16"}:{name:ne.PLAY,folder:"pvp",width:"16",height:"16"}),v=J(()=>k.value&&n.battle.battle_status!==He.FINISHED_KEY?ne.RESULTS_IN:y[n.battle.battle_status]),b=J(()=>[ne.CANCELED,ne.DELETED,ne.FINISHED].includes(v.value));return(m,F)=>{const s=Ue,p=yt;return d(),x("div",{class:Ee(["status-btn",[e(v)]])},[D(s,at({class:"status-btn-icon"},e(o)),null,16),r("div",xt,[Ie(r("span",{class:"tw-mr-1"},C(e(u)(`status_bar_${e(v)}`)),513),[[$e,e(R)]]),m.battle.timer&&!e(b)?(d(),P(p,{key:0,id:`status-${m.battle.battle_id}-timer`,"hidden-days":!0,"hidden-hours":!0,"end-time":m.battle.timer*1e3},null,8,["id","end-time"])):w("",!0)])],2)}}}),Ft=be(Bt,[["__scopeId","data-v-ca3cbd28"]]),At=lt("/img/casino_game_error.png"),Dt=t=>(rt("data-v-5d45e6e8"),t=t(),it(),t),Lt={key:0,class:"casino-game-error"},Gt=Dt(()=>r("img",{src:At},null,-1)),Pt={class:"fg-title-16-fat"},Rt={class:"fg-main-14-regular tw-text-text-tertiary"},Mt=ve({__name:"CasinoGameError",setup(t){const u=_e(),{getGamePageError:n}=q(u);return(i,_)=>{const f=Ye;return e(n)?(d(),x("div",Lt,[Gt,r("div",Pt,C(i.$t(e(n).title)),1),r("div",Rt,C(i.$t(e(n).description)),1),D(f,{"is-link":!0,"label-key":e(n).buttonText,link:e(n).navigationLink},null,8,["label-key","link"])])):w("",!0)}}}),Tt=be(Mt,[["__scopeId","data-v-5d45e6e8"]]),Ut={class:"favourites-handler"},Vt=ve({__name:"FavouritesHandler",props:{gameId:{type:Number,required:!0}},setup(t){const u=ct(),{getObjectList:n}=q(u),{fetchMyFavoritesGames:i,resetActivitiesStore:_}=u,f=_e(),{addGameToFavourites:y,removeGameFromFavourites:R}=f,k=xe(),{isLoggedIn:o}=q(k),{setAuthModal:v}=k,b=se({}),m=se(!1),F=t,s=async()=>{b.value={};try{if(m.value){const a=await y(F.gameId);a!=null&&a.status?m.value=!0:m.value=!1}else{const a=await R(F.gameId);a!=null&&a.status?m.value=!1:m.value=!0}}catch(a){a&&typeof a=="object"&&(b.value=a)}},p=async()=>{try{await i({}),await S()}catch(a){a&&typeof a=="object"&&(b.value=a)}},S=()=>{m.value=!!n.value.find(a=>a.game_id===F.gameId)},g=J(()=>o.value?"tw-pointer-events-auto":"tw-pointer-events-none"),h=()=>{o.value||v("signUp")};return Fe(()=>{p()}),We(()=>{_()}),(a,A)=>{const I=ft,M=Ze;return d(),x("div",Ut,[Object.keys(e(b)).length?(d(),P(I,{key:0,error:e(b),type:"tooltip"},null,8,["error"])):w("",!0),r("div",{class:"action-wrapper",onClick:h},[D(M,{modelValue:e(m),"onUpdate:modelValue":A[0]||(A[0]=V=>Be(m)?m.value=V:null),"is-disabled":!e(o),"is-checked":e(m),type:"fav",classes:e(g),onChange:s},null,8,["modelValue","is-disabled","is-checked","classes"])])])}}}),et=be(Vt,[["__scopeId","data-v-541b9737"]]);var Ne=(t=>(t.USD="USD",t.EUR="EUR",t))(Ne||{});const Ht={key:1,class:"game-lobby"},zt={class:"tw-flex tw-gap-2 tablet:tw-w-full mobile:tw-w-full"},Ot={key:0},qt=["src"],Yt={class:"tw-absolute tw-top-0 tw-right-0"},Wt={class:"tw-text-text-tertiary"},jt={class:"tw-text-text-secondary tw-whitespace-nowrap"},Kt={class:"caption selected"},Xt=["src","alt"],Jt={class:"caption"},Qt=["src","alt"],Zt={key:1,class:"tw-flex tw-gap-2 tablet:tw-w-full mobile:tw-w-full"},en=ve({__name:"CasinoGameLobby",props:{playNow:{type:Boolean,default:!1},isBattle:{type:Boolean,default:!1}},setup(t){var L;const{t:u}=Me(),n=xe(),{isLoggedIn:i}=q(n),{setAuthModal:_}=xe(),f=_e(),{startDemoGame:y,startRealGame:R,setGameFullScreen:k}=_e(),{getGameInfo:o,getGamePageError:v}=q(f),b=Te(),{setShowVerificationModal:m}=b,{isDesktop:F,getIsFullscreenGameMode:s,isMultiBalance:p,isHideSingInBtn:S,isHideRegistrationBtn:g}=q(b),h=ut(),{getUserBattle:a}=q(h),A=t,I=se(!1),M=()=>{I.value=!0},V=se(((L=o==null?void 0:o.value)==null?void 0:L.allowed_currencies[0])??""),Y=se(Ne.USD),W=[{key:Ne.USD,label:"USD",img:he("USD")},{key:Ne.EUR,label:"EUR",img:he("EUR")}],O=()=>{je(()=>{const $=!F.value||s.value;k($)})},j=J(()=>p.value?V.value:Y.value),Q=async()=>{var $;if(!(A.isBattle&&(($=a==null?void 0:a.value)==null?void 0:$.battle_status)!==2))try{await R(j.value,A.isBattle),O()}catch(c){const{error_code:te}=c;[De.PAYMENT_NEED_PROOF_EMAIL,De.PAYMENT_NEED_PROOF_PHONE,De.NEED_KYC_VERIFICATION].includes(te)&&m(!0)}},B=()=>{y(),O()},Z=J(()=>{var $;return($=o==null?void 0:o.value)==null?void 0:$.demo});Ce(()=>i.value,()=>re());const{fetchGameInfo:le}=f,re=async()=>{var $;if(($=o==null?void 0:o.value)!=null&&$.gameId)try{await le(o.value.gameId)}catch(c){console.error("updateGameInfo CasinoGamePage/CasinoGameLobby.vue",c)}},H=()=>{const{nameModal:$}=ht();$&&_($)};return Fe(()=>{i.value&&A.playNow&&Q()}),($,c)=>{var ce,ue,de,me,fe;const te=Tt,pe=et,ie=vt,ge=bt,T=Ye;return e(v)?(d(),P(te,{key:0})):(d(),x("div",Ht,[r("div",zt,[!e(F)&&((ce=e(o))!=null&&ce.banner_vertical)&&!e(I)?(d(),x("div",Ot,[r("img",{class:"tw-rounded tw-shadow-shadow-md",src:(ue=e(o))==null?void 0:ue.banner_vertical,alt:"game-banner",onerror:M},null,8,qt)])):w("",!0),e(o)?(d(),x("div",{key:1,class:Ee(["game-lobby__body",{"tablet:tw-items-start":!e(I),"tablet:tw-items-center":e(I),"mobile:tw-items-start":!e(I),"mobile:tw-items-center":e(I)}])},[r("div",Yt,[e(F)?w("",!0):(d(),P(pe,{key:0,"game-id":e(o).gameId},null,8,["game-id"]))]),r("span",null,C(e(o).name),1),r("span",Wt,C(e(o).soft),1)],2)):w("",!0)]),(((de=e(o))==null?void 0:de.allowed_currencies.length)??!1)&&e(i)?(d(),x("div",{key:0,class:Ee(["balance-wrap",{"single-balance-wrap":!e(p)}])},[r("span",jt,C(e(u)("display_balance_in"))+":",1),e(p)?(d(),P(ie,{key:0,modelValue:e(V),"onUpdate:modelValue":c[0]||(c[0]=U=>Be(V)?V.value=U:null),"item-list":(me=e(o))==null?void 0:me.allowed_currencies,"default-option":(fe=e(o))==null?void 0:fe.allowed_currencies[0],class:"currencies-selector"},{"selected-option":ae(({props:U})=>[r("div",Kt,[r("img",{src:e(he)(U),alt:U,class:"currIcon"},null,8,Xt),we(" "+C(U),1)])]),option:ae(({props:U})=>[r("div",Jt,[r("img",{src:e(he)(U),alt:U,class:"currIcon"},null,8,Qt),we(" "+C(U),1)])]),_:1},8,["modelValue","item-list","default-option"])):(d(),P(ge,{key:1,modelValue:e(Y),"onUpdate:modelValue":c[1]||(c[1]=U=>Be(Y)?Y.value=U:null),class:"single-currency","tab-without-translate":"",tabs:W,type:"default"},null,8,["modelValue"]))],2)):w("",!0),e(v)?w("",!0):(d(),x("div",Zt,[e(i)?(d(),P(T,{key:0,class:"game-preview-btn","label-key":"play_now",onClick:Q})):!e(i)&&!(e(S)&&e(g))?(d(),P(T,{key:1,class:"game-preview-btn","label-key":"join_now",onClick:H})):w("",!0),e(Z)&&!$.isBattle?(d(),P(T,{key:2,class:"game-preview-btn","label-key":"play_demo","color-type":"outline",onClick:B})):w("",!0)]))]))}}}),tn=be(en,[["__scopeId","data-v-6b636ee1"]]);var Le={dragStart:!0},nn=(t,u={})=>{let n,i,{bounds:_,axis:f="both",gpuAcceleration:y=!0,legacyTranslate:R=!0,transform:k,applyUserSelectHack:o=!0,disabled:v=!1,ignoreMultitouch:b=!1,recomputeBounds:m=Le,grid:F,position:s,cancel:p,handle:S,defaultClass:g="neodrag",defaultClassDragging:h="neodrag-dragging",defaultClassDragged:a="neodrag-dragged",defaultPosition:A={x:0,y:0},onDragStart:I,onDrag:M,onDragEnd:V}=u,Y=!1,W=0,O=0,j=0,Q=0,B=0,Z=0,{x:le,y:re}=s?{x:(s==null?void 0:s.x)??0,y:(s==null?void 0:s.y)??0}:A;ce(le,re);let H,ee,L,$,c,te="",pe=!!s;m={...Le,...m};let ie=new Set;const ge=document.body.style,T=t.classList;function ce(l=W,N=O){if(!k){if(R){let z=`${+l}px, ${+N}px`;return ke(t,"transform",y?`translate3d(${z}, 0)`:`translate(${z})`)}return ke(t,"translate",`${+l}px ${+N}px ${y?"1px":""}`)}const G=k({offsetX:l,offsetY:N,rootNode:t});Ge(G)&&ke(t,"transform",G)}const ue=(l,N)=>{const G={offsetX:W,offsetY:O,rootNode:t,currentNode:c};t.dispatchEvent(new CustomEvent(l,{detail:G})),N==null||N(G)},de=addEventListener;de("pointerdown",fe,!1),de("pointerup",U,!1),de("pointermove",Ve,!1),ke(t,"touch-action","none");const me=()=>{let l=t.offsetWidth/ee.width;return isNaN(l)&&(l=1),l};function fe(l){if(v||l.button===2)return;if(ie.add(l.pointerId),b&&ie.size>1)return l.preventDefault();if(m.dragStart&&(H=Pe(_,t)),Ge(S)&&Ge(p)&&S===p)throw new Error("`handle` selector can't be same as `cancel` selector");if(T.add(g),L=function(E,X){if(!E)return[X];if(Re(E))return[E];if(Array.isArray(E))return E;const oe=X.querySelectorAll(E);if(oe===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(oe.values())}(S,t),$=function(E,X){if(!E)return[];if(Re(E))return[E];if(Array.isArray(E))return E;const oe=X.querySelectorAll(E);if(oe===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(oe.values())}(p,t),n=/(both|x)/.test(f),i=/(both|y)/.test(f),qe($,L))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");const N=l.composedPath()[0];if(!L.some(E=>{var X;return E.contains(N)||((X=E.shadowRoot)==null?void 0:X.contains(N))})||qe($,[N]))return;c=L.length===1?t:L.find(E=>E.contains(N)),Y=!0,ee=t.getBoundingClientRect(),o&&(te=ge.userSelect,ge.userSelect="none"),ue("neodrag:start",I);const{clientX:G,clientY:z}=l,K=me();n&&(j=G-le/K),i&&(Q=z-re/K),H&&(B=G-ee.left,Z=z-ee.top)}function U(l){ie.delete(l.pointerId),Y&&(m.dragEnd&&(H=Pe(_,t)),T.remove(h),T.add(a),o&&(ge.userSelect=te),ue("neodrag:end",V),n&&(j=W),i&&(Q=O),Y=!1)}function Ve(l){if(!Y||b&&ie.size>1)return;m.drag&&(H=Pe(_,t)),T.add(h),l.preventDefault(),ee=t.getBoundingClientRect();let N=l.clientX,G=l.clientY;const z=me();if(H){const K={left:H.left+B,top:H.top+Z,right:H.right+B-ee.width,bottom:H.bottom+Z-ee.height};N=Oe(N,K.left,K.right),G=Oe(G,K.top,K.bottom)}if(Array.isArray(F)){let[K,E]=F;if(isNaN(+K)||K<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+E)||E<0)throw new Error("2nd argument of `grid` must be a valid positive number");let X=N-j,oe=G-Q;[X,oe]=sn([K/z,E/z],X,oe),N=j+X,G=Q+oe}n&&(W=Math.round((N-j)*z)),i&&(O=Math.round((G-Q)*z)),le=W,re=O,ue("neodrag",M),ce()}return{destroy:()=>{const l=removeEventListener;l("pointerdown",fe,!1),l("pointerup",U,!1),l("pointermove",Ve,!1)},update:l=>{var G,z;f=l.axis||"both",v=l.disabled??!1,b=l.ignoreMultitouch??!1,S=l.handle,_=l.bounds,m=l.recomputeBounds??Le,p=l.cancel,o=l.applyUserSelectHack??!0,F=l.grid,y=l.gpuAcceleration??!0,R=l.legacyTranslate??!0,k=l.transform;const N=T.contains(a);T.remove(g,a),g=l.defaultClass??"neodrag",h=l.defaultClassDragging??"neodrag-dragging",a=l.defaultClassDragged??"neodrag-dragged",T.add(g),N&&T.add(a),pe&&(le=W=((G=l.position)==null?void 0:G.x)??W,re=O=((z=l.position)==null?void 0:z.y)??O,ce())}}},Oe=(t,u,n)=>Math.min(Math.max(t,u),n),Ge=t=>typeof t=="string",sn=([t,u],n,i)=>{const _=(f,y)=>y===0?0:Math.ceil(f/y)*y;return[_(n,t),_(i,u)]},qe=(t,u)=>t.some(n=>u.some(i=>n.contains(i)));function Pe(t,u){if(t===void 0)return;if(Re(t))return t.getBoundingClientRect();if(typeof t=="object"){const{top:i=0,left:_=0,right:f=0,bottom:y=0}=t;return{top:i,right:window.innerWidth-f,bottom:window.innerHeight-y,left:_}}if(t==="parent")return u.parentNode.getBoundingClientRect();const n=document.querySelector(t);if(n===null)throw new Error("The selector provided for bound doesn't exists in the document.");return n.getBoundingClientRect()}var ke=(t,u,n)=>t.style.setProperty(u,n),Re=t=>t instanceof HTMLElement,on=class{constructor(t,u={}){Ae(this,"_dragInstance");Ae(this,"_options",{});this.node=t,this._dragInstance=nn(t,this._options=u)}updateOptions(t){this._dragInstance.update(Object.assign(this._options,t))}set options(t){this._dragInstance.update(this._options=t)}get options(){return this._options}destroy(){this._dragInstance.destroy()}};const an={class:"casino-game-mobile-menu"},ln={class:"casino-game-mobile-menu-wrapper"},rn={class:"casino-game-mobile-menu-heading"},cn={class:"casino-game-mobile-menu-title"},un={class:"casino-game-mobile-menu-soft"},dn={key:0,class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-mt-8"},mn={class:"tw-flex"},_n={class:"tw-text-xl"},pn={class:"battle-stat-list"},gn={key:0,class:"battle-stat"},fn={class:"battle-stat-val"},vn=["src"],bn={key:1,class:"battle-stat"},hn={class:"battle-stat-val"},wn={key:2,class:"battle-stat"},yn={class:"battle-stat-val"},Sn=["src"],En={class:"casino-game-mobile-menu-btn-w"},kn=ve({__name:"CasinoGameMobileMenu",props:{gameName:{},gameSoft:{},isBattle:{type:Boolean},battle:{},statInfo:{}},setup(t){const{setGameFullScreen:u}=_e(),n=t,i=se(!1),_=se(null),f=se(!1),y=se({x:0,y:0}),R=Ke(),k=Xe(),o=J(()=>{var s,p,S,g,h,a;return(s=n.battle)!=null&&s.battle_type?{max_winning:{name:"winnings",val:Number((p=n==null?void 0:n.statInfo)==null?void 0:p.winnings)??Number((S=n==null?void 0:n.statInfo)==null?void 0:S.winnings).toFixed(2),img:he(n.battle.battle_currency)},max_multiplying:{name:"multiplier",val:`x${Number((g=n==null?void 0:n.statInfo)==null?void 0:g.max_multiplayer)??Number((h=n==null?void 0:n.statInfo)==null?void 0:h.max_multiplayer).toFixed(1)}`,icon:"max_multiplying"},consecutive_wins:{name:"consecutive_wins",val:(a=n==null?void 0:n.statInfo)==null?void 0:a.max_consecutive_wins,icon:"consecutive_wins"}}[n.battle.battle_type]:null}),v=()=>{i.value=!i.value,f.value=i.value,je(()=>{b()})},b=()=>{const s=document.querySelector(".draggable");if(!s)return;const p=document.documentElement.clientWidth,S=document.documentElement.clientHeight,g=20;y.value={x:p/2-g,y:0},_.value=new on(s,{position:y.value,onDragEnd:({offsetX:h,offsetY:a})=>{setTimeout(()=>{f.value||m(h,a,s,p,S)},100)}})},m=(s,p,S,g,h)=>{var M;const a=S.offsetWidth===0?56:S.offsetWidth;let A=s;s>g-a&&(A=g-a),s<0&&(A=0);let I=p>h-a?h-a:p;I<0&&(I=0),(M=_.value)==null||M.updateOptions({position:{x:A,y:I}})},F=()=>{var s;u(!1),k.push(R(n.isBattle&&((s=n==null?void 0:n.battle)!=null&&s.link)?`${Se.pvp_battle_lobby}-${n.battle.link}`:Se.main_home))};return Fe(()=>{b(),window.addEventListener("resize",()=>{setTimeout(()=>{f.value=!0,b()},100)})}),Je(()=>{var s;(s=_.value)==null||s.destroy()}),(s,p)=>{var A,I,M;const S=wt,g=Ue,h=Qe,a=Ft;return d(),x("div",an,[s.isBattle?Ie((d(),x("div",{key:0,class:Ee(["casino-game-mobile-menu-toggler draggable",{"battle-game-mobile-menu-toggler":s.isBattle}]),onClick:dt(v,["prevent"])},[D(S,{"is-static":""})],2)),[[$e,!e(i)]]):Ie((d(),P(h,{key:1,class:"casino-game-mobile-menu-toggler draggable","color-type":"transparent",onClick:v},{default:ae(()=>[D(g,{name:"mobile-game-menu-toggler",size:24,color:"white"})]),_:1},512)),[[$e,!e(i)]]),Ie(r("div",ln,[r("div",rn,[r("div",cn,C(s.gameName),1),r("div",un,C(s.gameSoft),1)]),s.isBattle?(d(),x("div",dn,[r("div",mn,[D(g,{name:"battle",size:24,color:"white",class:"tw-mr-2"}),r("h2",_n,C(s.$t("pvpBattleTitle")),1)]),D(a,{class:"battle-stat-btn",battle:s.battle},null,8,["battle"]),r("div",pn,[(A=s.statInfo)!=null&&A.bet_amount?(d(),x("div",gn,[r("div",null,C(s.$t("bet_amount")),1),r("div",fn,[we(C(s.statInfo.bet_amount)+" ",1),(I=s.battle)!=null&&I.battle_currency?(d(),x("img",{key:0,src:("getCurrencyIconUrl"in s?s.getCurrencyIconUrl:e(he))(s.battle.battle_currency),alt:"currency"},null,8,vn)):w("",!0)])])):w("",!0),(M=s.statInfo)!=null&&M.spins_left?(d(),x("div",bn,[r("div",null,C(s.$t("spins_left")),1),r("div",hn,[we(C(s.statInfo.spins_left)+" ",1),D(g,{name:"spins_left_bar",folder:"pvp",size:16})])])):w("",!0),e(o)?(d(),x("div",wn,[r("div",null,C(s.$t(e(o).name)),1),r("div",yn,[we(C(e(o).val)+" ",1),e(o).img?(d(),x("img",{key:0,src:e(o).img,alt:"currency"},null,8,Sn)):w("",!0),e(o).icon?(d(),P(g,{key:1,name:e(o).icon,folder:"pvp",size:16},null,8,["name"])):w("",!0)])])):w("",!0)])])):w("",!0),r("div",En,[D(h,{class:"casino-game-mobile-menu-button","color-type":"transparent",onClick:p[0]||(p[0]=V=>F())},{default:ae(()=>[D(g,{name:s.isBattle?"battle":"mobile-game-menu-home",size:40,color:"white"},null,8,["name"])]),_:1}),e(i)?(d(),P(h,{key:0,class:"casino-game-mobile-menu-button","color-type":"transparent",onClick:p[1]||(p[1]=V=>v())},{default:ae(()=>[D(g,{name:"mobile-game-menu-close",size:40,color:"white"})]),_:1})):w("",!0)])],512),[[$e,e(i)]])])}}}),In=be(kn,[["__scopeId","data-v-2c43ea6e"]]),$n={class:"game-bottom-panel"},Cn={key:0,class:"tw-flex tw-gap-2 tw-items-center fg-title-16-fat"},Nn={class:"tw-text-text-tertiary"},xn={key:1,class:"tw-flex tw-items-center tw-gap-4"},Bn={class:"tw-flex tw-items-center tw-gap-2"},Fn={class:"tw-text-text-primary"},An={class:"tw-text-text-primary"},Dn=ve({__name:"CasinoGameBottomPanel",setup(t){const u=_e(),{setGameFullScreen:n,setIsRealPlay:i}=_e(),{getGameInfo:_,getGameSrc:f,getIsRealPlay:y}=q(u),R=J({get(){return y.value},set(k){i(k)}});return(k,o)=>{const v=et,b=Ze,m=Ue,F=Qe;return d(),x("div",$n,[e(_)?(d(),x("div",Cn,[D(v,{"game-id":e(_).gameId},null,8,["game-id"]),r("span",null,[we(C(e(_).name)+" ",1),r("span",Nn,C(e(_).soft),1)])])):w("",!0),e(f)?(d(),x("div",xn,[r("div",Bn,[r("span",Fn,C(k.$t("fun_play")),1),D(b,{modelValue:e(R),"onUpdate:modelValue":o[0]||(o[0]=s=>Be(R)?R.value=s:null)},null,8,["modelValue"]),r("span",An,C(k.$t("real_play")),1)]),D(F,{"color-type":"transparent",onClick:o[1]||(o[1]=s=>e(n)(!0))},{default:ae(()=>[D(m,{name:"full-screen",width:18,height:18})]),_:1})])):w("",!0)])}}}),Ln=be(Dn,[["__scopeId","data-v-a033398b"]]),Gn={class:"tw-relative casino-game-page"},Pn=["src"],Rn={key:1,class:"tw-my-8"},Mn=ve({__name:"CasinoGamePage",props:{gameId:{},isBattle:{type:Boolean},battle:{default:null},statInfo:{default:null},playGameNow:{type:Boolean,default:!1}},async setup(t){let u,n;const i=t,{t:_}=Me(),f=Xe(),y=xe(),R=Te(),k=Ke(),o=_e(),{$emitter:v}=pt(),{setBreadcrumbs:b}=$t(),{setGameFullScreen:m,fetchGameInfo:F,setGameSrc:s,startDemoGame:p,setGamePageError:S,setExitUrl:g}=o,{getGameSrc:h,getIsGameFullScreen:a,getGameLoading:A,getGameInfo:I,getGameName:M,getSimilarGames:V,getIsRealPlay:Y,getExitUrl:W}=q(o),{isDesktop:O,isLessContainerTablet:j}=q(R),{isLoggedIn:Q}=q(y),B=se(null),Z=J(()=>({mobileSmall:ye.mobileSmall,mobile:ye.mobile-32,mobileLarge:ye.mobileLarge-32,tablet:ye.tablet-32,desktop:ye.desktop-32})),le=c=>{c.origin,W.value},re=()=>document.fullscreenElement===B.value||document.webkitFullscreenElement===B.value||document.mozFullScreenElement===B.value||document.msFullscreenElement===B.value,H=()=>{if(!j.value)try{B.value.requestFullscreen?B.value.requestFullscreen():B.value.webkitRequestFullscreen?B.value.webkitRequestFullscreen():B.value.mozRequestFullScreen?B.value.mozRequestFullScreen():B.value.msRequestFullscreen&&B.value.msRequestFullscreen()}catch(c){console.log("enterFullscreen",c)}},ee=()=>{try{(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())}catch(c){console.log("exitFullscreen",c)}},L=()=>{const c=re();m(c)},$=()=>{try{window==null||window.addEventListener("message",le)}catch(c){console.error(c)}};return[u,n]=mt(async()=>Nt(async()=>{var c,te;try{await F(i.gameId),(te=(c=I.value)==null?void 0:c.hover)!=null&&te.show?S({title:"error",description:`sorry_${I.value.hover.reason}_title`,navigationLink:Se.main_home,buttonText:"go_to_home"}):S(null)}catch{S({title:"error",description:"game_not_found",navigationLink:Se.main_home,buttonText:"go_to_home"})}},"$SVzJnVCWkE")),await u,n(),Ce(Q,c=>{c||f.push(k({path:Se.main_home}))}),Ce(Y,c=>{c?s(""):p()}),Ce(a,c=>{c?H():ee()}),Fe(()=>{i.isBattle?b([{label:_("battles"),path:k({name:"battles"})},{label:_("pvp_game")}]):b([{label:"Casino",path:"/casino"},{label:M.value}]),s(""),g(window.location.origin),v.on(ze.BONUS_WAGERING_CHANGED,()=>{_t()}),document.addEventListener("fullscreenchange",L),document.addEventListener("webkitfullscreenchange",L),document.addEventListener("mozfullscreenchange",L),document.addEventListener("MSFullscreenChange",L)}),Je(()=>{v.off(ze.BONUS_WAGERING_CHANGED)}),We(()=>{m(!1),document.removeEventListener("fullscreenchange",L),document.removeEventListener("webkitfullscreenchange",L),document.removeEventListener("mozfullscreenchange",L),document.removeEventListener("MSFullscreenChange",L)}),Ct({title:M.value}),(c,te)=>{const pe=tn,ie=In,ge=Ln,T=St,ce=Et,ue=kt,de=It;return d(),P(de,{loading:e(A)},{default:ae(()=>{var me;return[r("div",Gn,[r("div",{ref_key:"game",ref:B,class:"tw-h-[70vh]"},[e(h)?(d(),P(gt,{key:1,disabled:!e(j),to:"body"},[r("div",{class:Ee(["tw-h-full tw-relative",{"game-mobile":e(j)}])},[r("iframe",{id:"iframe-game",src:e(h),allowfullscreen:"",frameborder:"0",height:"100%",width:"100%",onLoad:$},null,40,Pn),e(a)&&e(h)?(d(),P(ie,{key:0,"game-name":e(M),"game-soft":((me=e(I))==null?void 0:me.soft)??"","game-loading":!1,"is-battle":c.isBattle,battle:c.battle,"stat-info":c.statInfo,class:"desktop:tw-hidden tw-flex tw-relative tw-z-[115]"},null,8,["game-name","game-soft","is-battle","battle","stat-info"])):w("",!0)],2)],8,["disabled"])):(d(),P(pe,{key:0,"is-battle":c.isBattle,"play-now":c.playGameNow,class:"desktop:tw-h-full"},null,8,["is-battle","play-now"]))],512),e(O)&&!c.playGameNow?(d(),P(ge,{key:0})):w("",!0),e(V).length>0?(d(),x("section",Rn,[D(ue,{list:e(V),"slider-id":"slider-similar-games",class:"game-slider","is-navigation":!0,"slider-settings":{breakpointsBase:"container",slidesPerView:6,breakpoints:{[e(Z).mobileSmall]:{slidesPerView:2,spaceBetween:10},[e(Z).mobileLarge]:{slidesPerView:3,spaceBetween:10},[e(Z).tablet]:{slidesPerView:4,spaceBetween:10},[e(Z).desktop]:{slidesPerView:7,spaceBetween:10}}}},{header:ae(()=>[D(T,{"is-navigation":!0,"title-key":"similar_games","title-icon":"virtual-sport"})]),item:ae(({item:fe})=>[D(ce,{game:fe},null,8,["game"])]),_:1},8,["list","slider-settings"])])):w("",!0)])]}),_:1},8,["loading"])}}}),ss=be(Mn,[["__scopeId","data-v-c4969390"]]);export{Ft as _,ss as a};
