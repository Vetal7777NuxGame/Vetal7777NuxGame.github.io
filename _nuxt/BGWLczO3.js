import{_ as j}from"./D4udR0JH.js";import{_ as E}from"./CTKbW84e.js";import{_ as C}from"./Dq3GPOqN.js";import{U as w,Z as F,$ as P,a0 as b,j as S,o as a,f as g,x as U,a as _,t as n,W as t,c as i,aM as L,b as k,n as W,K as q,Y as N,aI as A,a5 as V,u as f,a4 as H,bt as Y,a1 as Z,i as T,M as G,F as $,a3 as J,r as O,a2 as Q}from"./DSD2pUNw.js";import{T as X}from"./2bM3XT7z.js";import{_ as tt}from"./DKu6f-4p.js";import{u as et}from"./9zBBwLI8.js";import{u as at}from"./B06lemC6.js";import{u as st}from"./CygSoWUo.js";import"./DUXdqV41.js";import"./Zs2GqXH5.js";import"./BOAzHGzj.js";import"./SOohJPuW.js";import"./D8aEg3BZ.js";import"./R1YRABMb.js";const ot={class:"tw-flex tw-items-center tw-justify-between tw-bg-bg-tertiary tw-p-2"},nt={class:"ng-flex tw-text-text-secondary fg-text-14-thin"},ct={class:"tw-flex tw-gap-2 tw-items-center"},it={key:0,class:"tw-flex tw-gap-2 fg-main-12-regular tw-text-text-tertiary"},rt={class:"tw-p-2 tw-bg-bg-secondary fg-main-14-fat"},_t={key:0,class:"tw-flex tw-gap-2 fg-main-12-regular tw-text-text-tertiary tw-mt-4"},pt=w({__name:"TicketListItem",props:{ticket:{}},setup(h){const{t:o}=F(),m=h,r=P(),{isLessContainerDesktop:p}=b(r),l=S(()=>X[m.ticket.status]),u=S(()=>"status-"+l.value.name);return(c,e)=>{const x=A;return a(),g(x,{to:`${t(N).contact_us}/${c.ticket.id}`,class:"ticket-list-item"},{default:U(()=>[_("div",ot,[_("div",nt,n(t(o)("id"))+": "+n(c.ticket.id),1),_("div",ct,[t(p)?k("",!0):(a(),i("div",it,n(t(o)("date_updated"))+": "+n(t(L)(c.ticket.updated_at,{day:void 0,month:void 0,year:void 0})),1)),t(l)?(a(),i("div",{key:1,class:W(["tw-px-1 tw-py-0.5 tw-rounded-sm fg-main-12-bold tw-text-text-dark",t(u)])},n(t(o)(t(l).statusKey??"")),3)):k("",!0)])]),_("div",rt,[q(n(c.ticket.title)+" ",1),t(p)?(a(),i("div",_t,n(t(o)("date_updated"))+": "+n(t(L)(c.ticket.updated_at,{day:void 0,month:void 0,year:void 0})),1)):k("",!0)])]),_:1},8,["to"])}}}),lt=V(pt,[["__scopeId","data-v-3de99368"]]),ut={class:"no-tickets"},mt={class:"tw-text-center"},dt={class:"no-tickets-desc"},gt=w({__name:"NoTickets",setup(h){return(o,m)=>{const r=H,p=C;return a(),i("div",ut,[_("div",mt,[f(r,{name:"support",width:48,height:48,class:"tw-mb-5 tw-text-input-fg"}),_("p",dt,n(o.$t("if_you_have_any_problems")),1),f(p,{"is-link":!0,"label-key":"create_ticket",link:t(N).contact_us_create},null,8,["link"])])])}}}),kt=V(gt,[["__scopeId","data-v-b14f23a8"]]),ft={key:0,class:"tickets-search"},ht={class:"tickets-list"},vt=w({__name:"TicketsList",setup(h){const o=Y(),{fetchTickets:m}=o,{tickets:r}=b(o),p=Z(),{isLoggedIn:l}=b(p),u=T(""),c=T(!1),e=T({page:1,per_page:10,total:0,total_pages:0,next_page:null,prev_page:null}),x=({page:s,perPage:d})=>{e.value.per_page!==d?e.value.page=1:e.value.page=s,e.value.per_page=d,y()},y=async()=>{try{const s=await m(Q({search:u.value,page:e.value.page,per_page:e.value.per_page}));return e.value=s.pagination,s}catch(s){console.error(s)}};return G(()=>{l.value&&y().then(s=>{c.value=(s==null?void 0:s.pagination.total)===0})}),et({redirectTo:"/tickets/create"}),(s,d)=>{var I;const B=j,M=E,D=C,z=lt,K=tt,R=kt;return a(),i($,null,[f(B,{"title-key":"support","icon-name":"contact-us"}),t(c)?(a(),g(R,{key:1})):(a(),i($,{key:0},[t(l)?(a(),i("div",ft,[f(M,{modelValue:t(u),"onUpdate:modelValue":d[0]||(d[0]=v=>J(u)?u.value=v:null),class:"tw-w-full","placeholder-text":s.$t("search"),"is-required":"",onInput:y},null,8,["modelValue","placeholder-text"]),f(D,{classes:"create-ticket-button","is-link":!0,"label-key":"create_ticket",size:"large",link:t(N).contact_us_create},null,8,["link"])])):k("",!0),_("div",ht,[(a(!0),i($,null,O(t(r),v=>(a(),g(z,{key:v.id,ticket:v},null,8,["ticket"]))),128)),(I=t(e))!=null&&I.total?(a(),g(K,{key:0,class:"tickets-pagination","current-page":t(e).page,total:t(e).total,pages:t(e).total_pages,"per-page":t(e).per_page,"default-per-page":10,"per-page-list":[10,15,20],onChange:x},null,8,["current-page","total","pages","per-page"])):k("",!0)])],64))],64)}}}),zt=w({__name:"index",setup(h){return at(),st({title:"Tickets"}),(o,m)=>{const r=vt;return a(),g(r)}}});export{zt as default};
