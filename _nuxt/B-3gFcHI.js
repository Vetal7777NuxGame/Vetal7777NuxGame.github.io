import{_ as A,a as B}from"./CN3dryFB.js";import{_ as C}from"./DjhTuyUU.js";import{_ as D}from"./DRArWz0C.js";import{U as T,$ as q,ax as F,a0 as I,i as n,j as L,k as M,l as j,o as p,f as E,x as $,W as e,c as g,u,a as o,t as a,ae as K,K as O,a5 as R}from"./GLBH15dL.js";import{P as z}from"./Bqft1f5O.js";import"./BaWeHPN9.js";import"./DoW1pMUu.js";import"./sAv92ZWP.js";import"./D8aEg3BZ.js";import"./C1D4Ozuk.js";import"./iGJpO4hG.js";import"./DQ9AOTKz.js";import"./j1r6YG1r.js";import"./eyjlo4Ft.js";import"./YpR70fqq.js";import"./DKNc5PXk.js";import"./CHFWnz7Z.js";import"./C9aiABHZ.js";import"./56Y_7FHu.js";import"./Brrl0AXM.js";import"./C-FpUhHP.js";import"./DOMz106x.js";import"./BOAzHGzj.js";import"./gfcTzQ0I.js";const G={key:0},H={class:"tw-flex tw-flex-col tw-gap-4"},J={class:"dl-item"},Q={class:"dl-item"},X={class:"dl-item"},Y={class:"dl-item"},Z={class:"tw-font-bold"},tt={key:1},et=["href"],ot=T({__name:"WithdrawalSolanaPhantom",props:{provider:{}},setup(k){const y=k,S=q(),W=F(),{getWeb3AuthProviders:x}=I(S),c=n(!0),r=n({amount:0}),_=n(0),i=n("SOL"),f=n("");let s={},v={};const d=L(()=>h(Number(_.value||0)*Number(r.value.amount||0))),h=t=>t.toFixed(5);return M(async()=>{v=x.value.phantom||null,s=new z;try{const{data:t}=await W.fetchWithdrawalData({id:y.provider.id});r.value.fee=t.fee,i.value=t.main_currency,f.value=t.network,_.value=t.possible_rate,r.value.address=await(s==null?void 0:s.connect())}catch(t){console.error("get withdrawal data in WithdrawalSolana",t)}c.value=!1}),j(()=>{s!=null&&s.hasUserApp()&&s.disconnect()}),(t,l)=>{const V=A,P=C,N=B,U=D;return p(),E(U,{loading:e(c)},{default:$(()=>{var w,b;return[(w=e(s))!=null&&w.hasUserApp()?(p(),g("div",G,[u(N,{"filed-values":e(r),provider:t.provider,"is-form-valid":!0},{default:$(()=>[o("dl",H,[o("div",J,[o("dt",null,a(t.$t("network"))+":",1),o("dd",null,a(e(f)),1)]),o("div",Q,[o("dt",null,a(t.$t("fee"))+":",1),o("dd",null,a(e(r).fee)+" ("+a(e(i))+")",1)]),o("div",X,[o("dt",null,a(t.$t("possible_amount"))+":",1),o("dd",null,a(e(d)||"-")+" ("+a(e(i))+")",1)]),o("div",Y,[o("dt",Z,a(t.$t("you_will_get_possible_amount"))+": ",1),o("dd",null,a(e(d)?h(e(d)-e(r).fee):"-")+" ("+a(e(i))+")",1)])]),u(V,{amount:e(r).amount,"onUpdate:amount":l[0]||(l[0]=m=>e(r).amount=m),provider:t.provider},null,8,["amount","provider"]),u(P,{modelValue:e(r).address,"onUpdate:modelValue":l[1]||(l[1]=m=>e(r).address=m),"input-name":"address","placeholder-text":t.$t("address"),"is-required":"","is-validated-separately":"","validation-rules":K().required().trim()},null,8,["modelValue","placeholder-text","validation-rules"])]),_:1},8,["filed-values","provider"])])):(p(),g("div",tt,[O(a(t.$t("you_have_to_install"))+" ",1),o("a",{target:"_blank",href:(b=e(v))==null?void 0:b.url,class:"tw-text-text-brand"},"Phantom",8,et)]))]}),_:1},8,["loading"])}}}),Vt=R(ot,[["__scopeId","data-v-b29abae1"]]);export{Vt as default};
