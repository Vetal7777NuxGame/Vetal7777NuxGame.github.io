import{_ as $a,a as Ma}from"./CGYkT8oa.js";import{bR as Da,bg as Fa,U as qa,ax as ja,$ as Ga,a0 as Ka,i as He,k as Wa,l as Va,W as Re,o as en,f as Sr,x as In,u as Ya,z as Ja,a as Rt,t as it,c as Gs,b as Er,K as Br,bS as Xa}from"./DSD2pUNw.js";import{s as Qa}from"./1MFSFkN0.js";import{H as xi,c as Nn,e as jn,t as Gn,o as Za,h as _i,b as ec,a as tc,n as Ir,w as nc,u as se,W as rc}from"./Bbzdauir.js";import{_ as sc}from"./Dq3GPOqN.js";import{E as ic}from"./j0l5ui9r.js";import"./BhroTe4s.js";import"./SOohJPuW.js";import"./Zs2GqXH5.js";import"./D8aEg3BZ.js";import"./DiADfKRX.js";import"./CKIiqM3i.js";import"./DUXdqV41.js";import"./BOAzHGzj.js";import"./92T7Fwo1.js";import"./Dd1fHdsP.js";import"./C9cRvAIb.js";import"./BDNIETfs.js";import"./vTJyTPoi.js";import"./D4mtNjyF.js";import"./56Y_7FHu.js";import"./2xuPsAF-.js";import"./CqLY2vNr.js";import"./R1YRABMb.js";import"./CNvrXMO9.js";import"./BLR1aNLP.js";import"./D2M15My9.js";import"./D8Vkugs4.js";import"./BcNY68dZ.js";import"./xL4uUKpb.js";import"./DaXGcVam.js";import"./CTKbW84e.js";import"./CrE1ES4d.js";import"./DW4oqbe0.js";import"./C4B2-LI2.js";import"./D4udR0JH.js";import"./ChUyVPeQ.js";import"./DCwwILS6.js";import"./BF6_8xTD.js";import"./DKu6f-4p.js";import"./D8SE-IQr.js";import"./CY5dyNx_.js";import"./IW4IgeV-.js";import"./DRPBFnCi.js";import"./oMPCwqzb.js";import"./CtuLir4V.js";import"./BsmjwS_q.js";import"./mYk17c8H.js";import"./tIRvP6xh.js";function oc(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),o=BigInt(4294967295),c=Number(t>>i&o),d=Number(t&o),p=r?4:0,y=r?0:4;n.setUint32(e+p,c,r),n.setUint32(e+y,d,r)}let ac=class extends xi{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Nn(this.buffer)}update(e){jn(this);const{view:t,buffer:r,blockLen:i}=this;e=Gn(e);const o=e.length;for(let c=0;c<o;){const d=Math.min(i-this.pos,o-c);if(d===i){const p=Nn(e);for(;i<=o-c;c+=i)this.process(p,c);continue}r.set(e.subarray(c,c+d),this.pos),this.pos+=d,c+=d,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jn(this),Za(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:o}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let x=c;x<i;x++)t[x]=0;oc(r,i-8,BigInt(this.length*8),o),this.process(r,0);const d=Nn(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=p/4,m=this.get();if(y>m.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<y;x++)d.setUint32(4*x,m[x],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:o,destroyed:c,pos:d}=this;return e.length=i,e.pos=d,e.finished=o,e.destroyed=c,i%t&&e.buffer.set(r),e}},yi=class extends xi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,_i(e);const r=Gn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(e){return jn(this),this.iHash.update(e),this}digestInto(e){jn(this),ec(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:o,blockLen:c,outputLen:d}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=c,e.outputLen=d,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const bi=(n,e,t)=>new yi(n,e).update(t).digest();bi.create=(n,e)=>new yi(n,e);function cc(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gi={exports:{}};(function(n){(function(e){var t=function(a){var l,f=new Float64Array(16);if(a)for(l=0;l<a.length;l++)f[l]=a[l];return f},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var c=t(),d=t([1]),p=t([56129,1]),y=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),x=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),E=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),N=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function z(a,l,f,s){a[l]=f>>24&255,a[l+1]=f>>16&255,a[l+2]=f>>8&255,a[l+3]=f&255,a[l+4]=s>>24&255,a[l+5]=s>>16&255,a[l+6]=s>>8&255,a[l+7]=s&255}function C(a,l,f,s,u){var _,b=0;for(_=0;_<u;_++)b|=a[l+_]^f[s+_];return(1&b-1>>>8)-1}function j(a,l,f,s){return C(a,l,f,s,16)}function Q(a,l,f,s){return C(a,l,f,s,32)}function be(a,l,f,s){for(var u=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,_=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,b=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,A=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,I=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,D=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,R=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,ue=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,H=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,K=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,W=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Z=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,X=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,V=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,J=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,Y=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,L=u,q=_,P=b,$=A,M=I,O=D,g=R,w=ue,S=H,T=K,U=W,B=Z,G=X,ee=V,ne=J,te=Y,h,oe=0;oe<20;oe+=2)h=L+G|0,M^=h<<7|h>>>25,h=M+L|0,S^=h<<9|h>>>23,h=S+M|0,G^=h<<13|h>>>19,h=G+S|0,L^=h<<18|h>>>14,h=O+q|0,T^=h<<7|h>>>25,h=T+O|0,ee^=h<<9|h>>>23,h=ee+T|0,q^=h<<13|h>>>19,h=q+ee|0,O^=h<<18|h>>>14,h=U+g|0,ne^=h<<7|h>>>25,h=ne+U|0,P^=h<<9|h>>>23,h=P+ne|0,g^=h<<13|h>>>19,h=g+P|0,U^=h<<18|h>>>14,h=te+B|0,$^=h<<7|h>>>25,h=$+te|0,w^=h<<9|h>>>23,h=w+$|0,B^=h<<13|h>>>19,h=B+w|0,te^=h<<18|h>>>14,h=L+$|0,q^=h<<7|h>>>25,h=q+L|0,P^=h<<9|h>>>23,h=P+q|0,$^=h<<13|h>>>19,h=$+P|0,L^=h<<18|h>>>14,h=O+M|0,g^=h<<7|h>>>25,h=g+O|0,w^=h<<9|h>>>23,h=w+g|0,M^=h<<13|h>>>19,h=M+w|0,O^=h<<18|h>>>14,h=U+T|0,B^=h<<7|h>>>25,h=B+U|0,S^=h<<9|h>>>23,h=S+B|0,T^=h<<13|h>>>19,h=T+S|0,U^=h<<18|h>>>14,h=te+ne|0,G^=h<<7|h>>>25,h=G+te|0,ee^=h<<9|h>>>23,h=ee+G|0,ne^=h<<13|h>>>19,h=ne+ee|0,te^=h<<18|h>>>14;L=L+u|0,q=q+_|0,P=P+b|0,$=$+A|0,M=M+I|0,O=O+D|0,g=g+R|0,w=w+ue|0,S=S+H|0,T=T+K|0,U=U+W|0,B=B+Z|0,G=G+X|0,ee=ee+V|0,ne=ne+J|0,te=te+Y|0,a[0]=L>>>0&255,a[1]=L>>>8&255,a[2]=L>>>16&255,a[3]=L>>>24&255,a[4]=q>>>0&255,a[5]=q>>>8&255,a[6]=q>>>16&255,a[7]=q>>>24&255,a[8]=P>>>0&255,a[9]=P>>>8&255,a[10]=P>>>16&255,a[11]=P>>>24&255,a[12]=$>>>0&255,a[13]=$>>>8&255,a[14]=$>>>16&255,a[15]=$>>>24&255,a[16]=M>>>0&255,a[17]=M>>>8&255,a[18]=M>>>16&255,a[19]=M>>>24&255,a[20]=O>>>0&255,a[21]=O>>>8&255,a[22]=O>>>16&255,a[23]=O>>>24&255,a[24]=g>>>0&255,a[25]=g>>>8&255,a[26]=g>>>16&255,a[27]=g>>>24&255,a[28]=w>>>0&255,a[29]=w>>>8&255,a[30]=w>>>16&255,a[31]=w>>>24&255,a[32]=S>>>0&255,a[33]=S>>>8&255,a[34]=S>>>16&255,a[35]=S>>>24&255,a[36]=T>>>0&255,a[37]=T>>>8&255,a[38]=T>>>16&255,a[39]=T>>>24&255,a[40]=U>>>0&255,a[41]=U>>>8&255,a[42]=U>>>16&255,a[43]=U>>>24&255,a[44]=B>>>0&255,a[45]=B>>>8&255,a[46]=B>>>16&255,a[47]=B>>>24&255,a[48]=G>>>0&255,a[49]=G>>>8&255,a[50]=G>>>16&255,a[51]=G>>>24&255,a[52]=ee>>>0&255,a[53]=ee>>>8&255,a[54]=ee>>>16&255,a[55]=ee>>>24&255,a[56]=ne>>>0&255,a[57]=ne>>>8&255,a[58]=ne>>>16&255,a[59]=ne>>>24&255,a[60]=te>>>0&255,a[61]=te>>>8&255,a[62]=te>>>16&255,a[63]=te>>>24&255}function k(a,l,f,s){for(var u=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,_=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,b=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,A=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,I=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,D=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,R=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,ue=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,H=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,K=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,W=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Z=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,X=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,V=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,J=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,Y=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,L=u,q=_,P=b,$=A,M=I,O=D,g=R,w=ue,S=H,T=K,U=W,B=Z,G=X,ee=V,ne=J,te=Y,h,oe=0;oe<20;oe+=2)h=L+G|0,M^=h<<7|h>>>25,h=M+L|0,S^=h<<9|h>>>23,h=S+M|0,G^=h<<13|h>>>19,h=G+S|0,L^=h<<18|h>>>14,h=O+q|0,T^=h<<7|h>>>25,h=T+O|0,ee^=h<<9|h>>>23,h=ee+T|0,q^=h<<13|h>>>19,h=q+ee|0,O^=h<<18|h>>>14,h=U+g|0,ne^=h<<7|h>>>25,h=ne+U|0,P^=h<<9|h>>>23,h=P+ne|0,g^=h<<13|h>>>19,h=g+P|0,U^=h<<18|h>>>14,h=te+B|0,$^=h<<7|h>>>25,h=$+te|0,w^=h<<9|h>>>23,h=w+$|0,B^=h<<13|h>>>19,h=B+w|0,te^=h<<18|h>>>14,h=L+$|0,q^=h<<7|h>>>25,h=q+L|0,P^=h<<9|h>>>23,h=P+q|0,$^=h<<13|h>>>19,h=$+P|0,L^=h<<18|h>>>14,h=O+M|0,g^=h<<7|h>>>25,h=g+O|0,w^=h<<9|h>>>23,h=w+g|0,M^=h<<13|h>>>19,h=M+w|0,O^=h<<18|h>>>14,h=U+T|0,B^=h<<7|h>>>25,h=B+U|0,S^=h<<9|h>>>23,h=S+B|0,T^=h<<13|h>>>19,h=T+S|0,U^=h<<18|h>>>14,h=te+ne|0,G^=h<<7|h>>>25,h=G+te|0,ee^=h<<9|h>>>23,h=ee+G|0,ne^=h<<13|h>>>19,h=ne+ee|0,te^=h<<18|h>>>14;a[0]=L>>>0&255,a[1]=L>>>8&255,a[2]=L>>>16&255,a[3]=L>>>24&255,a[4]=O>>>0&255,a[5]=O>>>8&255,a[6]=O>>>16&255,a[7]=O>>>24&255,a[8]=U>>>0&255,a[9]=U>>>8&255,a[10]=U>>>16&255,a[11]=U>>>24&255,a[12]=te>>>0&255,a[13]=te>>>8&255,a[14]=te>>>16&255,a[15]=te>>>24&255,a[16]=g>>>0&255,a[17]=g>>>8&255,a[18]=g>>>16&255,a[19]=g>>>24&255,a[20]=w>>>0&255,a[21]=w>>>8&255,a[22]=w>>>16&255,a[23]=w>>>24&255,a[24]=S>>>0&255,a[25]=S>>>8&255,a[26]=S>>>16&255,a[27]=S>>>24&255,a[28]=T>>>0&255,a[29]=T>>>8&255,a[30]=T>>>16&255,a[31]=T>>>24&255}function pe(a,l,f,s){be(a,l,f,s)}function we(a,l,f,s){k(a,l,f,s)}var Pe=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Ve(a,l,f,s,u,_,b){var A=new Uint8Array(16),I=new Uint8Array(64),D,R;for(R=0;R<16;R++)A[R]=0;for(R=0;R<8;R++)A[R]=_[R];for(;u>=64;){for(pe(I,A,b,Pe),R=0;R<64;R++)a[l+R]=f[s+R]^I[R];for(D=1,R=8;R<16;R++)D=D+(A[R]&255)|0,A[R]=D&255,D>>>=8;u-=64,l+=64,s+=64}if(u>0)for(pe(I,A,b,Pe),R=0;R<u;R++)a[l+R]=f[s+R]^I[R];return 0}function ve(a,l,f,s,u){var _=new Uint8Array(16),b=new Uint8Array(64),A,I;for(I=0;I<16;I++)_[I]=0;for(I=0;I<8;I++)_[I]=s[I];for(;f>=64;){for(pe(b,_,u,Pe),I=0;I<64;I++)a[l+I]=b[I];for(A=1,I=8;I<16;I++)A=A+(_[I]&255)|0,_[I]=A&255,A>>>=8;f-=64,l+=64}if(f>0)for(pe(b,_,u,Pe),I=0;I<f;I++)a[l+I]=b[I];return 0}function Te(a,l,f,s,u){var _=new Uint8Array(32);we(_,s,u,Pe);for(var b=new Uint8Array(8),A=0;A<8;A++)b[A]=s[A+16];return ve(a,l,f,b,_)}function je(a,l,f,s,u,_,b){var A=new Uint8Array(32);we(A,_,b,Pe);for(var I=new Uint8Array(8),D=0;D<8;D++)I[D]=_[D+16];return Ve(a,l,f,s,u,I,A)}var ge=function(a){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var l,f,s,u,_,b,A,I;l=a[0]&255|(a[1]&255)<<8,this.r[0]=l&8191,f=a[2]&255|(a[3]&255)<<8,this.r[1]=(l>>>13|f<<3)&8191,s=a[4]&255|(a[5]&255)<<8,this.r[2]=(f>>>10|s<<6)&7939,u=a[6]&255|(a[7]&255)<<8,this.r[3]=(s>>>7|u<<9)&8191,_=a[8]&255|(a[9]&255)<<8,this.r[4]=(u>>>4|_<<12)&255,this.r[5]=_>>>1&8190,b=a[10]&255|(a[11]&255)<<8,this.r[6]=(_>>>14|b<<2)&8191,A=a[12]&255|(a[13]&255)<<8,this.r[7]=(b>>>11|A<<5)&8065,I=a[14]&255|(a[15]&255)<<8,this.r[8]=(A>>>8|I<<8)&8191,this.r[9]=I>>>5&127,this.pad[0]=a[16]&255|(a[17]&255)<<8,this.pad[1]=a[18]&255|(a[19]&255)<<8,this.pad[2]=a[20]&255|(a[21]&255)<<8,this.pad[3]=a[22]&255|(a[23]&255)<<8,this.pad[4]=a[24]&255|(a[25]&255)<<8,this.pad[5]=a[26]&255|(a[27]&255)<<8,this.pad[6]=a[28]&255|(a[29]&255)<<8,this.pad[7]=a[30]&255|(a[31]&255)<<8};ge.prototype.blocks=function(a,l,f){for(var s=this.fin?0:2048,u,_,b,A,I,D,R,ue,H,K,W,Z,X,V,J,Y,L,q,P,$=this.h[0],M=this.h[1],O=this.h[2],g=this.h[3],w=this.h[4],S=this.h[5],T=this.h[6],U=this.h[7],B=this.h[8],G=this.h[9],ee=this.r[0],ne=this.r[1],te=this.r[2],h=this.r[3],oe=this.r[4],de=this.r[5],he=this.r[6],re=this.r[7],ce=this.r[8],fe=this.r[9];f>=16;)u=a[l+0]&255|(a[l+1]&255)<<8,$+=u&8191,_=a[l+2]&255|(a[l+3]&255)<<8,M+=(u>>>13|_<<3)&8191,b=a[l+4]&255|(a[l+5]&255)<<8,O+=(_>>>10|b<<6)&8191,A=a[l+6]&255|(a[l+7]&255)<<8,g+=(b>>>7|A<<9)&8191,I=a[l+8]&255|(a[l+9]&255)<<8,w+=(A>>>4|I<<12)&8191,S+=I>>>1&8191,D=a[l+10]&255|(a[l+11]&255)<<8,T+=(I>>>14|D<<2)&8191,R=a[l+12]&255|(a[l+13]&255)<<8,U+=(D>>>11|R<<5)&8191,ue=a[l+14]&255|(a[l+15]&255)<<8,B+=(R>>>8|ue<<8)&8191,G+=ue>>>5|s,H=0,K=H,K+=$*ee,K+=M*(5*fe),K+=O*(5*ce),K+=g*(5*re),K+=w*(5*he),H=K>>>13,K&=8191,K+=S*(5*de),K+=T*(5*oe),K+=U*(5*h),K+=B*(5*te),K+=G*(5*ne),H+=K>>>13,K&=8191,W=H,W+=$*ne,W+=M*ee,W+=O*(5*fe),W+=g*(5*ce),W+=w*(5*re),H=W>>>13,W&=8191,W+=S*(5*he),W+=T*(5*de),W+=U*(5*oe),W+=B*(5*h),W+=G*(5*te),H+=W>>>13,W&=8191,Z=H,Z+=$*te,Z+=M*ne,Z+=O*ee,Z+=g*(5*fe),Z+=w*(5*ce),H=Z>>>13,Z&=8191,Z+=S*(5*re),Z+=T*(5*he),Z+=U*(5*de),Z+=B*(5*oe),Z+=G*(5*h),H+=Z>>>13,Z&=8191,X=H,X+=$*h,X+=M*te,X+=O*ne,X+=g*ee,X+=w*(5*fe),H=X>>>13,X&=8191,X+=S*(5*ce),X+=T*(5*re),X+=U*(5*he),X+=B*(5*de),X+=G*(5*oe),H+=X>>>13,X&=8191,V=H,V+=$*oe,V+=M*h,V+=O*te,V+=g*ne,V+=w*ee,H=V>>>13,V&=8191,V+=S*(5*fe),V+=T*(5*ce),V+=U*(5*re),V+=B*(5*he),V+=G*(5*de),H+=V>>>13,V&=8191,J=H,J+=$*de,J+=M*oe,J+=O*h,J+=g*te,J+=w*ne,H=J>>>13,J&=8191,J+=S*ee,J+=T*(5*fe),J+=U*(5*ce),J+=B*(5*re),J+=G*(5*he),H+=J>>>13,J&=8191,Y=H,Y+=$*he,Y+=M*de,Y+=O*oe,Y+=g*h,Y+=w*te,H=Y>>>13,Y&=8191,Y+=S*ne,Y+=T*ee,Y+=U*(5*fe),Y+=B*(5*ce),Y+=G*(5*re),H+=Y>>>13,Y&=8191,L=H,L+=$*re,L+=M*he,L+=O*de,L+=g*oe,L+=w*h,H=L>>>13,L&=8191,L+=S*te,L+=T*ne,L+=U*ee,L+=B*(5*fe),L+=G*(5*ce),H+=L>>>13,L&=8191,q=H,q+=$*ce,q+=M*re,q+=O*he,q+=g*de,q+=w*oe,H=q>>>13,q&=8191,q+=S*h,q+=T*te,q+=U*ne,q+=B*ee,q+=G*(5*fe),H+=q>>>13,q&=8191,P=H,P+=$*fe,P+=M*ce,P+=O*re,P+=g*he,P+=w*de,H=P>>>13,P&=8191,P+=S*oe,P+=T*h,P+=U*te,P+=B*ne,P+=G*ee,H+=P>>>13,P&=8191,H=(H<<2)+H|0,H=H+K|0,K=H&8191,H=H>>>13,W+=H,$=K,M=W,O=Z,g=X,w=V,S=J,T=Y,U=L,B=q,G=P,l+=16,f-=16;this.h[0]=$,this.h[1]=M,this.h[2]=O,this.h[3]=g,this.h[4]=w,this.h[5]=S,this.h[6]=T,this.h[7]=U,this.h[8]=B,this.h[9]=G},ge.prototype.finish=function(a,l){var f=new Uint16Array(10),s,u,_,b;if(this.leftover){for(b=this.leftover,this.buffer[b++]=1;b<16;b++)this.buffer[b]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(s=this.h[1]>>>13,this.h[1]&=8191,b=2;b<10;b++)this.h[b]+=s,s=this.h[b]>>>13,this.h[b]&=8191;for(this.h[0]+=s*5,s=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=s,s=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=s,f[0]=this.h[0]+5,s=f[0]>>>13,f[0]&=8191,b=1;b<10;b++)f[b]=this.h[b]+s,s=f[b]>>>13,f[b]&=8191;for(f[9]-=8192,u=(s^1)-1,b=0;b<10;b++)f[b]&=u;for(u=~u,b=0;b<10;b++)this.h[b]=this.h[b]&u|f[b];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,_=this.h[0]+this.pad[0],this.h[0]=_&65535,b=1;b<8;b++)_=(this.h[b]+this.pad[b]|0)+(_>>>16)|0,this.h[b]=_&65535;a[l+0]=this.h[0]>>>0&255,a[l+1]=this.h[0]>>>8&255,a[l+2]=this.h[1]>>>0&255,a[l+3]=this.h[1]>>>8&255,a[l+4]=this.h[2]>>>0&255,a[l+5]=this.h[2]>>>8&255,a[l+6]=this.h[3]>>>0&255,a[l+7]=this.h[3]>>>8&255,a[l+8]=this.h[4]>>>0&255,a[l+9]=this.h[4]>>>8&255,a[l+10]=this.h[5]>>>0&255,a[l+11]=this.h[5]>>>8&255,a[l+12]=this.h[6]>>>0&255,a[l+13]=this.h[6]>>>8&255,a[l+14]=this.h[7]>>>0&255,a[l+15]=this.h[7]>>>8&255},ge.prototype.update=function(a,l,f){var s,u;if(this.leftover){for(u=16-this.leftover,u>f&&(u=f),s=0;s<u;s++)this.buffer[this.leftover+s]=a[l+s];if(f-=u,l+=u,this.leftover+=u,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(f>=16&&(u=f-f%16,this.blocks(a,l,u),l+=u,f-=u),f){for(s=0;s<f;s++)this.buffer[this.leftover+s]=a[l+s];this.leftover+=f}};function ze(a,l,f,s,u,_){var b=new ge(_);return b.update(f,s,u),b.finish(a,l),0}function Ye(a,l,f,s,u,_){var b=new Uint8Array(16);return ze(b,0,f,s,u,_),j(a,l,b,0)}function ft(a,l,f,s,u){var _;if(f<32)return-1;for(je(a,0,l,0,f,s,u),ze(a,16,a,32,f-32,a),_=0;_<16;_++)a[_]=0;return 0}function Je(a,l,f,s,u){var _,b=new Uint8Array(32);if(f<32||(Te(b,0,32,s,u),Ye(l,16,l,32,f-32,b)!==0))return-1;for(je(a,0,l,0,f,s,u),_=0;_<32;_++)a[_]=0;return 0}function Ze(a,l){var f;for(f=0;f<16;f++)a[f]=l[f]|0}function pr(a){var l,f,s=1;for(l=0;l<16;l++)f=a[l]+s+65535,s=Math.floor(f/65536),a[l]=f-s*65536;a[0]+=s-1+37*(s-1)}function zt(a,l,f){for(var s,u=~(f-1),_=0;_<16;_++)s=u&(a[_]^l[_]),a[_]^=s,l[_]^=s}function kt(a,l){var f,s,u,_=t(),b=t();for(f=0;f<16;f++)b[f]=l[f];for(pr(b),pr(b),pr(b),s=0;s<2;s++){for(_[0]=b[0]-65517,f=1;f<15;f++)_[f]=b[f]-65535-(_[f-1]>>16&1),_[f-1]&=65535;_[15]=b[15]-32767-(_[14]>>16&1),u=_[15]>>16&1,_[14]&=65535,zt(b,_,1-u)}for(f=0;f<16;f++)a[2*f]=b[f]&255,a[2*f+1]=b[f]>>8}function ks(a,l){var f=new Uint8Array(32),s=new Uint8Array(32);return kt(f,a),kt(s,l),Q(f,0,s,0)}function Os(a){var l=new Uint8Array(32);return kt(l,a),l[0]&1}function xr(a,l){var f;for(f=0;f<16;f++)a[f]=l[2*f]+(l[2*f+1]<<8);a[15]&=32767}function et(a,l,f){for(var s=0;s<16;s++)a[s]=l[s]+f[s]}function tt(a,l,f){for(var s=0;s<16;s++)a[s]=l[s]-f[s]}function ae(a,l,f){var s,u,_=0,b=0,A=0,I=0,D=0,R=0,ue=0,H=0,K=0,W=0,Z=0,X=0,V=0,J=0,Y=0,L=0,q=0,P=0,$=0,M=0,O=0,g=0,w=0,S=0,T=0,U=0,B=0,G=0,ee=0,ne=0,te=0,h=f[0],oe=f[1],de=f[2],he=f[3],re=f[4],ce=f[5],fe=f[6],Ie=f[7],ye=f[8],Ue=f[9],Se=f[10],Ee=f[11],Ne=f[12],Me=f[13],De=f[14],Fe=f[15];s=l[0],_+=s*h,b+=s*oe,A+=s*de,I+=s*he,D+=s*re,R+=s*ce,ue+=s*fe,H+=s*Ie,K+=s*ye,W+=s*Ue,Z+=s*Se,X+=s*Ee,V+=s*Ne,J+=s*Me,Y+=s*De,L+=s*Fe,s=l[1],b+=s*h,A+=s*oe,I+=s*de,D+=s*he,R+=s*re,ue+=s*ce,H+=s*fe,K+=s*Ie,W+=s*ye,Z+=s*Ue,X+=s*Se,V+=s*Ee,J+=s*Ne,Y+=s*Me,L+=s*De,q+=s*Fe,s=l[2],A+=s*h,I+=s*oe,D+=s*de,R+=s*he,ue+=s*re,H+=s*ce,K+=s*fe,W+=s*Ie,Z+=s*ye,X+=s*Ue,V+=s*Se,J+=s*Ee,Y+=s*Ne,L+=s*Me,q+=s*De,P+=s*Fe,s=l[3],I+=s*h,D+=s*oe,R+=s*de,ue+=s*he,H+=s*re,K+=s*ce,W+=s*fe,Z+=s*Ie,X+=s*ye,V+=s*Ue,J+=s*Se,Y+=s*Ee,L+=s*Ne,q+=s*Me,P+=s*De,$+=s*Fe,s=l[4],D+=s*h,R+=s*oe,ue+=s*de,H+=s*he,K+=s*re,W+=s*ce,Z+=s*fe,X+=s*Ie,V+=s*ye,J+=s*Ue,Y+=s*Se,L+=s*Ee,q+=s*Ne,P+=s*Me,$+=s*De,M+=s*Fe,s=l[5],R+=s*h,ue+=s*oe,H+=s*de,K+=s*he,W+=s*re,Z+=s*ce,X+=s*fe,V+=s*Ie,J+=s*ye,Y+=s*Ue,L+=s*Se,q+=s*Ee,P+=s*Ne,$+=s*Me,M+=s*De,O+=s*Fe,s=l[6],ue+=s*h,H+=s*oe,K+=s*de,W+=s*he,Z+=s*re,X+=s*ce,V+=s*fe,J+=s*Ie,Y+=s*ye,L+=s*Ue,q+=s*Se,P+=s*Ee,$+=s*Ne,M+=s*Me,O+=s*De,g+=s*Fe,s=l[7],H+=s*h,K+=s*oe,W+=s*de,Z+=s*he,X+=s*re,V+=s*ce,J+=s*fe,Y+=s*Ie,L+=s*ye,q+=s*Ue,P+=s*Se,$+=s*Ee,M+=s*Ne,O+=s*Me,g+=s*De,w+=s*Fe,s=l[8],K+=s*h,W+=s*oe,Z+=s*de,X+=s*he,V+=s*re,J+=s*ce,Y+=s*fe,L+=s*Ie,q+=s*ye,P+=s*Ue,$+=s*Se,M+=s*Ee,O+=s*Ne,g+=s*Me,w+=s*De,S+=s*Fe,s=l[9],W+=s*h,Z+=s*oe,X+=s*de,V+=s*he,J+=s*re,Y+=s*ce,L+=s*fe,q+=s*Ie,P+=s*ye,$+=s*Ue,M+=s*Se,O+=s*Ee,g+=s*Ne,w+=s*Me,S+=s*De,T+=s*Fe,s=l[10],Z+=s*h,X+=s*oe,V+=s*de,J+=s*he,Y+=s*re,L+=s*ce,q+=s*fe,P+=s*Ie,$+=s*ye,M+=s*Ue,O+=s*Se,g+=s*Ee,w+=s*Ne,S+=s*Me,T+=s*De,U+=s*Fe,s=l[11],X+=s*h,V+=s*oe,J+=s*de,Y+=s*he,L+=s*re,q+=s*ce,P+=s*fe,$+=s*Ie,M+=s*ye,O+=s*Ue,g+=s*Se,w+=s*Ee,S+=s*Ne,T+=s*Me,U+=s*De,B+=s*Fe,s=l[12],V+=s*h,J+=s*oe,Y+=s*de,L+=s*he,q+=s*re,P+=s*ce,$+=s*fe,M+=s*Ie,O+=s*ye,g+=s*Ue,w+=s*Se,S+=s*Ee,T+=s*Ne,U+=s*Me,B+=s*De,G+=s*Fe,s=l[13],J+=s*h,Y+=s*oe,L+=s*de,q+=s*he,P+=s*re,$+=s*ce,M+=s*fe,O+=s*Ie,g+=s*ye,w+=s*Ue,S+=s*Se,T+=s*Ee,U+=s*Ne,B+=s*Me,G+=s*De,ee+=s*Fe,s=l[14],Y+=s*h,L+=s*oe,q+=s*de,P+=s*he,$+=s*re,M+=s*ce,O+=s*fe,g+=s*Ie,w+=s*ye,S+=s*Ue,T+=s*Se,U+=s*Ee,B+=s*Ne,G+=s*Me,ee+=s*De,ne+=s*Fe,s=l[15],L+=s*h,q+=s*oe,P+=s*de,$+=s*he,M+=s*re,O+=s*ce,g+=s*fe,w+=s*Ie,S+=s*ye,T+=s*Ue,U+=s*Se,B+=s*Ee,G+=s*Ne,ee+=s*Me,ne+=s*De,te+=s*Fe,_+=38*q,b+=38*P,A+=38*$,I+=38*M,D+=38*O,R+=38*g,ue+=38*w,H+=38*S,K+=38*T,W+=38*U,Z+=38*B,X+=38*G,V+=38*ee,J+=38*ne,Y+=38*te,u=1,s=_+u+65535,u=Math.floor(s/65536),_=s-u*65536,s=b+u+65535,u=Math.floor(s/65536),b=s-u*65536,s=A+u+65535,u=Math.floor(s/65536),A=s-u*65536,s=I+u+65535,u=Math.floor(s/65536),I=s-u*65536,s=D+u+65535,u=Math.floor(s/65536),D=s-u*65536,s=R+u+65535,u=Math.floor(s/65536),R=s-u*65536,s=ue+u+65535,u=Math.floor(s/65536),ue=s-u*65536,s=H+u+65535,u=Math.floor(s/65536),H=s-u*65536,s=K+u+65535,u=Math.floor(s/65536),K=s-u*65536,s=W+u+65535,u=Math.floor(s/65536),W=s-u*65536,s=Z+u+65535,u=Math.floor(s/65536),Z=s-u*65536,s=X+u+65535,u=Math.floor(s/65536),X=s-u*65536,s=V+u+65535,u=Math.floor(s/65536),V=s-u*65536,s=J+u+65535,u=Math.floor(s/65536),J=s-u*65536,s=Y+u+65535,u=Math.floor(s/65536),Y=s-u*65536,s=L+u+65535,u=Math.floor(s/65536),L=s-u*65536,_+=u-1+37*(u-1),u=1,s=_+u+65535,u=Math.floor(s/65536),_=s-u*65536,s=b+u+65535,u=Math.floor(s/65536),b=s-u*65536,s=A+u+65535,u=Math.floor(s/65536),A=s-u*65536,s=I+u+65535,u=Math.floor(s/65536),I=s-u*65536,s=D+u+65535,u=Math.floor(s/65536),D=s-u*65536,s=R+u+65535,u=Math.floor(s/65536),R=s-u*65536,s=ue+u+65535,u=Math.floor(s/65536),ue=s-u*65536,s=H+u+65535,u=Math.floor(s/65536),H=s-u*65536,s=K+u+65535,u=Math.floor(s/65536),K=s-u*65536,s=W+u+65535,u=Math.floor(s/65536),W=s-u*65536,s=Z+u+65535,u=Math.floor(s/65536),Z=s-u*65536,s=X+u+65535,u=Math.floor(s/65536),X=s-u*65536,s=V+u+65535,u=Math.floor(s/65536),V=s-u*65536,s=J+u+65535,u=Math.floor(s/65536),J=s-u*65536,s=Y+u+65535,u=Math.floor(s/65536),Y=s-u*65536,s=L+u+65535,u=Math.floor(s/65536),L=s-u*65536,_+=u-1+37*(u-1),a[0]=_,a[1]=b,a[2]=A,a[3]=I,a[4]=D,a[5]=R,a[6]=ue,a[7]=H,a[8]=K,a[9]=W,a[10]=Z,a[11]=X,a[12]=V,a[13]=J,a[14]=Y,a[15]=L}function Xe(a,l){ae(a,l,l)}function Ns(a,l){var f=t(),s;for(s=0;s<16;s++)f[s]=l[s];for(s=253;s>=0;s--)Xe(f,f),s!==2&&s!==4&&ae(f,f,l);for(s=0;s<16;s++)a[s]=f[s]}function Rs(a,l){var f=t(),s;for(s=0;s<16;s++)f[s]=l[s];for(s=250;s>=0;s--)Xe(f,f),s!==1&&ae(f,f,l);for(s=0;s<16;s++)a[s]=f[s]}function mn(a,l,f){var s=new Uint8Array(32),u=new Float64Array(80),_,b,A=t(),I=t(),D=t(),R=t(),ue=t(),H=t();for(b=0;b<31;b++)s[b]=l[b];for(s[31]=l[31]&127|64,s[0]&=248,xr(u,f),b=0;b<16;b++)I[b]=u[b],R[b]=A[b]=D[b]=0;for(A[0]=R[0]=1,b=254;b>=0;--b)_=s[b>>>3]>>>(b&7)&1,zt(A,I,_),zt(D,R,_),et(ue,A,D),tt(A,A,D),et(D,I,R),tt(I,I,R),Xe(R,ue),Xe(H,A),ae(A,D,A),ae(D,I,ue),et(ue,A,D),tt(A,A,D),Xe(I,A),tt(D,R,H),ae(A,D,p),et(A,A,R),ae(D,D,A),ae(A,R,H),ae(R,I,u),Xe(I,ue),zt(A,I,_),zt(D,R,_);for(b=0;b<16;b++)u[b+16]=A[b],u[b+32]=D[b],u[b+48]=I[b],u[b+64]=R[b];var K=u.subarray(32),W=u.subarray(16);return Ns(K,K),ae(W,W,K),kt(a,W),0}function vn(a,l){return mn(a,l,o)}function Ps(a,l){return r(l,32),vn(a,l)}function Tn(a,l,f){var s=new Uint8Array(32);return mn(s,f,l),we(a,i,s,Pe)}var Hs=ft,ka=Je;function Oa(a,l,f,s,u,_){var b=new Uint8Array(32);return Tn(b,u,_),Hs(a,l,f,s,b)}function Na(a,l,f,s,u,_){var b=new Uint8Array(32);return Tn(b,u,_),ka(a,l,f,s,b)}var Ls=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $s(a,l,f,s){for(var u=new Int32Array(16),_=new Int32Array(16),b,A,I,D,R,ue,H,K,W,Z,X,V,J,Y,L,q,P,$,M,O,g,w,S,T,U,B,G=a[0],ee=a[1],ne=a[2],te=a[3],h=a[4],oe=a[5],de=a[6],he=a[7],re=l[0],ce=l[1],fe=l[2],Ie=l[3],ye=l[4],Ue=l[5],Se=l[6],Ee=l[7],Ne=0;s>=128;){for(M=0;M<16;M++)O=8*M+Ne,u[M]=f[O+0]<<24|f[O+1]<<16|f[O+2]<<8|f[O+3],_[M]=f[O+4]<<24|f[O+5]<<16|f[O+6]<<8|f[O+7];for(M=0;M<80;M++)if(b=G,A=ee,I=ne,D=te,R=h,ue=oe,H=de,K=he,W=re,Z=ce,X=fe,V=Ie,J=ye,Y=Ue,L=Se,q=Ee,g=he,w=Ee,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=(h>>>14|ye<<18)^(h>>>18|ye<<14)^(ye>>>9|h<<23),w=(ye>>>14|h<<18)^(ye>>>18|h<<14)^(h>>>9|ye<<23),S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,g=h&oe^~h&de,w=ye&Ue^~ye&Se,S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,g=Ls[M*2],w=Ls[M*2+1],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,g=u[M%16],w=_[M%16],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,P=U&65535|B<<16,$=S&65535|T<<16,g=P,w=$,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=(G>>>28|re<<4)^(re>>>2|G<<30)^(re>>>7|G<<25),w=(re>>>28|G<<4)^(G>>>2|re<<30)^(G>>>7|re<<25),S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,g=G&ee^G&ne^ee&ne,w=re&ce^re&fe^ce&fe,S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,K=U&65535|B<<16,q=S&65535|T<<16,g=D,w=V,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=P,w=$,S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,D=U&65535|B<<16,V=S&65535|T<<16,ee=b,ne=A,te=I,h=D,oe=R,de=ue,he=H,G=K,ce=W,fe=Z,Ie=X,ye=V,Ue=J,Se=Y,Ee=L,re=q,M%16===15)for(O=0;O<16;O++)g=u[O],w=_[O],S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=u[(O+9)%16],w=_[(O+9)%16],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,P=u[(O+1)%16],$=_[(O+1)%16],g=(P>>>1|$<<31)^(P>>>8|$<<24)^P>>>7,w=($>>>1|P<<31)^($>>>8|P<<24)^($>>>7|P<<25),S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,P=u[(O+14)%16],$=_[(O+14)%16],g=(P>>>19|$<<13)^($>>>29|P<<3)^P>>>6,w=($>>>19|P<<13)^(P>>>29|$<<3)^($>>>6|P<<26),S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,u[O]=U&65535|B<<16,_[O]=S&65535|T<<16;g=G,w=re,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[0],w=l[0],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[0]=G=U&65535|B<<16,l[0]=re=S&65535|T<<16,g=ee,w=ce,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[1],w=l[1],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[1]=ee=U&65535|B<<16,l[1]=ce=S&65535|T<<16,g=ne,w=fe,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[2],w=l[2],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[2]=ne=U&65535|B<<16,l[2]=fe=S&65535|T<<16,g=te,w=Ie,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[3],w=l[3],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[3]=te=U&65535|B<<16,l[3]=Ie=S&65535|T<<16,g=h,w=ye,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[4],w=l[4],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[4]=h=U&65535|B<<16,l[4]=ye=S&65535|T<<16,g=oe,w=Ue,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[5],w=l[5],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[5]=oe=U&65535|B<<16,l[5]=Ue=S&65535|T<<16,g=de,w=Se,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[6],w=l[6],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[6]=de=U&65535|B<<16,l[6]=Se=S&65535|T<<16,g=he,w=Ee,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[7],w=l[7],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[7]=he=U&65535|B<<16,l[7]=Ee=S&65535|T<<16,Ne+=128,s-=128}return s}function St(a,l,f){var s=new Int32Array(8),u=new Int32Array(8),_=new Uint8Array(256),b,A=f;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,u[0]=4089235720,u[1]=2227873595,u[2]=4271175723,u[3]=1595750129,u[4]=2917565137,u[5]=725511199,u[6]=4215389547,u[7]=327033209,$s(s,u,l,f),f%=128,b=0;b<f;b++)_[b]=l[A-f+b];for(_[f]=128,f=256-128*(f<112?1:0),_[f-9]=0,z(_,f-8,A/536870912|0,A<<3),$s(s,u,_,f),b=0;b<8;b++)z(a,8*b,s[b],u[b]);return 0}function An(a,l){var f=t(),s=t(),u=t(),_=t(),b=t(),A=t(),I=t(),D=t(),R=t();tt(f,a[1],a[0]),tt(R,l[1],l[0]),ae(f,f,R),et(s,a[0],a[1]),et(R,l[0],l[1]),ae(s,s,R),ae(u,a[3],l[3]),ae(u,u,m),ae(_,a[2],l[2]),et(_,_,_),tt(b,s,f),tt(A,_,u),et(I,_,u),et(D,s,f),ae(a[0],b,A),ae(a[1],D,I),ae(a[2],I,A),ae(a[3],b,D)}function Ms(a,l,f){var s;for(s=0;s<4;s++)zt(a[s],l[s],f)}function _r(a,l){var f=t(),s=t(),u=t();Ns(u,l[2]),ae(f,l[0],u),ae(s,l[1],u),kt(a,s),a[31]^=Os(f)<<7}function yr(a,l,f){var s,u;for(Ze(a[0],c),Ze(a[1],d),Ze(a[2],d),Ze(a[3],c),u=255;u>=0;--u)s=f[u/8|0]>>(u&7)&1,Ms(a,l,s),An(l,a),An(a,a),Ms(a,l,s)}function Un(a,l){var f=[t(),t(),t(),t()];Ze(f[0],x),Ze(f[1],E),Ze(f[2],d),ae(f[3],x,E),yr(a,f,l)}function br(a,l,f){var s=new Uint8Array(64),u=[t(),t(),t(),t()],_;for(f||r(l,32),St(s,l,32),s[0]&=248,s[31]&=127,s[31]|=64,Un(u,s),_r(a,u),_=0;_<32;_++)l[_+32]=a[_];return 0}var Sn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function gr(a,l){var f,s,u,_;for(s=63;s>=32;--s){for(f=0,u=s-32,_=s-12;u<_;++u)l[u]+=f-16*l[s]*Sn[u-(s-32)],f=Math.floor((l[u]+128)/256),l[u]-=f*256;l[u]+=f,l[s]=0}for(f=0,u=0;u<32;u++)l[u]+=f-(l[31]>>4)*Sn[u],f=l[u]>>8,l[u]&=255;for(u=0;u<32;u++)l[u]-=f*Sn[u];for(s=0;s<32;s++)l[s+1]+=l[s]>>8,a[s]=l[s]&255}function wr(a){var l=new Float64Array(64),f;for(f=0;f<64;f++)l[f]=a[f];for(f=0;f<64;f++)a[f]=0;gr(a,l)}function Ds(a,l,f,s){var u=new Uint8Array(64),_=new Uint8Array(64),b=new Uint8Array(64),A,I,D=new Float64Array(64),R=[t(),t(),t(),t()];St(u,s,32),u[0]&=248,u[31]&=127,u[31]|=64;var ue=f+64;for(A=0;A<f;A++)a[64+A]=l[A];for(A=0;A<32;A++)a[32+A]=u[32+A];for(St(b,a.subarray(32),f+32),wr(b),Un(R,b),_r(a,R),A=32;A<64;A++)a[A]=s[A];for(St(_,a,f+64),wr(_),A=0;A<64;A++)D[A]=0;for(A=0;A<32;A++)D[A]=b[A];for(A=0;A<32;A++)for(I=0;I<32;I++)D[A+I]+=_[A]*u[I];return gr(a.subarray(32),D),ue}function Ra(a,l){var f=t(),s=t(),u=t(),_=t(),b=t(),A=t(),I=t();return Ze(a[2],d),xr(a[1],l),Xe(u,a[1]),ae(_,u,y),tt(u,u,a[2]),et(_,a[2],_),Xe(b,_),Xe(A,b),ae(I,A,b),ae(f,I,u),ae(f,f,_),Rs(f,f),ae(f,f,u),ae(f,f,_),ae(f,f,_),ae(a[0],f,_),Xe(s,a[0]),ae(s,s,_),ks(s,u)&&ae(a[0],a[0],N),Xe(s,a[0]),ae(s,s,_),ks(s,u)?-1:(Os(a[0])===l[31]>>7&&tt(a[0],c,a[0]),ae(a[3],a[0],a[1]),0)}function mr(a,l,f,s){var u,_=new Uint8Array(32),b=new Uint8Array(64),A=[t(),t(),t(),t()],I=[t(),t(),t(),t()];if(f<64||Ra(I,s))return-1;for(u=0;u<f;u++)a[u]=l[u];for(u=0;u<32;u++)a[u+32]=s[u];if(St(b,a,f),wr(b),yr(A,I,b),Un(I,l.subarray(32)),An(A,I),_r(_,A),f-=64,Q(l,0,_,0)){for(u=0;u<f;u++)a[u]=0;return-1}for(u=0;u<f;u++)a[u]=l[u+64];return f}var vr=32,En=24,Jt=32,Ot=16,Xt=32,Bn=32,Qt=32,Zt=32,Tr=32,Fs=En,Pa=Jt,Ha=Ot,lt=64,Et=32,Nt=64,Ar=32,Ur=64;e.lowlevel={crypto_core_hsalsa20:we,crypto_stream_xor:je,crypto_stream:Te,crypto_stream_salsa20_xor:Ve,crypto_stream_salsa20:ve,crypto_onetimeauth:ze,crypto_onetimeauth_verify:Ye,crypto_verify_16:j,crypto_verify_32:Q,crypto_secretbox:ft,crypto_secretbox_open:Je,crypto_scalarmult:mn,crypto_scalarmult_base:vn,crypto_box_beforenm:Tn,crypto_box_afternm:Hs,crypto_box:Oa,crypto_box_open:Na,crypto_box_keypair:Ps,crypto_hash:St,crypto_sign:Ds,crypto_sign_keypair:br,crypto_sign_open:mr,crypto_secretbox_KEYBYTES:vr,crypto_secretbox_NONCEBYTES:En,crypto_secretbox_ZEROBYTES:Jt,crypto_secretbox_BOXZEROBYTES:Ot,crypto_scalarmult_BYTES:Xt,crypto_scalarmult_SCALARBYTES:Bn,crypto_box_PUBLICKEYBYTES:Qt,crypto_box_SECRETKEYBYTES:Zt,crypto_box_BEFORENMBYTES:Tr,crypto_box_NONCEBYTES:Fs,crypto_box_ZEROBYTES:Pa,crypto_box_BOXZEROBYTES:Ha,crypto_sign_BYTES:lt,crypto_sign_PUBLICKEYBYTES:Et,crypto_sign_SECRETKEYBYTES:Nt,crypto_sign_SEEDBYTES:Ar,crypto_hash_BYTES:Ur,gf:t,D:y,L:Sn,pack25519:kt,unpack25519:xr,M:ae,A:et,S:Xe,Z:tt,pow2523:Rs,add:An,set25519:Ze,modL:gr,scalarmult:yr,scalarbase:Un};function qs(a,l){if(a.length!==vr)throw new Error("bad key size");if(l.length!==En)throw new Error("bad nonce size")}function La(a,l){if(a.length!==Qt)throw new Error("bad public key size");if(l.length!==Zt)throw new Error("bad secret key size")}function We(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function js(a){for(var l=0;l<a.length;l++)a[l]=0}e.randomBytes=function(a){var l=new Uint8Array(a);return r(l,a),l},e.secretbox=function(a,l,f){We(a,l,f),qs(f,l);for(var s=new Uint8Array(Jt+a.length),u=new Uint8Array(s.length),_=0;_<a.length;_++)s[_+Jt]=a[_];return ft(u,s,s.length,l,f),u.subarray(Ot)},e.secretbox.open=function(a,l,f){We(a,l,f),qs(f,l);for(var s=new Uint8Array(Ot+a.length),u=new Uint8Array(s.length),_=0;_<a.length;_++)s[_+Ot]=a[_];return s.length<32||Je(u,s,s.length,l,f)!==0?null:u.subarray(Jt)},e.secretbox.keyLength=vr,e.secretbox.nonceLength=En,e.secretbox.overheadLength=Ot,e.scalarMult=function(a,l){if(We(a,l),a.length!==Bn)throw new Error("bad n size");if(l.length!==Xt)throw new Error("bad p size");var f=new Uint8Array(Xt);return mn(f,a,l),f},e.scalarMult.base=function(a){if(We(a),a.length!==Bn)throw new Error("bad n size");var l=new Uint8Array(Xt);return vn(l,a),l},e.scalarMult.scalarLength=Bn,e.scalarMult.groupElementLength=Xt,e.box=function(a,l,f,s){var u=e.box.before(f,s);return e.secretbox(a,l,u)},e.box.before=function(a,l){We(a,l),La(a,l);var f=new Uint8Array(Tr);return Tn(f,a,l),f},e.box.after=e.secretbox,e.box.open=function(a,l,f,s){var u=e.box.before(f,s);return e.secretbox.open(a,l,u)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var a=new Uint8Array(Qt),l=new Uint8Array(Zt);return Ps(a,l),{publicKey:a,secretKey:l}},e.box.keyPair.fromSecretKey=function(a){if(We(a),a.length!==Zt)throw new Error("bad secret key size");var l=new Uint8Array(Qt);return vn(l,a),{publicKey:l,secretKey:new Uint8Array(a)}},e.box.publicKeyLength=Qt,e.box.secretKeyLength=Zt,e.box.sharedKeyLength=Tr,e.box.nonceLength=Fs,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(a,l){if(We(a,l),l.length!==Nt)throw new Error("bad secret key size");var f=new Uint8Array(lt+a.length);return Ds(f,a,a.length,l),f},e.sign.open=function(a,l){if(We(a,l),l.length!==Et)throw new Error("bad public key size");var f=new Uint8Array(a.length),s=mr(f,a,a.length,l);if(s<0)return null;for(var u=new Uint8Array(s),_=0;_<u.length;_++)u[_]=f[_];return u},e.sign.detached=function(a,l){for(var f=e.sign(a,l),s=new Uint8Array(lt),u=0;u<s.length;u++)s[u]=f[u];return s},e.sign.detached.verify=function(a,l,f){if(We(a,l,f),l.length!==lt)throw new Error("bad signature size");if(f.length!==Et)throw new Error("bad public key size");var s=new Uint8Array(lt+a.length),u=new Uint8Array(lt+a.length),_;for(_=0;_<lt;_++)s[_]=l[_];for(_=0;_<a.length;_++)s[_+lt]=a[_];return mr(u,s,s.length,f)>=0},e.sign.keyPair=function(){var a=new Uint8Array(Et),l=new Uint8Array(Nt);return br(a,l),{publicKey:a,secretKey:l}},e.sign.keyPair.fromSecretKey=function(a){if(We(a),a.length!==Nt)throw new Error("bad secret key size");for(var l=new Uint8Array(Et),f=0;f<l.length;f++)l[f]=a[32+f];return{publicKey:l,secretKey:new Uint8Array(a)}},e.sign.keyPair.fromSeed=function(a){if(We(a),a.length!==Ar)throw new Error("bad seed size");for(var l=new Uint8Array(Et),f=new Uint8Array(Nt),s=0;s<32;s++)f[s]=a[s];return br(l,f,!0),{publicKey:l,secretKey:f}},e.sign.publicKeyLength=Et,e.sign.secretKeyLength=Nt,e.sign.seedLength=Ar,e.sign.signatureLength=lt,e.hash=function(a){We(a);var l=new Uint8Array(Ur);return St(l,a,a.length),l},e.hash.hashLength=Ur,e.verify=function(a,l){return We(a,l),a.length===0||l.length===0||a.length!==l.length?!1:C(a,0,l,0,a.length)===0},e.setPRNG=function(a){r=a},function(){var a=typeof self<"u"?self.crypto||self.msCrypto:null;if(a&&a.getRandomValues){var l=65536;e.setPRNG(function(f,s){var u,_=new Uint8Array(s);for(u=0;u<s;u+=l)a.getRandomValues(_.subarray(u,u+Math.min(s-u,l)));for(u=0;u<s;u++)f[u]=_[u];js(_)})}else typeof cc<"u"&&(a=Da,a&&a.randomBytes&&e.setPRNG(function(f,s){var u,_=a.randomBytes(s);for(u=0;u<s;u++)f[u]=_[u];js(_)}))}()})(n.exports?n.exports:self.nacl=self.nacl||{})})(gi);var fc=gi.exports;const Cn=Fa(fc);function lc(n,e,t,r){_i(n);const i=tc({dkLen:32,asyncTick:10},r),{c:o,dkLen:c,asyncTick:d}=i;if(Ir(o),Ir(c),Ir(d),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const p=Gn(e),y=Gn(t),m=new Uint8Array(c),x=bi.create(n,p),E=x._cloneInto().update(y);return{c:o,dkLen:c,asyncTick:d,DK:m,PRF:x,PRFSalt:E}}function uc(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),t}function dc(n,e,t,r){const{c:i,dkLen:o,DK:c,PRF:d,PRFSalt:p}=lc(n,e,t,r);let y;const m=new Uint8Array(4),x=Nn(m),E=new Uint8Array(d.outputLen);for(let N=1,z=0;z<o;N++,z+=d.outputLen){const C=c.subarray(z,z+d.outputLen);x.setInt32(0,N,!1),(y=p._cloneInto(y)).update(m).digestInto(E),C.set(E.subarray(0,C.length));for(let j=1;j<i;j++){d._cloneInto(y).update(E).digestInto(E);for(let Q=0;Q<C.length;Q++)C[Q]^=E[Q]}}return uc(d,p,c,y,E)}const[hc,pc]=se.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),xt=new Uint32Array(80),_t=new Uint32Array(80);let xc=class extends ac{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:o,Cl:c,Dh:d,Dl:p,Eh:y,El:m,Fh:x,Fl:E,Gh:N,Gl:z,Hh:C,Hl:j}=this;return[e,t,r,i,o,c,d,p,y,m,x,E,N,z,C,j]}set(e,t,r,i,o,c,d,p,y,m,x,E,N,z,C,j){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=c|0,this.Dh=d|0,this.Dl=p|0,this.Eh=y|0,this.El=m|0,this.Fh=x|0,this.Fl=E|0,this.Gh=N|0,this.Gl=z|0,this.Hh=C|0,this.Hl=j|0}process(e,t){for(let k=0;k<16;k++,t+=4)xt[k]=e.getUint32(t),_t[k]=e.getUint32(t+=4);for(let k=16;k<80;k++){const pe=xt[k-15]|0,we=_t[k-15]|0,Pe=se.rotrSH(pe,we,1)^se.rotrSH(pe,we,8)^se.shrSH(pe,we,7),Ve=se.rotrSL(pe,we,1)^se.rotrSL(pe,we,8)^se.shrSL(pe,we,7),ve=xt[k-2]|0,Te=_t[k-2]|0,je=se.rotrSH(ve,Te,19)^se.rotrBH(ve,Te,61)^se.shrSH(ve,Te,6),ge=se.rotrSL(ve,Te,19)^se.rotrBL(ve,Te,61)^se.shrSL(ve,Te,6),ze=se.add4L(Ve,ge,_t[k-7],_t[k-16]),Ye=se.add4H(ze,Pe,je,xt[k-7],xt[k-16]);xt[k]=Ye|0,_t[k]=ze|0}let{Ah:r,Al:i,Bh:o,Bl:c,Ch:d,Cl:p,Dh:y,Dl:m,Eh:x,El:E,Fh:N,Fl:z,Gh:C,Gl:j,Hh:Q,Hl:be}=this;for(let k=0;k<80;k++){const pe=se.rotrSH(x,E,14)^se.rotrSH(x,E,18)^se.rotrBH(x,E,41),we=se.rotrSL(x,E,14)^se.rotrSL(x,E,18)^se.rotrBL(x,E,41),Pe=x&N^~x&C,Ve=E&z^~E&j,ve=se.add5L(be,we,Ve,pc[k],_t[k]),Te=se.add5H(ve,Q,pe,Pe,hc[k],xt[k]),je=ve|0,ge=se.rotrSH(r,i,28)^se.rotrBH(r,i,34)^se.rotrBH(r,i,39),ze=se.rotrSL(r,i,28)^se.rotrBL(r,i,34)^se.rotrBL(r,i,39),Ye=r&o^r&d^o&d,ft=i&c^i&p^c&p;Q=C|0,be=j|0,C=N|0,j=z|0,N=x|0,z=E|0,{h:x,l:E}=se.add(y|0,m|0,Te|0,je|0),y=d|0,m=p|0,d=o|0,p=c|0,o=r|0,c=i|0;const Je=se.add3L(je,ze,ft);r=se.add3H(Je,Te,ge,Ye),i=Je|0}({h:r,l:i}=se.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:c}=se.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:d,l:p}=se.add(this.Ch|0,this.Cl|0,d|0,p|0),{h:y,l:m}=se.add(this.Dh|0,this.Dl|0,y|0,m|0),{h:x,l:E}=se.add(this.Eh|0,this.El|0,x|0,E|0),{h:N,l:z}=se.add(this.Fh|0,this.Fl|0,N|0,z|0),{h:C,l:j}=se.add(this.Gh|0,this.Gl|0,C|0,j|0),{h:Q,l:be}=se.add(this.Hh|0,this.Hl|0,Q|0,be|0),this.set(r,i,o,c,d,p,y,m,x,E,N,z,C,j,Q,be)}roundClean(){xt.fill(0),_t.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const _c=nc(()=>new xc);function wi(n){if(typeof n!="string")throw new TypeError(`Invalid mnemonic type: ${typeof n}`);return n.normalize("NFKD")}function yc(n){const e=wi(n),t=e.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:t}}const bc=n=>wi(`mnemonic${n}`);function gc(n,e=""){return dc(_c,yc(n).nfkd,bc(e),{c:2048,dkLen:64})}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wc=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4));function mi(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}const Cr=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),ot=(n,e)=>n<<32-e|n>>>e,mc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mc)throw new Error("Non little-endian hardware is not supported");const vc=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function vi(n){if(!mi(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=vc[n[t]];return e}const ut={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ks(n){if(n>=ut._0&&n<=ut._9)return n-ut._0;if(n>=ut._A&&n<=ut._F)return n-(ut._A-10);if(n>=ut._a&&n<=ut._f)return n-(ut._a-10)}function Ti(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,o=0;i<t;i++,o+=2){const c=Ks(n.charCodeAt(o)),d=Ks(n.charCodeAt(o+1));if(c===void 0||d===void 0){const p=n[o]+n[o+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+o)}r[i]=c*16+d}return r}function Tc(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Xn(n){if(typeof n=="string"&&(n=Tc(n)),!mi(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}class Xr{clone(){return this._cloneInto()}}function Qr(n){const e=r=>n().update(Xn(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Kn(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function Ac(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Zr(n,...e){if(!Ac(n))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function Uc(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Kn(n.outputLen),Kn(n.blockLen)}function Mt(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Ai(n,e){Zr(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}function Sc(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),o=BigInt(4294967295),c=Number(t>>i&o),d=Number(t&o),p=r?4:0,y=r?0:4;n.setUint32(e+p,c,r),n.setUint32(e+y,d,r)}class Ui extends Xr{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Cr(this.buffer)}update(e){Mt(this);const{view:t,buffer:r,blockLen:i}=this;e=Xn(e);const o=e.length;for(let c=0;c<o;){const d=Math.min(i-this.pos,o-c);if(d===i){const p=Cr(e);for(;i<=o-c;c+=i)this.process(p,c);continue}r.set(e.subarray(c,c+d),this.pos),this.pos+=d,c+=d,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mt(this),Ai(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:o}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let x=c;x<i;x++)t[x]=0;Sc(r,i-8,BigInt(this.length*8),o),this.process(r,0);const d=Cr(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=p/4,m=this.get();if(y>m.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<y;x++)d.setUint32(4*x,m[x],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:o,destroyed:c,pos:d}=this;return e.length=i,e.pos=d,e.finished=o,e.destroyed=c,i%t&&e.buffer.set(r),e}}const Ec=(n,e,t)=>n&e^~n&t,Bc=(n,e,t)=>n&e^n&t^e&t,Ic=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bt=new Uint32Array(64);class Cc extends Ui{constructor(){super(64,32,8,!1),this.A=yt[0]|0,this.B=yt[1]|0,this.C=yt[2]|0,this.D=yt[3]|0,this.E=yt[4]|0,this.F=yt[5]|0,this.G=yt[6]|0,this.H=yt[7]|0}get(){const{A:e,B:t,C:r,D:i,E:o,F:c,G:d,H:p}=this;return[e,t,r,i,o,c,d,p]}set(e,t,r,i,o,c,d,p){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=c|0,this.G=d|0,this.H=p|0}process(e,t){for(let x=0;x<16;x++,t+=4)bt[x]=e.getUint32(t,!1);for(let x=16;x<64;x++){const E=bt[x-15],N=bt[x-2],z=ot(E,7)^ot(E,18)^E>>>3,C=ot(N,17)^ot(N,19)^N>>>10;bt[x]=C+bt[x-7]+z+bt[x-16]|0}let{A:r,B:i,C:o,D:c,E:d,F:p,G:y,H:m}=this;for(let x=0;x<64;x++){const E=ot(d,6)^ot(d,11)^ot(d,25),N=m+E+Ec(d,p,y)+Ic[x]+bt[x]|0,C=(ot(r,2)^ot(r,13)^ot(r,22))+Bc(r,i,o)|0;m=y,y=p,p=d,d=c+N|0,c=o,o=i,i=r,r=N+C|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,c=c+this.D|0,d=d+this.E|0,p=p+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(r,i,o,c,d,p,y,m)}roundClean(){bt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const zc=Qr(()=>new Cc),zn=BigInt(2**32-1),Hr=BigInt(32);function Si(n,e=!1){return e?{h:Number(n&zn),l:Number(n>>Hr&zn)}:{h:Number(n>>Hr&zn)|0,l:Number(n&zn)|0}}function Ei(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:o,l:c}=Si(n[i],e);[t[i],r[i]]=[o,c]}return[t,r]}const kc=(n,e)=>BigInt(n>>>0)<<Hr|BigInt(e>>>0),Oc=(n,e,t)=>n>>>t,Nc=(n,e,t)=>n<<32-t|e>>>t,Rc=(n,e,t)=>n>>>t|e<<32-t,Pc=(n,e,t)=>n<<32-t|e>>>t,Hc=(n,e,t)=>n<<64-t|e>>>t-32,Lc=(n,e,t)=>n>>>t-32|e<<64-t,$c=(n,e)=>e,Mc=(n,e)=>n,Bi=(n,e,t)=>n<<t|e>>>32-t,Ii=(n,e,t)=>e<<t|n>>>32-t,Ci=(n,e,t)=>e<<t-32|n>>>64-t,zi=(n,e,t)=>n<<t-32|e>>>64-t;function Dc(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const Fc=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),qc=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,jc=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Gc=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,Kc=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),Wc=(n,e,t,r,i,o)=>e+t+r+i+o+(n/2**32|0)|0,ie={fromBig:Si,split:Ei,toBig:kc,shrSH:Oc,shrSL:Nc,rotrSH:Rc,rotrSL:Pc,rotrBH:Hc,rotrBL:Lc,rotr32H:$c,rotr32L:Mc,rotlSH:Bi,rotlSL:Ii,rotlBH:Ci,rotlBL:zi,add:Dc,add3L:Fc,add3H:qc,add4L:jc,add4H:Gc,add5H:Wc,add5L:Kc},[ki,Oi,Ni]=[[],[],[]],Vc=BigInt(0),tn=BigInt(1),Yc=BigInt(2),Jc=BigInt(7),Xc=BigInt(256),Qc=BigInt(113);for(let n=0,e=tn,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],ki.push(2*(5*r+t)),Oi.push((n+1)*(n+2)/2%64);let i=Vc;for(let o=0;o<7;o++)e=(e<<tn^(e>>Jc)*Qc)%Xc,e&Yc&&(i^=tn<<(tn<<BigInt(o))-tn);Ni.push(i)}const[Zc,ef]=Ei(Ni,!0),Ws=(n,e,t)=>t>32?Ci(n,e,t):Bi(n,e,t),Vs=(n,e,t)=>t>32?zi(n,e,t):Ii(n,e,t);function tf(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const d=(c+8)%10,p=(c+2)%10,y=t[p],m=t[p+1],x=Ws(y,m,1)^t[d],E=Vs(y,m,1)^t[d+1];for(let N=0;N<50;N+=10)n[c+N]^=x,n[c+N+1]^=E}let i=n[2],o=n[3];for(let c=0;c<24;c++){const d=Oi[c],p=Ws(i,o,d),y=Vs(i,o,d),m=ki[c];i=n[m],o=n[m+1],n[m]=p,n[m+1]=y}for(let c=0;c<50;c+=10){for(let d=0;d<10;d++)t[d]=n[c+d];for(let d=0;d<10;d++)n[c+d]^=~t[(d+2)%10]&t[(d+4)%10]}n[0]^=Zc[r],n[1]^=ef[r]}t.fill(0)}class es extends Xr{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Kn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=wc(this.state)}keccak(){tf(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Mt(this);const{blockLen:t,state:r}=this;e=Xn(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(t-this.pos,i-o);for(let d=0;d<c;d++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Mt(this,!1),Zr(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,o-i);e.set(t.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Kn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ai(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:o,enableXOF:c}=this;return e||(e=new es(t,r,i,c,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}}const nf=(n,e,t)=>Qr(()=>new es(e,n,t)),Dt=nf(6,136,256/8);class Ri extends Xr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Uc(e);const r=Xn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(e){return Mt(this),this.iHash.update(e),this}digestInto(e){Mt(this),Zr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:o,blockLen:c,outputLen:d}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=c,e.outputLen=d,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ts=(n,e,t)=>new Ri(n,e).update(t).digest();ts.create=(n,e)=>new Ri(n,e);const[rf,sf]=ie.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),gt=new Uint32Array(80),wt=new Uint32Array(80);class of extends Ui{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:o,Cl:c,Dh:d,Dl:p,Eh:y,El:m,Fh:x,Fl:E,Gh:N,Gl:z,Hh:C,Hl:j}=this;return[e,t,r,i,o,c,d,p,y,m,x,E,N,z,C,j]}set(e,t,r,i,o,c,d,p,y,m,x,E,N,z,C,j){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=c|0,this.Dh=d|0,this.Dl=p|0,this.Eh=y|0,this.El=m|0,this.Fh=x|0,this.Fl=E|0,this.Gh=N|0,this.Gl=z|0,this.Hh=C|0,this.Hl=j|0}process(e,t){for(let k=0;k<16;k++,t+=4)gt[k]=e.getUint32(t),wt[k]=e.getUint32(t+=4);for(let k=16;k<80;k++){const pe=gt[k-15]|0,we=wt[k-15]|0,Pe=ie.rotrSH(pe,we,1)^ie.rotrSH(pe,we,8)^ie.shrSH(pe,we,7),Ve=ie.rotrSL(pe,we,1)^ie.rotrSL(pe,we,8)^ie.shrSL(pe,we,7),ve=gt[k-2]|0,Te=wt[k-2]|0,je=ie.rotrSH(ve,Te,19)^ie.rotrBH(ve,Te,61)^ie.shrSH(ve,Te,6),ge=ie.rotrSL(ve,Te,19)^ie.rotrBL(ve,Te,61)^ie.shrSL(ve,Te,6),ze=ie.add4L(Ve,ge,wt[k-7],wt[k-16]),Ye=ie.add4H(ze,Pe,je,gt[k-7],gt[k-16]);gt[k]=Ye|0,wt[k]=ze|0}let{Ah:r,Al:i,Bh:o,Bl:c,Ch:d,Cl:p,Dh:y,Dl:m,Eh:x,El:E,Fh:N,Fl:z,Gh:C,Gl:j,Hh:Q,Hl:be}=this;for(let k=0;k<80;k++){const pe=ie.rotrSH(x,E,14)^ie.rotrSH(x,E,18)^ie.rotrBH(x,E,41),we=ie.rotrSL(x,E,14)^ie.rotrSL(x,E,18)^ie.rotrBL(x,E,41),Pe=x&N^~x&C,Ve=E&z^~E&j,ve=ie.add5L(be,we,Ve,sf[k],wt[k]),Te=ie.add5H(ve,Q,pe,Pe,rf[k],gt[k]),je=ve|0,ge=ie.rotrSH(r,i,28)^ie.rotrBH(r,i,34)^ie.rotrBH(r,i,39),ze=ie.rotrSL(r,i,28)^ie.rotrBL(r,i,34)^ie.rotrBL(r,i,39),Ye=r&o^r&d^o&d,ft=i&c^i&p^c&p;Q=C|0,be=j|0,C=N|0,j=z|0,N=x|0,z=E|0,{h:x,l:E}=ie.add(y|0,m|0,Te|0,je|0),y=d|0,m=p|0,d=o|0,p=c|0,o=r|0,c=i|0;const Je=ie.add3L(je,ze,ft);r=ie.add3H(Je,Te,ge,Ye),i=Je|0}({h:r,l:i}=ie.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:c}=ie.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:d,l:p}=ie.add(this.Ch|0,this.Cl|0,d|0,p|0),{h:y,l:m}=ie.add(this.Dh|0,this.Dl|0,y|0,m|0),{h:x,l:E}=ie.add(this.Eh|0,this.El|0,x|0,E|0),{h:N,l:z}=ie.add(this.Fh|0,this.Fl|0,N|0,z|0),{h:C,l:j}=ie.add(this.Gh|0,this.Gl|0,C|0,j|0),{h:Q,l:be}=ie.add(this.Hh|0,this.Hl|0,Q|0,be|0),this.set(r,i,o,c,d,p,y,m,x,E,N,z,C,j,Q,be)}roundClean(){gt.fill(0),wt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Pi=Qr(()=>new of);function Hi(n,e){return function(){return n.apply(e,arguments)}}const{toString:af}=Object.prototype,{getPrototypeOf:ns}=Object,Qn=(n=>e=>{const t=af.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ct=n=>(n=n.toLowerCase(),e=>Qn(e)===n),Zn=n=>e=>typeof e===n,{isArray:qt}=Array,on=Zn("undefined");function cf(n){return n!==null&&!on(n)&&n.constructor!==null&&!on(n.constructor)&&Qe(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Li=ct("ArrayBuffer");function ff(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Li(n.buffer),e}const lf=Zn("string"),Qe=Zn("function"),$i=Zn("number"),er=n=>n!==null&&typeof n=="object",uf=n=>n===!0||n===!1,Rn=n=>{if(Qn(n)!=="object")return!1;const e=ns(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},df=ct("Date"),hf=ct("File"),pf=ct("Blob"),xf=ct("FileList"),_f=n=>er(n)&&Qe(n.pipe),yf=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Qe(n.append)&&((e=Qn(n))==="formdata"||e==="object"&&Qe(n.toString)&&n.toString()==="[object FormData]"))},bf=ct("URLSearchParams"),gf=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function un(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),qt(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),c=o.length;let d;for(r=0;r<c;r++)d=o[r],e.call(null,n[d],d,n)}}function Mi(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Di=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fi=n=>!on(n)&&n!==Di;function Lr(){const{caseless:n}=Fi(this)&&this||{},e={},t=(r,i)=>{const o=n&&Mi(e,i)||i;Rn(e[o])&&Rn(r)?e[o]=Lr(e[o],r):Rn(r)?e[o]=Lr({},r):qt(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&un(arguments[r],t);return e}const wf=(n,e,t,{allOwnKeys:r}={})=>(un(e,(i,o)=>{t&&Qe(i)?n[o]=Hi(i,t):n[o]=i},{allOwnKeys:r}),n),mf=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),vf=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Tf=(n,e,t,r)=>{let i,o,c;const d={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)c=i[o],(!r||r(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&ns(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Af=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Uf=n=>{if(!n)return null;if(qt(n))return n;let e=n.length;if(!$i(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Sf=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ns(Uint8Array)),Ef=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},Bf=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},If=ct("HTMLFormElement"),Cf=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Ys=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),zf=ct("RegExp"),qi=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};un(t,(i,o)=>{let c;(c=e(i,o,n))!==!1&&(r[o]=c||i)}),Object.defineProperties(n,r)},kf=n=>{qi(n,(e,t)=>{if(Qe(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Qe(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Of=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return qt(n)?r(n):r(String(n).split(e)),t},Nf=()=>{},Rf=(n,e)=>(n=+n,Number.isFinite(n)?n:e),zr="abcdefghijklmnopqrstuvwxyz",Js="0123456789",ji={DIGIT:Js,ALPHA:zr,ALPHA_DIGIT:zr+zr.toUpperCase()+Js},Pf=(n=16,e=ji.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function Hf(n){return!!(n&&Qe(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Lf=n=>{const e=new Array(10),t=(r,i)=>{if(er(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=qt(r)?[]:{};return un(r,(c,d)=>{const p=t(c,i+1);!on(p)&&(o[d]=p)}),e[i]=void 0,o}}return r};return t(n,0)},$f=ct("AsyncFunction"),Mf=n=>n&&(er(n)||Qe(n))&&Qe(n.then)&&Qe(n.catch),v={isArray:qt,isArrayBuffer:Li,isBuffer:cf,isFormData:yf,isArrayBufferView:ff,isString:lf,isNumber:$i,isBoolean:uf,isObject:er,isPlainObject:Rn,isUndefined:on,isDate:df,isFile:hf,isBlob:pf,isRegExp:zf,isFunction:Qe,isStream:_f,isURLSearchParams:bf,isTypedArray:Sf,isFileList:xf,forEach:un,merge:Lr,extend:wf,trim:gf,stripBOM:mf,inherits:vf,toFlatObject:Tf,kindOf:Qn,kindOfTest:ct,endsWith:Af,toArray:Uf,forEachEntry:Ef,matchAll:Bf,isHTMLForm:If,hasOwnProperty:Ys,hasOwnProp:Ys,reduceDescriptors:qi,freezeMethods:kf,toObjectSet:Of,toCamelCase:Cf,noop:Nf,toFiniteNumber:Rf,findKey:Mi,global:Di,isContextDefined:Fi,ALPHABET:ji,generateString:Pf,isSpecCompliantForm:Hf,toJSONObject:Lf,isAsyncFn:$f,isThenable:Mf};function le(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}v.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Gi=le.prototype,Ki={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ki[n]={value:n}});Object.defineProperties(le,Ki);Object.defineProperty(Gi,"isAxiosError",{value:!0});le.from=(n,e,t,r,i,o)=>{const c=Object.create(Gi);return v.toFlatObject(n,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),le.call(c,n.message,e,t,r,i),c.cause=n,c.name=n.name,o&&Object.assign(c,o),c};const Df=null;function $r(n){return v.isPlainObject(n)||v.isArray(n)}function Wi(n){return v.endsWith(n,"[]")?n.slice(0,-2):n}function Xs(n,e,t){return n?n.concat(e).map(function(i,o){return i=Wi(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Ff(n){return v.isArray(n)&&!n.some($r)}const qf=v.toFlatObject(v,{},null,function(e){return/^is[A-Z]/.test(e)});function tr(n,e,t){if(!v.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=v.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,j){return!v.isUndefined(j[C])});const r=t.metaTokens,i=t.visitor||m,o=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(e);if(!v.isFunction(i))throw new TypeError("visitor must be a function");function y(z){if(z===null)return"";if(v.isDate(z))return z.toISOString();if(!p&&v.isBlob(z))throw new le("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(z)||v.isTypedArray(z)?p&&typeof Blob=="function"?new Blob([z]):Buffer.from(z):z}function m(z,C,j){let Q=z;if(z&&!j&&typeof z=="object"){if(v.endsWith(C,"{}"))C=r?C:C.slice(0,-2),z=JSON.stringify(z);else if(v.isArray(z)&&Ff(z)||(v.isFileList(z)||v.endsWith(C,"[]"))&&(Q=v.toArray(z)))return C=Wi(C),Q.forEach(function(k,pe){!(v.isUndefined(k)||k===null)&&e.append(c===!0?Xs([C],pe,o):c===null?C:C+"[]",y(k))}),!1}return $r(z)?!0:(e.append(Xs(j,C,o),y(z)),!1)}const x=[],E=Object.assign(qf,{defaultVisitor:m,convertValue:y,isVisitable:$r});function N(z,C){if(!v.isUndefined(z)){if(x.indexOf(z)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(z),v.forEach(z,function(Q,be){(!(v.isUndefined(Q)||Q===null)&&i.call(e,Q,v.isString(be)?be.trim():be,C,E))===!0&&N(Q,C?C.concat(be):[be])}),x.pop()}}if(!v.isObject(n))throw new TypeError("data must be an object");return N(n),e}function Qs(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rs(n,e){this._pairs=[],n&&tr(n,this,e)}const Vi=rs.prototype;Vi.append=function(e,t){this._pairs.push([e,t])};Vi.toString=function(e){const t=e?function(r){return e.call(this,r,Qs)}:Qs;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function jf(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Yi(n,e,t){if(!e)return n;const r=t&&t.encode||jf,i=t&&t.serialize;let o;if(i?o=i(e,t):o=v.isURLSearchParams(e)?e.toString():new rs(e,t).toString(r),o){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class Zs{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ji={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gf=typeof URLSearchParams<"u"?URLSearchParams:rs,Kf=typeof FormData<"u"?FormData:null,Wf=typeof Blob<"u"?Blob:null,Vf={isBrowser:!0,classes:{URLSearchParams:Gf,FormData:Kf,Blob:Wf},protocols:["http","https","file","blob","url","data"]},Xi=typeof window<"u"&&typeof document<"u",Yf=(n=>Xi&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),Jf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xi,hasStandardBrowserEnv:Yf,hasStandardBrowserWebWorkerEnv:Jf},Symbol.toStringTag,{value:"Module"})),at={...Xf,...Vf};function Qf(n,e){return tr(n,new at.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return at.isNode&&v.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Zf(n){return v.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function el(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function Qi(n){function e(t,r,i,o){let c=t[o++];const d=Number.isFinite(+c),p=o>=t.length;return c=!c&&v.isArray(i)?i.length:c,p?(v.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!d):((!i[c]||!v.isObject(i[c]))&&(i[c]=[]),e(t,r,i[c],o)&&v.isArray(i[c])&&(i[c]=el(i[c])),!d)}if(v.isFormData(n)&&v.isFunction(n.entries)){const t={};return v.forEachEntry(n,(r,i)=>{e(Zf(r),i,t,0)}),t}return null}function tl(n,e,t){if(v.isString(n))try{return(e||JSON.parse)(n),v.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const ss={transitional:Ji,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=v.isObject(e);if(o&&v.isHTMLForm(e)&&(e=new FormData(e)),v.isFormData(e))return i&&i?JSON.stringify(Qi(e)):e;if(v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e))return e;if(v.isArrayBufferView(e))return e.buffer;if(v.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Qf(e,this.formSerializer).toString();if((d=v.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return tr(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),tl(e)):e}],transformResponse:[function(e){const t=this.transitional||ss.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&v.isString(e)&&(r&&!this.responseType||i)){const c=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?le.from(d,le.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:at.classes.FormData,Blob:at.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],n=>{ss.headers[n]={}});const is=ss,nl=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rl=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(c){i=c.indexOf(":"),t=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!t||e[t]&&nl[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},ei=Symbol("internals");function nn(n){return n&&String(n).trim().toLowerCase()}function Pn(n){return n===!1||n==null?n:v.isArray(n)?n.map(Pn):String(n)}function sl(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const il=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function kr(n,e,t,r,i){if(v.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!v.isString(e)){if(v.isString(r))return e.indexOf(r)!==-1;if(v.isRegExp(r))return r.test(e)}}function ol(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function al(n,e){const t=v.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,c){return this[r].call(this,e,i,o,c)},configurable:!0})})}class nr{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(d,p,y){const m=nn(p);if(!m)throw new Error("header name must be a non-empty string");const x=v.findKey(i,m);(!x||i[x]===void 0||y===!0||y===void 0&&i[x]!==!1)&&(i[x||p]=Pn(d))}const c=(d,p)=>v.forEach(d,(y,m)=>o(y,m,p));return v.isPlainObject(e)||e instanceof this.constructor?c(e,t):v.isString(e)&&(e=e.trim())&&!il(e)?c(rl(e),t):e!=null&&o(t,e,r),this}get(e,t){if(e=nn(e),e){const r=v.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return sl(i);if(v.isFunction(t))return t.call(this,i,r);if(v.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nn(e),e){const r=v.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||kr(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(c){if(c=nn(c),c){const d=v.findKey(r,c);d&&(!t||kr(r,r[d],d,t))&&(delete r[d],i=!0)}}return v.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||kr(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return v.forEach(this,(i,o)=>{const c=v.findKey(r,o);if(c){t[c]=Pn(i),delete t[o];return}const d=e?ol(o):String(o).trim();d!==o&&delete t[o],t[d]=Pn(i),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return v.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&v.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ei]=this[ei]={accessors:{}}).accessors,i=this.prototype;function o(c){const d=nn(c);r[d]||(al(i,c),r[d]=!0)}return v.isArray(e)?e.forEach(o):o(e),this}}nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(nr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});v.freezeMethods(nr);const ht=nr;function Or(n,e){const t=this||is,r=e||t,i=ht.from(r.headers);let o=r.data;return v.forEach(n,function(d){o=d.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Zi(n){return!!(n&&n.__CANCEL__)}function dn(n,e,t){le.call(this,n??"canceled",le.ERR_CANCELED,e,t),this.name="CanceledError"}v.inherits(dn,le,{__CANCEL__:!0});function cl(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new le("Request failed with status code "+t.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const fl=at.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const c=[n+"="+encodeURIComponent(e)];v.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),v.isString(r)&&c.push("path="+r),v.isString(i)&&c.push("domain="+i),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ll(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ul(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function eo(n,e){return n&&!ll(e)?ul(n,e):e}const dl=at.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(o){let c=o;return e&&(t.setAttribute("href",c),c=t.href),t.setAttribute("href",c),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(c){const d=v.isString(c)?i(c):c;return d.protocol===r.protocol&&d.host===r.host}}():function(){return function(){return!0}}();function hl(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function pl(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,c;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),m=r[o];c||(c=y),t[i]=p,r[i]=y;let x=o,E=0;for(;x!==i;)E+=t[x++],x=x%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),y-c<e)return;const N=m&&y-m;return N?Math.round(E*1e3/N):void 0}}function ti(n,e){let t=0;const r=pl(50,250);return i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-t,p=r(d),y=o<=c;t=o;const m={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&y?(c-o)/p:void 0,event:i};m[e?"download":"upload"]=!0,n(m)}}const xl=typeof XMLHttpRequest<"u",_l=xl&&function(n){return new Promise(function(t,r){let i=n.data;const o=ht.from(n.headers).normalize();let{responseType:c,withXSRFToken:d}=n,p;function y(){n.cancelToken&&n.cancelToken.unsubscribe(p),n.signal&&n.signal.removeEventListener("abort",p)}let m;if(v.isFormData(i)){if(at.hasStandardBrowserEnv||at.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((m=o.getContentType())!==!1){const[C,...j]=m?m.split(";").map(Q=>Q.trim()).filter(Boolean):[];o.setContentType([C||"multipart/form-data",...j].join("; "))}}let x=new XMLHttpRequest;if(n.auth){const C=n.auth.username||"",j=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";o.set("Authorization","Basic "+btoa(C+":"+j))}const E=eo(n.baseURL,n.url);x.open(n.method.toUpperCase(),Yi(E,n.params,n.paramsSerializer),!0),x.timeout=n.timeout;function N(){if(!x)return;const C=ht.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),Q={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:C,config:n,request:x};cl(function(k){t(k),y()},function(k){r(k),y()},Q),x=null}if("onloadend"in x?x.onloadend=N:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(N)},x.onabort=function(){x&&(r(new le("Request aborted",le.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let j=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const Q=n.transitional||Ji;n.timeoutErrorMessage&&(j=n.timeoutErrorMessage),r(new le(j,Q.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,n,x)),x=null},at.hasStandardBrowserEnv&&(d&&v.isFunction(d)&&(d=d(n)),d||d!==!1&&dl(E))){const C=n.xsrfHeaderName&&n.xsrfCookieName&&fl.read(n.xsrfCookieName);C&&o.set(n.xsrfHeaderName,C)}i===void 0&&o.setContentType(null),"setRequestHeader"in x&&v.forEach(o.toJSON(),function(j,Q){x.setRequestHeader(Q,j)}),v.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),c&&c!=="json"&&(x.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&x.addEventListener("progress",ti(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",ti(n.onUploadProgress)),(n.cancelToken||n.signal)&&(p=C=>{x&&(r(!C||C.type?new dn(null,n,x):C),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(p),n.signal&&(n.signal.aborted?p():n.signal.addEventListener("abort",p)));const z=hl(E);if(z&&at.protocols.indexOf(z)===-1){r(new le("Unsupported protocol "+z+":",le.ERR_BAD_REQUEST,n));return}x.send(i||null)})},Mr={http:Df,xhr:_l};v.forEach(Mr,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ni=n=>`- ${n}`,yl=n=>v.isFunction(n)||n===null||n===!1,to={getAdapter:n=>{n=v.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let c;if(r=t,!yl(t)&&(r=Mr[(c=String(t)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${c}'`);if(r)break;i[c||"#"+o]=r}if(!r){const o=Object.entries(i).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(ni).join(`
`):" "+ni(o[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:Mr};function Nr(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new dn(null,n)}function ri(n){return Nr(n),n.headers=ht.from(n.headers),n.data=Or.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),to.getAdapter(n.adapter||is.adapter)(n).then(function(r){return Nr(n),r.data=Or.call(n,n.transformResponse,r),r.headers=ht.from(r.headers),r},function(r){return Zi(r)||(Nr(n),r&&r.response&&(r.response.data=Or.call(n,n.transformResponse,r.response),r.response.headers=ht.from(r.response.headers))),Promise.reject(r)})}const si=n=>n instanceof ht?n.toJSON():n;function Ft(n,e){e=e||{};const t={};function r(y,m,x){return v.isPlainObject(y)&&v.isPlainObject(m)?v.merge.call({caseless:x},y,m):v.isPlainObject(m)?v.merge({},m):v.isArray(m)?m.slice():m}function i(y,m,x){if(v.isUndefined(m)){if(!v.isUndefined(y))return r(void 0,y,x)}else return r(y,m,x)}function o(y,m){if(!v.isUndefined(m))return r(void 0,m)}function c(y,m){if(v.isUndefined(m)){if(!v.isUndefined(y))return r(void 0,y)}else return r(void 0,m)}function d(y,m,x){if(x in e)return r(y,m);if(x in n)return r(void 0,y)}const p={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(y,m)=>i(si(y),si(m),!0)};return v.forEach(Object.keys(Object.assign({},n,e)),function(m){const x=p[m]||i,E=x(n[m],e[m],m);v.isUndefined(E)&&x!==d||(t[m]=E)}),t}const no="1.6.2",os={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{os[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const ii={};os.transitional=function(e,t,r){function i(o,c){return"[Axios v"+no+"] Transitional option '"+o+"'"+c+(r?". "+r:"")}return(o,c,d)=>{if(e===!1)throw new le(i(c," has been removed"+(t?" in "+t:"")),le.ERR_DEPRECATED);return t&&!ii[c]&&(ii[c]=!0,console.warn(i(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,c,d):!0}};function bl(n,e,t){if(typeof n!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],c=e[o];if(c){const d=n[o],p=d===void 0||c(d,o,n);if(p!==!0)throw new le("option "+o+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new le("Unknown option "+o,le.ERR_BAD_OPTION)}}const Dr={assertOptions:bl,validators:os},mt=Dr.validators;class Wn{constructor(e){this.defaults=e,this.interceptors={request:new Zs,response:new Zs}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ft(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Dr.assertOptions(r,{silentJSONParsing:mt.transitional(mt.boolean),forcedJSONParsing:mt.transitional(mt.boolean),clarifyTimeoutError:mt.transitional(mt.boolean)},!1),i!=null&&(v.isFunction(i)?t.paramsSerializer={serialize:i}:Dr.assertOptions(i,{encode:mt.function,serialize:mt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=o&&v.merge(o.common,o[t.method]);o&&v.forEach(["delete","get","head","post","put","patch","common"],z=>{delete o[z]}),t.headers=ht.concat(c,o);const d=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(p=p&&C.synchronous,d.unshift(C.fulfilled,C.rejected))});const y=[];this.interceptors.response.forEach(function(C){y.push(C.fulfilled,C.rejected)});let m,x=0,E;if(!p){const z=[ri.bind(this),void 0];for(z.unshift.apply(z,d),z.push.apply(z,y),E=z.length,m=Promise.resolve(t);x<E;)m=m.then(z[x++],z[x++]);return m}E=d.length;let N=t;for(x=0;x<E;){const z=d[x++],C=d[x++];try{N=z(N)}catch(j){C.call(this,j);break}}try{m=ri.call(this,N)}catch(z){return Promise.reject(z)}for(x=0,E=y.length;x<E;)m=m.then(y[x++],y[x++]);return m}getUri(e){e=Ft(this.defaults,e);const t=eo(e.baseURL,e.url);return Yi(t,e.params,e.paramsSerializer)}}v.forEach(["delete","get","head","options"],function(e){Wn.prototype[e]=function(t,r){return this.request(Ft(r||{},{method:e,url:t,data:(r||{}).data}))}});v.forEach(["post","put","patch"],function(e){function t(r){return function(o,c,d){return this.request(Ft(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Wn.prototype[e]=t(),Wn.prototype[e+"Form"]=t(!0)});const Hn=Wn;class as{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const c=new Promise(d=>{r.subscribe(d),o=d}).then(i);return c.cancel=function(){r.unsubscribe(o)},c},e(function(o,c,d){r.reason||(r.reason=new dn(o,c,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new as(function(i){e=i}),cancel:e}}}const gl=as;function wl(n){return function(t){return n.apply(null,t)}}function ml(n){return v.isObject(n)&&n.isAxiosError===!0}const Fr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fr).forEach(([n,e])=>{Fr[e]=n});const vl=Fr;function ro(n){const e=new Hn(n),t=Hi(Hn.prototype.request,e);return v.extend(t,Hn.prototype,e,{allOwnKeys:!0}),v.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return ro(Ft(n,i))},t}const ke=ro(is);ke.Axios=Hn;ke.CanceledError=dn;ke.CancelToken=gl;ke.isCancel=Zi;ke.VERSION=no;ke.toFormData=tr;ke.AxiosError=le;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=wl;ke.isAxiosError=ml;ke.mergeConfig=Ft;ke.AxiosHeaders=ht;ke.formToJSON=n=>Qi(v.isHTMLForm(n)?new FormData(n):n);ke.getAdapter=to.getAdapter;ke.HttpStatusCode=vl;ke.default=ke;async function Tl(n){var e;const{params:t,method:r,url:i,headers:o,body:c,overrides:d}=n,p={headers:o,method:r,url:i,params:t,data:c,withCredentials:(e=d==null?void 0:d.WITH_CREDENTIALS)!=null?e:!0};try{const y=await ke(p);return{status:y.status,statusText:y.statusText,data:y.data,headers:y.headers,config:y.config}}catch(y){const m=y;if(m.response)return m.response;throw y}}var so=Object.defineProperty,Al=Object.getOwnPropertyDescriptor,rr=(n,e)=>{for(var t in e)so(n,t,{get:e[t],enumerable:!0})},_e=(n,e,t,r)=>{for(var i=r>1?void 0:r?Al(e,t):e,o=n.length-1,c;o>=0;o--)(c=n[o])&&(i=(r?c(e,t,i):c(i))||i);return r&&i&&so(e,t,i),i},Ul=/^m(\/[0-9]+')+$/,io=n=>n.replace("'",""),Sl="ed25519 seed",El=2147483648,Bl=n=>{const t=ts.create(Pi,Sl).update(Ti(n)).digest(),r=t.slice(0,32),i=t.slice(32);return{key:r,chainCode:i}},Il=({key:n,chainCode:e},t)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,t);const i=new Uint8Array(r),o=new Uint8Array([0]),c=new Uint8Array([...o,...n,...i]),d=ts.create(Pi,e).update(c).digest(),p=d.slice(0,32),y=d.slice(32);return{key:p,chainCode:y}},Cl=n=>Ul.test(n)?!n.split("/").slice(1).map(io).some(Number.isNaN):!1,zl=(n,e,t=El)=>{if(!Cl(n))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=Bl(e);return n.split("/").slice(1).map(io).map(c=>parseInt(c,10)).reduce((c,d)=>Il(c,d+t),{key:r,chainCode:i})},kl="1.21.0";async function Ol(n){return new Promise(e=>{setTimeout(e,n)})}var oi="/v1";function Nl(n){let e=`${n}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(oi)||(e=`${e}${oi}`),e}var oo=2e5,ao=20,Rl=20,qr="0x1::aptos_coin::AptosCoin";function sr(n){let e,t,r;return typeof n=="object"?(e=n.hashFunction,t=n.ttlMs,r=n.tags):e=n,(i,o,c)=>{if(c.value!=null)c.value=ai(c.value,e,t,r);else if(c.get!=null)c.get=ai(c.get,e,t,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function co(n,e){return sr({ttlMs:n,hashFunction:e})}var Ln=new Map;function Pl(n){const e=new Set;for(const t of n){const r=Ln.get(t);if(r)for(const i of r)e.has(i)||(i.clear(),e.add(i))}return e.size}function ai(n,e,t=0,r){const i=Symbol("__memoized_map__");return function(...o){let c;const d=this;d.hasOwnProperty(i)||Object.defineProperty(d,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const p=d[i];if(Array.isArray(r))for(const y of r)Ln.has(y)?Ln.get(y).push(p):Ln.set(y,[p]);if(e||o.length>0||t>0){let y;e===!0?y=o.map(E=>E.toString()).join("!"):e?y=e.apply(d,o):y=o[0];const m=`${y}__timestamp`;let x=!1;if(t>0)if(!p.has(m))x=!0;else{const E=p.get(m);x=Date.now()-E>t}p.has(y)&&!x?c=p.get(y):(c=n.apply(d,o),p.set(y,c),t>0&&p.set(m,Date.now()))}else{const y=d;p.has(y)?c=p.get(y):(c=n.apply(d,o),p.set(y,c))}return c}}var fo=class extends Error{constructor(n,e,t){super(t),this.name="AptosApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.data=e.data,this.request=n}},Hl={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function Ll(n,e,t,r,i,o){const c={...o==null?void 0:o.HEADERS,"x-aptos-client":`aptos-ts-sdk/${kl}`,"content-type":r??"application/json"};return o!=null&&o.TOKEN&&(c.Authorization=`Bearer ${o==null?void 0:o.TOKEN}`),await Tl({url:n,method:e,body:t,params:i,headers:c,overrides:o})}async function lo(n){const{url:e,endpoint:t,method:r,body:i,contentType:o,params:c,overrides:d}=n,p=`${e}/${t??""}`,y=await Ll(p,r,i,o,c,d),m={status:y.status,statusText:y.statusText,data:y.data,headers:y.headers,config:y.config,url:p};if(m.status>=200&&m.status<300)return m;const x=Hl[m.status];throw new fo(n,m,x??"Generic Error")}async function Ke(n){return await lo({...n,method:"GET"})}async function rn(n){return await lo({...n,method:"POST"})}async function ci(n){const e=[];let t;const r=n.params;for(;;){r.start=t;const i=await Ke({url:n.url,endpoint:n.endpoint,params:r,originMethod:n.originMethod,overrides:n.overrides});if(t=i.headers["x-aptos-cursor"],delete i.headers,e.push(...i.data),t==null)break}return e}var jr={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},$l={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},fi={"https://fullnode.mainnet.aptoslabs.com/v1":"mainnet","https://fullnode.testnet.aptoslabs.com/v1":"testnet","https://fullnode.devnet.aptoslabs.com/v1":"devnet","http://127.0.0.1:8080/v1":"local"},F=class $n{static fromBuffer(e){return $n.fromUint8Array(e)}static fromUint8Array(e){return new $n(vi(e))}static ensure(e){return typeof e=="string"?new $n(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(Ti(this.noPrefix()))}},me={};rr(me,{AccountAddress:()=>xe,AccountAuthenticator:()=>At,AccountAuthenticatorEd25519:()=>Ao,AccountAuthenticatorMultiEd25519:()=>So,ArgumentABI:()=>fr,AuthenticationKey:()=>Yr,ChainId:()=>gs,ChangeSet:()=>iu,Ed25519PublicKey:()=>rt,Ed25519Signature:()=>dt,EntryFunction:()=>or,EntryFunctionABI:()=>fn,FeePayerRawTransaction:()=>_s,Identifier:()=>qe,Module:()=>su,ModuleId:()=>cn,MultiAgentRawTransaction:()=>xs,MultiEd25519PublicKey:()=>ir,MultiEd25519Signature:()=>fs,MultiSig:()=>Wo,MultiSigTransactionPayload:()=>Go,RawTransaction:()=>Yt,RawTransactionWithData:()=>ps,RotationProofChallenge:()=>au,Script:()=>hs,ScriptABI:()=>lr,SignedTransaction:()=>ar,StructTag:()=>Vt,Transaction:()=>ha,TransactionArgument:()=>st,TransactionArgumentAddress:()=>Ss,TransactionArgumentBool:()=>Bs,TransactionArgumentU128:()=>As,TransactionArgumentU16:()=>ms,TransactionArgumentU256:()=>Us,TransactionArgumentU32:()=>vs,TransactionArgumentU64:()=>Ts,TransactionArgumentU8:()=>ws,TransactionArgumentU8Vector:()=>Es,TransactionAuthenticator:()=>jt,TransactionAuthenticatorEd25519:()=>ls,TransactionAuthenticatorFeePayer:()=>vo,TransactionAuthenticatorMultiAgent:()=>wo,TransactionAuthenticatorMultiEd25519:()=>us,TransactionPayload:()=>bn,TransactionPayloadEntryFunction:()=>bs,TransactionPayloadMultisig:()=>ta,TransactionPayloadScript:()=>ys,TransactionScriptABI:()=>Is,TypeArgumentABI:()=>cr,TypeTag:()=>$e,TypeTagAddress:()=>Bt,TypeTagBool:()=>Gt,TypeTagParser:()=>yn,TypeTagParserError:()=>Fo,TypeTagSigner:()=>Ho,TypeTagStruct:()=>It,TypeTagU128:()=>Wt,TypeTagU16:()=>hn,TypeTagU256:()=>xn,TypeTagU32:()=>pn,TypeTagU64:()=>Kt,TypeTagU8:()=>Ut,TypeTagVector:()=>_n,UserTransaction:()=>pa,WriteSet:()=>ou,objectStructTag:()=>eu,optionStructTag:()=>Zl,stringStructTag:()=>ds});var Ml={};rr(Ml,{Deserializer:()=>cs,Serializer:()=>Ae,bcsSerializeBool:()=>Jl,bcsSerializeBytes:()=>vt,bcsSerializeFixedBytes:()=>Ql,bcsSerializeStr:()=>Xl,bcsSerializeU128:()=>Vl,bcsSerializeU16:()=>Kl,bcsSerializeU256:()=>Yl,bcsSerializeU32:()=>Wl,bcsSerializeU8:()=>Gr,bcsSerializeUint64:()=>Gl,bcsToBytes:()=>pt,deserializeVector:()=>Ge,serializeVector:()=>Le,serializeVectorWithFunc:()=>jl});var Dl=2**8-1,Fl=2**16-1,an=2**32-1,uo=BigInt(2**64)-BigInt(1),ho=BigInt(2**128)-BigInt(1),ql=BigInt(2**256)-BigInt(1),Ae=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(n){for(;this.buffer.byteLength<this.offset+n;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(n){this.ensureBufferWillHandleSize(n.length),new Uint8Array(this.buffer,this.offset).set(n),this.offset+=n.length}serializeWithFunction(n,e,t){this.ensureBufferWillHandleSize(e);const r=new DataView(this.buffer,this.offset);n.apply(r,[0,t,!0]),this.offset+=e}serializeStr(n){const e=new TextEncoder;this.serializeBytes(e.encode(n))}serializeBytes(n){this.serializeU32AsUleb128(n.length),this.serialize(n)}serializeFixedBytes(n){this.serialize(n)}serializeBool(n){if(typeof n!="boolean")throw new Error("Value needs to be a boolean");const e=n?1:0;this.serialize(new Uint8Array([e]))}serializeU8(n){this.serialize(new Uint8Array([n]))}serializeU16(n){this.serializeWithFunction(DataView.prototype.setUint16,2,n)}serializeU32(n){this.serializeWithFunction(DataView.prototype.setUint32,4,n)}serializeU64(n){const e=BigInt(n.toString())&BigInt(an),t=BigInt(n.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(t))}serializeU128(n){const e=BigInt(n.toString())&uo,t=BigInt(n.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(t)}serializeU256(n){const e=BigInt(n.toString())&ho,t=BigInt(n.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(t)}serializeU32AsUleb128(n){let e=n;const t=[];for(;e>>>7;)t.push(e&127|128),e>>>=7;t.push(e),this.serialize(new Uint8Array(t))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};_e([Ct(0,Dl)],Ae.prototype,"serializeU8",1);_e([Ct(0,Fl)],Ae.prototype,"serializeU16",1);_e([Ct(0,an)],Ae.prototype,"serializeU32",1);_e([Ct(BigInt(0),uo)],Ae.prototype,"serializeU64",1);_e([Ct(BigInt(0),ho)],Ae.prototype,"serializeU128",1);_e([Ct(BigInt(0),ql)],Ae.prototype,"serializeU256",1);_e([Ct(0,an)],Ae.prototype,"serializeU32AsUleb128",1);function Ct(n,e,t){return(r,i,o)=>{const c=o.value;return o.value=function(p){const y=BigInt(p.toString());if(y>BigInt(e.toString())||y<BigInt(n.toString()))throw new Error(t||"Value is out of range");c.apply(this,[p])},o}}var cs=class{constructor(n){this.buffer=new ArrayBuffer(n.length),new Uint8Array(this.buffer).set(n,0),this.offset=0}read(n){if(this.offset+n>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+n);return this.offset+=n,e}deserializeStr(){const n=this.deserializeBytes();return new TextDecoder().decode(n)}deserializeBytes(){const n=this.deserializeUleb128AsU32();return new Uint8Array(this.read(n))}deserializeFixedBytes(n){return new Uint8Array(this.read(n))}deserializeBool(){const n=new Uint8Array(this.read(1))[0];if(n!==1&&n!==0)throw new Error("Invalid boolean value");return n===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const n=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(n))}deserializeU128(){const n=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|n)}deserializeU256(){const n=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|n)}deserializeUleb128AsU32(){let n=BigInt(0),e=0;for(;n<an;){const t=this.deserializeU8();if(n|=BigInt(t&127)<<BigInt(e),!(t&128))break;e+=7}if(n>an)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(n)}};function Le(n,e){e.serializeU32AsUleb128(n.length),n.forEach(t=>{t.serialize(e)})}function jl(n,e){const t=new Ae;t.serializeU32AsUleb128(n.length);const r=t[e];return n.forEach(i=>{r.call(t,i)}),t.getBytes()}function Ge(n,e){const t=n.deserializeUleb128AsU32(),r=[];for(let i=0;i<t;i+=1)r.push(e.deserialize(n));return r}function pt(n){const e=new Ae;return n.serialize(e),e.getBytes()}function Gl(n){const e=new Ae;return e.serializeU64(n),e.getBytes()}function Gr(n){const e=new Ae;return e.serializeU8(n),e.getBytes()}function Kl(n){const e=new Ae;return e.serializeU16(n),e.getBytes()}function Wl(n){const e=new Ae;return e.serializeU32(n),e.getBytes()}function Vl(n){const e=new Ae;return e.serializeU128(n),e.getBytes()}function Yl(n){const e=new Ae;return e.serializeU256(n),e.getBytes()}function Jl(n){const e=new Ae;return e.serializeBool(n),e.getBytes()}function Xl(n){const e=new Ae;return e.serializeStr(n),e.getBytes()}function vt(n){const e=new Ae;return e.serializeBytes(n),e.getBytes()}function Ql(n){const e=new Ae;return e.serializeFixedBytes(n),e.getBytes()}var Vn=class nt{constructor(e){if(e.length!==nt.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let t=F.ensure(e);t.noPrefix().length%2!==0&&(t=new F(`0${t.noPrefix()}`));const r=t.toUint8Array();if(r.length>nt.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===nt.LENGTH)return new nt(r);const i=new Uint8Array(nt.LENGTH);return i.set(r,nt.LENGTH-r.length),new nt(i)}static isValid(e){if(e==="")return!1;let t=F.ensure(e);return t.noPrefix().length%2!==0&&(t=new F(`0${t.noPrefix()}`)),t.toUint8Array().length<=nt.LENGTH}toHexString(){return F.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new nt(e.deserializeFixedBytes(nt.LENGTH))}static standardizeAddress(e){const t=e.toLowerCase();return`0x${(t.startsWith("0x")?t.slice(2):t).padStart(64,"0")}`}};Vn.LENGTH=32;Vn.CORE_CODE_ADDRESS=Vn.fromHex("0x1");var xe=Vn,po=class Mn{constructor(e){if(e.length!==Mn.LENGTH)throw new Error(`Ed25519PublicKey length should be ${Mn.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new Mn(t)}};po.LENGTH=32;var rt=po,xo=class Dn{constructor(e){if(this.value=e,e.length!==Dn.LENGTH)throw new Error(`Ed25519Signature length should be ${Dn.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new Dn(t)}};xo.LENGTH=64;var dt=xo,Kr=32,ir=class _o{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>Kr)throw new Error(`"threshold" cannot be larger than ${Kr}`)}toBytes(){const e=new Uint8Array(this.public_keys.length*rt.LENGTH+1);return this.public_keys.forEach((t,r)=>{e.set(t.value,r*rt.LENGTH)}),e[this.public_keys.length*rt.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),r=t[t.length-1],i=[];for(let o=0;o<t.length-1;o+=rt.LENGTH){const c=o;i.push(new rt(t.subarray(c,c+rt.LENGTH)))}return new _o(i,r)}},yo=class sn{constructor(e,t){if(this.signatures=e,this.bitmap=t,t.length!==sn.BITMAP_LEN)throw new Error(`"bitmap" length should be ${sn.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*dt.LENGTH+sn.BITMAP_LEN);return this.signatures.forEach((t,r)=>{e.set(t.value,r*dt.LENGTH)}),e.set(this.bitmap,this.signatures.length*dt.LENGTH),e}static createBitmap(e){const r=new Uint8Array([0,0,0,0]),i=new Set;return e.forEach(o=>{if(o>=Kr)throw new Error(`Invalid bit value ${o}.`);if(i.has(o))throw new Error("Duplicated bits detected.");i.add(o);const c=Math.floor(o/8);let d=r[c];d|=128>>o%8,r[c]=d}),r}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),r=t.subarray(t.length-4),i=[];for(let o=0;o<t.length-r.length;o+=dt.LENGTH){const c=o;i.push(new dt(t.subarray(c,c+dt.LENGTH)))}return new sn(i,r)}};yo.BITMAP_LEN=4;var fs=yo,jt=class{static deserialize(n){const e=n.deserializeUleb128AsU32();switch(e){case 0:return ls.load(n);case 1:return us.load(n);case 2:return wo.load(n);case 3:return vo.load(n);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},ls=class bo extends jt{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=rt.deserialize(e),r=dt.deserialize(e);return new bo(t,r)}},us=class go extends jt{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=ir.deserialize(e),r=fs.deserialize(e);return new go(t,r)}},wo=class mo extends jt{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),Le(this.secondary_signer_addresses,e),Le(this.secondary_signers,e)}static load(e){const t=At.deserialize(e),r=Ge(e,xe),i=Ge(e,At);return new mo(t,r,i)}},vo=class To extends jt{constructor(e,t,r,i){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r,this.fee_payer=i}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),Le(this.secondary_signer_addresses,e),Le(this.secondary_signers,e),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(e){const t=At.deserialize(e),r=Ge(e,xe),i=Ge(e,At),o=xe.deserialize(e),c=At.deserialize(e),d={address:o,authenticator:c};return new To(t,r,i,d)}},At=class{static deserialize(n){const e=n.deserializeUleb128AsU32();switch(e){case 0:return Ao.load(n);case 1:return So.load(n);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},Ao=class Uo extends At{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=rt.deserialize(e),r=dt.deserialize(e);return new Uo(t,r)}},So=class Eo extends At{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=ir.deserialize(e),r=fs.deserialize(e);return new Eo(t,r)}},qe=class Bo{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const t=e.deserializeStr();return new Bo(t)}},$e=class{static deserialize(n){const e=n.deserializeUleb128AsU32();switch(e){case 0:return Gt.load(n);case 1:return Ut.load(n);case 2:return Kt.load(n);case 3:return Wt.load(n);case 4:return Bt.load(n);case 5:return Ho.load(n);case 6:return _n.load(n);case 7:return It.load(n);case 8:return hn.load(n);case 9:return pn.load(n);case 10:return xn.load(n);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Gt=class Io extends $e{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new Io}},Ut=class Co extends $e{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Co}},hn=class zo extends $e{serialize(e){e.serializeU32AsUleb128(8)}static load(e){return new zo}},pn=class ko extends $e{serialize(e){e.serializeU32AsUleb128(9)}static load(e){return new ko}},Kt=class Oo extends $e{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Oo}},Wt=class No extends $e{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new No}},xn=class Ro extends $e{serialize(e){e.serializeU32AsUleb128(10)}static load(e){return new Ro}},Bt=class Po extends $e{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new Po}},Ho=class Lo extends $e{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new Lo}},_n=class $o extends $e{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const t=$e.deserialize(e);return new $o(t)}},It=class Mo extends $e{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const t=Vt.deserialize(e);return new Mo(t)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===xe.CORE_CODE_ADDRESS.toHexString()}},Vt=class Wr{constructor(e,t,r,i){this.address=e,this.module_name=t,this.name=r,this.type_args=i}static fromString(e){const t=new yn(e).parseTypeTag();return new Wr(t.value.address,t.value.module_name,t.value.name,t.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),Le(this.type_args,e)}static deserialize(e){const t=xe.deserialize(e),r=qe.deserialize(e),i=qe.deserialize(e),o=Ge(e,$e);return new Wr(t,r,i,o)}},ds=new Vt(xe.fromHex("0x1"),new qe("string"),new qe("String"),[]);function Zl(n){return new Vt(xe.fromHex("0x1"),new qe("option"),new qe("Option"),[n])}function eu(n){return new Vt(xe.fromHex("0x1"),new qe("object"),new qe("Object"),[n])}function Tt(n){throw new Fo(n)}function li(n){return!!n.match(/\s/)}function ui(n){return!!n.match(/[_A-Za-z0-9]/g)}function tu(n){return!!n.match(/T\d+/g)}function nu(n,e){const t=n[e];if(t===":"){if(n.slice(e,e+2)==="::")return[["COLON","::"],2];Tt("Unrecognized token.")}else{if(t==="<")return[["LT","<"],1];if(t===">")return[["GT",">"],1];if(t===",")return[["COMMA",","],1];if(li(t)){let r="";for(let i=e;i<n.length;i+=1){const o=n[i];if(li(o))r=`${r}${o}`;else break}return[["SPACE",r],r.length]}else if(ui(t)){let r="";for(let i=e;i<n.length;i+=1){const o=n[i];if(ui(o))r=`${r}${o}`;else break}return tu(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function ru(n){let e=0;const t=[];for(;e<n.length;){const[r,i]=nu(n,e);r[0]!=="SPACE"&&t.push(r),e+=i}return t}var yn=class Do{constructor(e,t){this.typeTags=[],this.tokens=ru(e),this.typeTags=t||[]}consume(e){const t=this.tokens.shift();(!t||t[1]!==e)&&Tt("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");this.tokens[0][1]!==">";)this.tokens[0][1]==="<"?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(e,t){const r=[];for(this.tokens.length<=0&&Tt("Invalid type tag.");this.tokens[0][1]!==e&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t)));)this.tokens.length<=0&&Tt("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&Tt("Invalid type tag.");const[e,t]=this.tokens.shift();if(t==="u8")return new Ut;if(t==="u16")return new hn;if(t==="u32")return new pn;if(t==="u64")return new Kt;if(t==="u128")return new Wt;if(t==="u256")return new xn;if(t==="bool")return new Gt;if(t==="address")return new Bt;if(t==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new _n(r)}if(t==="string")return new It(ds);if(e==="IDENT"&&(t.startsWith("0x")||t.startsWith("0X"))){const r=xe.fromHex(t);this.consume("::");const[i,o]=this.tokens.shift();i!=="IDENT"&&Tt("Invalid type tag."),this.consume("::");const[c,d]=this.tokens.shift();if(c!=="IDENT"&&Tt("Invalid type tag."),xe.CORE_CODE_ADDRESS.toHexString()===r.toHexString()&&o==="object"&&d==="Object")return this.consumeWholeGeneric(),new Bt;let p=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),p=this.parseCommaList(">",!0),this.consume(">"));const y=new Vt(r,new qe(o),new qe(d),p);return new It(y)}if(e==="GENERIC"){this.typeTags.length===0&&Tt("Can't convert generic type since no typeTags were specified.");const r=parseInt(t.substring(1),10);return new Do(this.typeTags[r]).parseTypeTag()}throw new Error("Invalid type tag.")}},Fo=class extends Error{constructor(n){super(n),this.name="TypeTagParserError"}},Yt=class qo{constructor(e,t,r,i,o,c,d){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=o,this.expiration_timestamp_secs=c,this.chain_id=d}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const t=xe.deserialize(e),r=e.deserializeU64(),i=bn.deserialize(e),o=e.deserializeU64(),c=e.deserializeU64(),d=e.deserializeU64(),p=gs.deserialize(e);return new qo(t,r,i,o,c,d,p)}},hs=class jo{constructor(e,t,r){this.code=e,this.ty_args=t,this.args=r}serialize(e){e.serializeBytes(this.code),Le(this.ty_args,e),Le(this.args,e)}static deserialize(e){const t=e.deserializeBytes(),r=Ge(e,$e),i=Ge(e,st);return new jo(t,r,i)}},or=class Fn{constructor(e,t,r,i){this.module_name=e,this.function_name=t,this.ty_args=r,this.args=i}static natural(e,t,r,i){return new Fn(cn.fromStr(e),new qe(t),r,i)}static natual(e,t,r,i){return Fn.natural(e,t,r,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),Le(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{e.serializeBytes(t)})}static deserialize(e){const t=cn.deserialize(e),r=qe.deserialize(e),i=Ge(e,$e),o=e.deserializeUleb128AsU32(),c=[];for(let p=0;p<o;p+=1)c.push(e.deserializeBytes());const d=c;return new Fn(t,r,i,d)}},Go=class Ko{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return e.deserializeUleb128AsU32(),new Ko(or.deserialize(e))}},Wo=class Vo{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const t=xe.deserialize(e),r=e.deserializeBool();let i;return r&&(i=Go.deserialize(e)),new Vo(t,i)}},su=class Yo{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const t=e.deserializeBytes();return new Yo(t)}},cn=class Vr{constructor(e,t){this.address=e,this.name=t}static fromStr(e){const t=e.split("::");if(t.length!==2)throw new Error("Invalid module id.");return new Vr(xe.fromHex(new F(t[0])),new qe(t[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const t=xe.deserialize(e),r=qe.deserialize(e);return new Vr(t,r)}},iu=class{serialize(n){throw new Error("Not implemented.")}static deserialize(n){throw new Error("Not implemented.")}},ou=class{serialize(n){throw new Error("Not implmented.")}static deserialize(n){throw new Error("Not implmented.")}},ar=class Jo{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const t=Yt.deserialize(e),r=jt.deserialize(e);return new Jo(t,r)}},ps=class{static deserialize(n){const e=n.deserializeUleb128AsU32();switch(e){case 0:return xs.load(n);case 1:return _s.load(n);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},xs=class Xo extends ps{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),Le(this.secondary_signer_addresses,e)}static load(e){const t=Yt.deserialize(e),r=Ge(e,xe);return new Xo(t,r)}},_s=class Qo extends ps{constructor(e,t,r){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=r}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),Le(this.secondary_signer_addresses,e),this.fee_payer_address.serialize(e)}static load(e){const t=Yt.deserialize(e),r=Ge(e,xe),i=xe.deserialize(e);return new Qo(t,r,i)}},bn=class{static deserialize(n){const e=n.deserializeUleb128AsU32();switch(e){case 0:return ys.load(n);case 2:return bs.load(n);case 3:return ta.load(n);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},ys=class Zo extends bn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const t=hs.deserialize(e);return new Zo(t)}},bs=class ea extends bn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const t=or.deserialize(e);return new ea(t)}},ta=class na extends bn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=Wo.deserialize(e);return new na(t)}},gs=class ra{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const t=e.deserializeU8();return new ra(t)}},st=class{static deserialize(n){const e=n.deserializeUleb128AsU32();switch(e){case 0:return ws.load(n);case 1:return Ts.load(n);case 2:return As.load(n);case 3:return Ss.load(n);case 4:return Es.load(n);case 5:return Bs.load(n);case 6:return ms.load(n);case 7:return vs.load(n);case 8:return Us.load(n);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},ws=class sa extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const t=e.deserializeU8();return new sa(t)}},ms=class ia extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const t=e.deserializeU16();return new ia(t)}},vs=class oa extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const t=e.deserializeU32();return new oa(t)}},Ts=class aa extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const t=e.deserializeU64();return new aa(t)}},As=class ca extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const t=e.deserializeU128();return new ca(t)}},Us=class fa extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const t=e.deserializeU256();return new fa(t)}},Ss=class la extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=xe.deserialize(e);return new la(t)}},Es=class ua extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const t=e.deserializeBytes();return new ua(t)}},Bs=class da extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const t=e.deserializeBool();return new da(t)}},ha=class{getHashSalt(){const n=Dt.create();return n.update("APTOS::Transaction"),n.digest()}static deserialize(n){const e=n.deserializeUleb128AsU32();switch(e){case 0:return pa.load(n);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},pa=class xa extends ha{constructor(e){super(),this.value=e}hash(){const e=Dt.create();return e.update(this.getHashSalt()),e.update(pt(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new xa(ar.deserialize(e))}},cr=class _a{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const t=e.deserializeStr();return new _a(t)}},fr=class ya{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const t=e.deserializeStr(),r=$e.deserialize(e);return new ya(t,r)}},lr=class{static deserialize(n){const e=n.deserializeUleb128AsU32();switch(e){case 0:return Is.load(n);case 1:return fn.load(n);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Is=class ba extends lr{constructor(e,t,r,i,o){super(),this.name=e,this.doc=t,this.code=r,this.ty_args=i,this.args=o}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Le(this.ty_args,e),Le(this.args,e)}static load(e){const t=e.deserializeStr(),r=e.deserializeStr(),i=e.deserializeBytes(),o=Ge(e,cr),c=Ge(e,fr);return new ba(t,r,i,o,c)}},fn=class ga extends lr{constructor(e,t,r,i,o){super(),this.name=e,this.module_name=t,this.doc=r,this.ty_args=i,this.args=o}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Le(this.ty_args,e),Le(this.args,e)}static load(e){const t=e.deserializeStr(),r=cn.deserialize(e),i=e.deserializeStr(),o=Ge(e,cr),c=Ge(e,fr);return new ga(t,r,i,o,c)}},gn=class Pt{constructor(e){if(e.length!==Pt.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const t=e.toBytes(),r=new Uint8Array(t.length+1);r.set(t),r.set([Pt.MULTI_ED25519_SCHEME],t.length);const i=Dt.create();return i.update(r),new Pt(i.digest())}static fromEd25519PublicKey(e){const t=e.value,r=new Uint8Array(t.length+1);r.set(t),r.set([Pt.ED25519_SCHEME],t.length);const i=Dt.create();return i.update(r),new Pt(i.digest())}derivedAddress(){return F.fromUint8Array(this.bytes)}};gn.LENGTH=32;gn.MULTI_ED25519_SCHEME=1;gn.ED25519_SCHEME=0;gn.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Yr=gn,au=class{constructor(n,e,t,r,i,o,c){this.accountAddress=n,this.moduleName=e,this.structName=t,this.sequenceNumber=r,this.originator=i,this.currentAuthKey=o,this.newPublicKey=c}serialize(n){this.accountAddress.serialize(n),n.serializeStr(this.moduleName),n.serializeStr(this.structName),n.serializeU64(this.sequenceNumber),this.originator.serialize(n),this.currentAuthKey.serialize(n),n.serializeBytes(this.newPublicKey)}},wa=class qn{static fromAptosAccountObject(e){return new qn(F.ensure(e.privateKeyHex).toUint8Array(),e.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(e,t){if(!qn.isValidPath(e))throw new Error("Invalid derivation path");const r=t.trim().split(/\s+/).map(o=>o.toLowerCase()).join(" "),{key:i}=zl(e,vi(gc(r)));return new qn(i)}constructor(e,t){e?this.signingKey=Cn.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=Cn.sign.keyPair(),this.accountAddress=F.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new rt(this.signingKey.publicKey);return Yr.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const r=pt(xe.fromHex(e)),i=new Uint8Array([...r,...t,Yr.DERIVE_RESOURCE_ACCOUNT_SCHEME]),o=Dt.create();return o.update(i),F.fromUint8Array(o.digest())}static getCollectionID(e,t){const r=new TextEncoder().encode(`${e}::${t}`),i=zc.create();return i.update(r),F.fromUint8Array(i.digest())}pubKey(){return F.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=Cn.sign.detached(e,this.signingKey.secretKey);return F.fromUint8Array(t)}signHexString(e){const t=F.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){const r=F.ensure(e).toUint8Array(),i=F.ensure(t).toUint8Array();return Cn.sign.detached.verify(r,i,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:F.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};_e([sr()],wa.prototype,"authKey",1);var Yn=wa;function kn(n){return n instanceof Yn?n.address():F.ensure(n)}var wn=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,cu=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,fu=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,ma=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,lu=`
    query getAccountCoinsDataCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,uu=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,du=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${cu}
${fu}`,hu=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,pu=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,xu=`
    query getAccountTransactionsData($where_condition: account_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [account_transactions_order_by!]) {
  account_transactions(
    where: $where_condition
    order_by: $order_by
    limit: $limit
    offset: $offset
  ) {
    token_activities_v2 {
      ...TokenActivitiesFields
    }
    transaction_version
    account_address
  }
}
    ${ma}`,_u=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collections_v2_order_by!]) {
  current_collections_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,yu=`
    query getCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,bu=`
    query getCurrentObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,gu=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,wu=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,mu=`
    query getNumberOfDelegators($poolAddress: String) {
  num_active_delegator_per_pool(
    where: {pool_address: {_eq: $poolAddress}, num_active_delegator: {_gt: "0"}}
    distinct_on: pool_address
  ) {
    num_active_delegator
    pool_address
  }
}
    `,vu=`
    query getOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,Tu=`
    query getOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,Au=`
    query getTokenActivities($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${ma}`,Uu=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_v2_aggregate(where: {token_data_id: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,Su=`
    query getTokenCurrentOwnerData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,Eu=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,Bu=`
    query getTokenOwnedFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,Iu=`
    query getTokenOwnersData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,Cu=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,zu=`
    query getUserTransactions($where_condition: user_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [user_transactions_order_by!]) {
  user_transactions(
    order_by: $order_by
    where: $where_condition
    limit: $limit
    offset: $offset
  ) {
    version
  }
}
    `;function ur(n,e,t){if(!(e!=null&&e.includes(typeof n)))throw new Error(t||`Invalid arg: ${n} type should be ${e instanceof Array?e.join(" or "):e}`)}function va(n){if(ur(n,["boolean","string"]),typeof n=="boolean")return n;if(n==="true")return!0;if(n==="false")return!1;throw new Error("Invalid boolean string.")}function Lt(n){if(ur(n,["number","string"]),typeof n=="number")return n;const e=Number.parseInt(n,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function $t(n){return ur(n,["number","bigint","string"]),BigInt(n)}function ku(n,e,t){Cs(n,e,t)}function Cs(n,e,t,r){if(e instanceof Gt)t.serializeBool(va(n));else if(e instanceof Ut)t.serializeU8(Lt(n));else if(e instanceof hn)t.serializeU16(Lt(n));else if(e instanceof pn)t.serializeU32(Lt(n));else if(e instanceof Kt)t.serializeU64($t(n));else if(e instanceof Wt)t.serializeU128($t(n));else if(e instanceof xn)t.serializeU256($t(n));else if(e instanceof Bt)Ta(n,t);else if(e instanceof _n)Ou(n,e,t);else if(e instanceof It)Nu(n,e,t);else throw new Error("Unsupported arg type.")}function Ta(n,e){let t;if(typeof n=="string"||n instanceof F)t=xe.fromHex(n);else if(n instanceof xe)t=n;else throw new Error("Invalid account address.");t.serialize(e)}function Ou(n,e,t,r){if(e.value instanceof Ut){if(n instanceof Uint8Array){t.serializeBytes(n);return}if(n instanceof F){t.serializeBytes(n.toUint8Array());return}if(typeof n=="string"){t.serializeStr(n);return}}if(!Array.isArray(n))throw new Error("Invalid vector args.");t.serializeU32AsUleb128(n.length),n.forEach(i=>Cs(i,e.value,t))}function Nu(n,e,t,r){const{address:i,module_name:o,name:c,type_args:d}=e.value,p=`${F.fromUint8Array(i.address).toShortString()}::${o.value}::${c.value}`;if(p==="0x1::string::String")ur(n,["string"]),t.serializeStr(n);else if(p==="0x1::object::Object")Ta(n,t);else if(p==="0x1::option::Option"){if(d.length!==1)throw new Error(`Option has the wrong number of type arguments ${d.length}`);Ru(n,d[0],t)}else throw new Error("Unsupported struct type in function argument")}function Ru(n,e,t,r){n==null?t.serializeU32AsUleb128(0):(t.serializeU32AsUleb128(1),Cs(n,e,t))}function Pu(n,e){if(e instanceof Gt)return new Bs(va(n));if(e instanceof Ut)return new ws(Lt(n));if(e instanceof hn)return new ms(Lt(n));if(e instanceof pn)return new vs(Lt(n));if(e instanceof Kt)return new Ts($t(n));if(e instanceof Wt)return new As($t(n));if(e instanceof xn)return new Us($t(n));if(e instanceof Bt){let t;if(typeof n=="string"||n instanceof F)t=xe.fromHex(n);else if(n instanceof xe)t=n;else throw new Error("Invalid account address.");return new Ss(t)}if(e instanceof _n&&e.value instanceof Ut){if(!(n instanceof Uint8Array))throw new Error(`${n} should be an instance of Uint8Array`);return new Es(n)}throw new Error("Unknown type for TransactionArgument.")}var Hu="APTOS::RawTransaction",di="APTOS::RawTransactionWithData",ln=class{constructor(n,e){this.rawTxnBuilder=e,this.signingFunction=n}build(n,e,t){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(n,e,t)}static getSigningMessage(n){const e=Dt.create();if(n instanceof Yt)e.update(Hu);else if(n instanceof xs)e.update(di);else if(n instanceof _s)e.update(di);else throw new Error("Unknown transaction type.");const t=e.digest(),r=pt(n),i=new Uint8Array(t.length+r.length);return i.set(t),i.set(r,t.length),i}},Rr=class extends ln{constructor(n,e,t){super(n,t),this.publicKey=e}rawToSigned(n){const e=ln.getSigningMessage(n),t=this.signingFunction(e),r=new ls(new rt(this.publicKey),t);return new ar(n,r)}sign(n){return pt(this.rawToSigned(n))}},Lu=class extends ln{constructor(n,e){super(n),this.publicKey=e}rawToSigned(n){const e=ln.getSigningMessage(n),t=this.signingFunction(e),r=new us(this.publicKey,t);return new ar(n,r)}sign(n){return pt(this.rawToSigned(n))}},$u=class Jr{constructor(e,t){this.abiMap=new Map,e.forEach(r=>{const i=new cs(r),o=lr.deserialize(i);let c;if(o instanceof fn){const d=o,{address:p,name:y}=d.module_name;c=`${F.fromUint8Array(p.address).toShortString()}::${y.value}::${d.name}`}else c=o.name;if(this.abiMap.has(c))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(c,o)}),this.builderConfig={maxGasAmount:BigInt(oo),expSecFromNow:ao,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((r,i)=>{const o=new Ae;return ku(r,e[i].type_tag,o),o.getBytes()})}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((r,i)=>Pu(r,e[i].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,t,r){const i=t.map(d=>new yn(d).parseTypeTag());let o;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const c=this.abiMap.get(e);if(c instanceof fn){const d=c,p=Jr.toBCSArgs(d.args,r);o=new bs(new or(d.module_name,new qe(d.name),i,p))}else if(c instanceof Is){const d=c,p=Jr.toTransactionArguments(d.args,r);o=new ys(new hs(d.code,i,p))}else throw new Error("Unknown ABI format.");return o}build(e,t,r){const{sender:i,sequenceNumber:o,gasUnitPrice:c,maxGasAmount:d,expSecFromNow:p,chainId:y}=this.builderConfig;if(!c)throw new Error("No gasUnitPrice provided.");const m=i instanceof xe?i:xe.fromHex(i),x=BigInt(Math.floor(Date.now()/1e3)+Number(p)),E=this.buildTransactionPayload(e,t,r);if(E)return new Yt(m,BigInt(o),E,BigInt(d),BigInt(c),x,new gs(Number(y)));throw new Error("Invalid ABI.")}},dr=class{constructor(n,e){this.aptosClient=n,this.builderConfig=e}async fetchABI(n){const t=(await this.aptosClient.getAccountModules(n)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(o=>o.is_entry).map(o=>({fullName:`${i.address}::${i.name}::${o.name}`,...o}))),r=new Map;return t.forEach(i=>{r.set(i.fullName,i)}),r}async build(n,e,t){if(n=(k=>k.replace(/^0[xX]0*/g,"0x"))(n),n.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[o,c]=n.split("::"),d=await this.fetchABI(o);if(!d.has(n))throw new Error(`${n} doesn't exist.`);const p=d.get(n),m=p.params.filter(k=>k!=="signer"&&k!=="&signer").map((k,pe)=>new fr(`var${pe}`,new yn(k,e).parseTypeTag())),x=new fn(p.name,cn.fromStr(`${o}::${c}`),"",p.generic_type_params.map((k,pe)=>new cr(`${pe}`)),m),{sender:E,...N}=this.builderConfig,z=E instanceof xe?F.fromUint8Array(E.address):E,[{sequence_number:C},j,{gas_estimate:Q}]=await Promise.all([N!=null&&N.sequenceNumber?Promise.resolve({sequence_number:N==null?void 0:N.sequenceNumber}):this.aptosClient.getAccount(z),N!=null&&N.chainId?Promise.resolve(N==null?void 0:N.chainId):this.aptosClient.getChainId(),N!=null&&N.gasUnitPrice?Promise.resolve({gas_estimate:N==null?void 0:N.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new $u([pt(x)],{sender:E,sequenceNumber:C,chainId:j,gasUnitPrice:BigInt(Q),...N}).build(n,e,t)}};_e([co(10*60*1e3)],dr.prototype,"fetchABI",1);var Be=class Ht{constructor(e,t,r=!1){if(!e)throw new Error("Node URL cannot be empty.");r?this.nodeUrl=e:this.nodeUrl=Nl(e),this.config=t==null?{}:{...t}}async getAccount(e){const{data:t}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}`,originMethod:"getAccount",overrides:{...this.config}});return t}async getAccountTransactions(e,t){const{data:r}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/transactions`,originMethod:"getAccountTransactions",params:{start:t==null?void 0:t.start,limit:t==null?void 0:t.limit},overrides:{...this.config}});return r}async getAccountModules(e,t){return await ci({url:this.nodeUrl,endpoint:`accounts/${e}/modules`,params:{ledger_version:t==null?void 0:t.ledgerVersion,limit:1e3},originMethod:"getAccountModules",overrides:{...this.config}})}async getAccountModule(e,t,r){const{data:i}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/module/${t}`,originMethod:"getAccountModule",params:{ledger_version:r==null?void 0:r.ledgerVersion},overrides:{...this.config}});return i}async getAccountResources(e,t){return await ci({url:this.nodeUrl,endpoint:`accounts/${e}/resources`,params:{ledger_version:t==null?void 0:t.ledgerVersion,limit:9999},originMethod:"getAccountResources",overrides:{...this.config}})}async getAccountResource(e,t,r){const{data:i}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/resource/${t}`,originMethod:"getAccountResource",params:{ledger_version:r==null?void 0:r.ledgerVersion},overrides:{...this.config}});return i}static generateBCSTransaction(e,t){return new Rr(i=>{const o=e.signBuffer(i);return new me.Ed25519Signature(o.toUint8Array())},e.pubKey().toUint8Array()).sign(t)}static generateBCSSimulation(e,t){return new Rr(i=>{const o=new Uint8Array(64);return new me.Ed25519Signature(o)},e.pubKey().toUint8Array()).sign(t)}async generateTransaction(e,t,r){const i={sender:e};if(r!=null&&r.sequence_number&&(i.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(i.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(i.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const c=Number.parseInt(r.expiration_timestamp_secs,10);i.expSecFromNow=c-Math.floor(Date.now()/1e3)}return new dr(this,i).build(t.function,t.type_arguments,t.arguments)}async generateFeePayerTransaction(e,t,r,i=[],o){const c=await this.generateTransaction(e,t,o),d=i.map(y=>xe.fromHex(y));return new me.FeePayerRawTransaction(c,d,xe.fromHex(r))}async submitFeePayerTransaction(e,t,r,i=[]){const o=new me.TransactionAuthenticatorFeePayer(t,e.secondary_signer_addresses,i,{address:e.fee_payer_address,authenticator:r}),c=pt(new me.SignedTransaction(e.raw_txn,o));return await this.submitSignedBCSTransaction(c)}async signMultiTransaction(e,t){const r=new me.Ed25519Signature(e.signBuffer(ln.getSigningMessage(t)).toUint8Array()),i=new me.AccountAuthenticatorEd25519(new me.Ed25519PublicKey(e.signingKey.publicKey),r);return Promise.resolve(i)}async signTransaction(e,t){return Promise.resolve(Ht.generateBCSTransaction(e,t))}async getEventsByCreationNumber(e,t,r){const{data:i}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/events/${t}`,originMethod:"getEventsByCreationNumber",params:{start:r==null?void 0:r.start,limit:r==null?void 0:r.limit},overrides:{...this.config}});return i}async getEventsByEventHandle(e,t,r,i){const{data:o}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/events/${t}/${r}`,originMethod:"getEventsByEventHandle",params:{start:i==null?void 0:i.start,limit:i==null?void 0:i.limit},overrides:{...this.config}});return o}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,t,r){let i;return e instanceof Yn?i=Ht.generateBCSSimulation(e,t):e instanceof ir?i=new Lu(()=>{const{threshold:c}=e,d=[],p=[];for(let m=0;m<c;m+=1)d.push(m),p.push(new me.Ed25519Signature(new Uint8Array(64)));const y=me.MultiEd25519Signature.createBitmap(d);return new me.MultiEd25519Signature(p,y)},e).sign(t):i=new Rr(()=>{const c=new Uint8Array(64);return new me.Ed25519Signature(c)},e.toBytes()).sign(t),this.submitBCSSimulation(i,r)}async submitSignedBCSTransaction(e){const{data:t}=await rn({url:this.nodeUrl,body:e,endpoint:"transactions",originMethod:"submitSignedBCSTransaction",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return t}async submitBCSSimulation(e,t){var r,i,o;const c={estimate_gas_unit_price:(r=t==null?void 0:t.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(i=t==null?void 0:t.estimateMaxGasAmount)!=null?i:!1,estimate_prioritized_gas_unit_price:(o=t==null?void 0:t.estimatePrioritizedGasUnitPrice)!=null?o:!1},{data:d}=await rn({url:this.nodeUrl,body:e,endpoint:"transactions/simulate",params:c,originMethod:"submitBCSSimulation",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return d}async getTransactions(e){var t;const{data:r}=await Ke({url:this.nodeUrl,endpoint:"transactions",originMethod:"getTransactions",params:{start:(t=e==null?void 0:e.start)==null?void 0:t.toString(),limit:e==null?void 0:e.limit},overrides:{...this.config}});return r}async getTransactionByHash(e){const{data:t}=await Ke({url:this.nodeUrl,endpoint:`transactions/by_hash/${e}`,originMethod:"getTransactionByHash",overrides:{...this.config}});return t}async getTransactionByVersion(e){const{data:t}=await Ke({url:this.nodeUrl,endpoint:`transactions/by_version/${e}`,originMethod:"getTransactionByVersion",overrides:{...this.config}});return t}async transactionPending(e){try{return(await this.getTransactionByHash(e)).type==="pending_transaction"}catch(t){if((t==null?void 0:t.status)===404)return!0;throw t}}async waitForTransactionWithResult(e,t){var r,i;const o=(r=t==null?void 0:t.timeoutSecs)!=null?r:Rl,c=(i=t==null?void 0:t.checkSuccess)!=null?i:!1;let d=!0,p=0,y;for(;d&&!(p>=o);){try{if(y=await this.getTransactionByHash(e),d=y.type==="pending_transaction",!d)break}catch(m){const x=m instanceof zs,E=x&&m.status!==404&&m.status>=400&&m.status<500;if(!x||E)throw m}await Ol(1e3),p+=1}if(y===void 0)throw new Error(`Waiting for transaction ${e} failed`);if(d)throw new Mu(`Waiting for transaction ${e} timed out after ${o} seconds`,y);if(!c)return y;if(!(y!=null&&y.success))throw new Du(`Transaction ${e} failed with an error: ${y.vm_status}`,y);return y}async waitForTransaction(e,t){await this.waitForTransactionWithResult(e,t)}async getLedgerInfo(){const{data:e}=await Ke({url:this.nodeUrl,originMethod:"getLedgerInfo",overrides:{...this.config}});return e}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,t,r){var i;return(await rn({url:this.nodeUrl,body:t,endpoint:`tables/${e}/item`,originMethod:"getTableItem",params:{ledger_version:(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString()},overrides:{...this.config}})).data}async generateRawTransaction(e,t,r){const[{sequence_number:i},o,{gas_estimate:c}]=await Promise.all([r!=null&&r.providedSequenceNumber?Promise.resolve({sequence_number:r.providedSequenceNumber}):this.getAccount(e),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:d,gasUnitPrice:p,expireTimestamp:y}={maxGasAmount:BigInt(oo),gasUnitPrice:BigInt(c),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+ao),...r};return new me.RawTransaction(me.AccountAddress.fromHex(e),BigInt(i),t,d,p,y,new me.ChainId(o))}async generateSignSubmitTransaction(e,t,r){const i=await this.generateRawTransaction(e.address(),t,r),o=Ht.generateBCSTransaction(e,i);return(await this.submitSignedBCSTransaction(o)).hash}async signAndSubmitTransaction(e,t){const r=Ht.generateBCSTransaction(e,t);return(await this.submitSignedBCSTransaction(r)).hash}async publishPackage(e,t,r,i){const o=new Ae;Le(r,o);const c=new me.TransactionPayloadEntryFunction(me.EntryFunction.natural("0x1::code","publish_package_txn",[],[vt(t),o.getBytes()]));return this.generateSignSubmitTransaction(e,c,i)}async createResourceAccountAndPublishPackage(e,t,r,i,o){const c=new Ae;Le(i,c);const d=new me.TransactionPayloadEntryFunction(me.EntryFunction.natural("0x1::resource_account","create_resource_account_and_publish_package",[],[vt(t),vt(r),c.getBytes()]));return this.generateSignSubmitTransaction(e,d,o)}async generateSignSubmitWaitForTransaction(e,t,r){const i=await this.generateSignSubmitTransaction(e,t,r);return this.waitForTransactionWithResult(i,r)}async estimateGasPrice(){const{data:e}=await Ke({url:this.nodeUrl,endpoint:"estimate_gas_price",originMethod:"estimateGasPrice",overrides:{...this.config}});return e}async estimateMaxGasAmount(e){const t=`0x1::coin::CoinStore<${qr}>`,[{gas_estimate:r},i]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),o=i.find(d=>d.type===t);return BigInt(o.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(e,t,r){const{sequence_number:i,authentication_key:o}=await this.getAccount(e.address()),c=new Yn(t),d=new me.RotationProofChallenge(me.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),me.AccountAddress.fromHex(e.address()),new me.AccountAddress(new F(o).toUint8Array()),c.pubKey().toUint8Array()),p=F.fromUint8Array(pt(d)),y=e.signHexString(p),m=c.signHexString(p),x=new me.TransactionPayloadEntryFunction(me.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[Gr(0),vt(e.pubKey().toUint8Array()),Gr(0),vt(c.pubKey().toUint8Array()),vt(y.toUint8Array()),vt(m.toUint8Array())])),E=await this.generateRawTransaction(e.address(),x,r),N=Ht.generateBCSTransaction(e,E);return this.submitSignedBCSTransaction(N)}async lookupOriginalAddress(e){const t=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=t.data,i=await this.getTableItem(r,{key_type:"address",value_type:"address",key:F.ensure(e).hex()});return new F(i)}async getBlockByHeight(e,t){const{data:r}=await Ke({url:this.nodeUrl,endpoint:`blocks/by_height/${e}`,originMethod:"getBlockByHeight",params:{with_transactions:t},overrides:{...this.config}});return r}async getBlockByVersion(e,t){const{data:r}=await Ke({url:this.nodeUrl,endpoint:`blocks/by_version/${e}`,originMethod:"getBlockByVersion",params:{with_transactions:t},overrides:{...this.config}});return r}async view(e,t){const{data:r}=await rn({url:this.nodeUrl,body:e,endpoint:"view",originMethod:"getTableItem",params:{ledger_version:t},overrides:{...this.config}});return r}clearCache(e){Pl(e)}};_e([Oe],Be.prototype,"getAccount",1);_e([Oe],Be.prototype,"getAccountTransactions",1);_e([Oe,co(10*60*1e3)],Be.prototype,"getAccountModules",1);_e([Oe],Be.prototype,"getAccountModule",1);_e([Oe],Be.prototype,"getAccountResources",1);_e([Oe],Be.prototype,"getAccountResource",1);_e([Oe],Be.prototype,"getEventsByCreationNumber",1);_e([Oe],Be.prototype,"getEventsByEventHandle",1);_e([Oe],Be.prototype,"submitSignedBCSTransaction",1);_e([Oe],Be.prototype,"submitBCSSimulation",1);_e([Oe],Be.prototype,"getTransactions",1);_e([Oe],Be.prototype,"getTransactionByHash",1);_e([Oe],Be.prototype,"getTransactionByVersion",1);_e([Oe],Be.prototype,"getLedgerInfo",1);_e([sr()],Be.prototype,"getChainId",1);_e([Oe],Be.prototype,"getTableItem",1);_e([Oe,sr({ttlMs:5*60*1e3,tags:["gas_estimates"]})],Be.prototype,"estimateGasPrice",1);_e([Oe],Be.prototype,"estimateMaxGasAmount",1);_e([Oe],Be.prototype,"getBlockByHeight",1);_e([Oe],Be.prototype,"getBlockByVersion",1);_e([Oe],Be.prototype,"view",1);var hr=Be,Mu=class extends Error{constructor(n,e){super(n),this.lastSubmittedTransaction=e}},Du=class extends Error{constructor(n,e){super(n),this.transaction=e}},zs=class extends Error{constructor(n,e,t,r){super(e),this.status=n,this.message=e,this.errorCode=t,this.vmErrorCode=r}};function Oe(n,e,t){const r=t.value;return t.value=async function(...o){var c,d;try{return await r.apply(this,[...o])}catch(p){throw p instanceof fo?new zs(p.status,JSON.stringify({message:p.message,...p.data}),(c=p.data)==null?void 0:c.error_code,(d=p.data)==null?void 0:d.vm_error_code):p}},t}var Aa=class Ce{constructor(e,t){this.endpoint=e,this.config=t}static validateAddress(e){if(e.length<66)throw new Error(`${e} is less than 66 chars long.`)}async queryIndexer(e){const t=await rn({url:this.endpoint,body:e,overrides:{WITH_CREDENTIALS:!1,...this.config}});if(t.data.errors)throw new zs(t.data.errors[0].extensions.code,JSON.stringify({message:t.data.errors[0].message,error_code:t.data.errors[0].extensions.code}));return t.data.data}async getIndexerLedgerInfo(){const e={query:wu};return this.queryIndexer(e)}async getAccountNFTs(e,t){const r=F.ensure(e).hex();Ce.validateAddress(r);const i={query:du,variables:{address:r,offset:t==null?void 0:t.offset,limit:t==null?void 0:t.limit}};return this.queryIndexer(i)}async getTokenActivities(e,t){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={token_data_id:{_eq:o}};t!=null&&t.tokenStandard&&(c.token_standard={_eq:t==null?void 0:t.tokenStandard});const d={query:Au,variables:{where_condition:c,offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(d)}async getTokenActivitiesCount(e){const t={query:Uu,variables:{token_id:e}};return this.queryIndexer(t)}async getAccountTokensCount(e,t){var r,i;const o={owner_address:{_eq:e},amount:{_gt:"0"}};t!=null&&t.tokenStandard&&(o.token_standard={_eq:t==null?void 0:t.tokenStandard});const c=F.ensure(e).hex();Ce.validateAddress(c);const d={query:hu,variables:{where_condition:o,offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit}};return this.queryIndexer(d)}async getTokenData(e,t){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={token_data_id:{_eq:o}};t!=null&&t.tokenStandard&&(c.token_standard={_eq:t==null?void 0:t.tokenStandard});const d={query:Eu,variables:{where_condition:c,offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(d)}async getTokenOwnersData(e,t,r){var i,o;const c=F.ensure(e).hex();Ce.validateAddress(c);const d={token_data_id:{_eq:c},amount:{_gt:"0"}};t&&(d.property_version_v1={_eq:t}),r!=null&&r.tokenStandard&&(d.token_standard={_eq:r==null?void 0:r.tokenStandard});const p={query:Iu,variables:{where_condition:d,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(p)}async getTokenCurrentOwnerData(e,t,r){var i,o;const c=F.ensure(e).hex();Ce.validateAddress(c);const d={token_data_id:{_eq:c},amount:{_gt:"0"}};t&&(d.property_version_v1={_eq:t}),r!=null&&r.tokenStandard&&(d.token_standard={_eq:r==null?void 0:r.tokenStandard});const p={query:Su,variables:{where_condition:d,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(p)}async getOwnedTokens(e,t){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={owner_address:{_eq:o},amount:{_gt:0}};t!=null&&t.tokenStandard&&(c.token_standard={_eq:t==null?void 0:t.tokenStandard});const d={query:vu,variables:{where_condition:c,offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(d)}async getOwnedTokensByTokenData(e,t){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={token_data_id:{_eq:o},amount:{_gt:0}};t!=null&&t.tokenStandard&&(c.token_standard={_eq:t==null?void 0:t.tokenStandard});const d={query:Tu,variables:{where_condition:c,offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(d)}async getTokenOwnedFromCollectionAddress(e,t,r){var i,o;const c=F.ensure(e).hex();Ce.validateAddress(c);const d=F.ensure(t).hex();Ce.validateAddress(d);const p={owner_address:{_eq:c},current_token_data:{collection_id:{_eq:d}},amount:{_gt:0}};r!=null&&r.tokenStandard&&(p.token_standard={_eq:r==null?void 0:r.tokenStandard});const y={query:Bu,variables:{where_condition:p,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(y)}async getTokenOwnedFromCollectionNameAndCreatorAddress(e,t,r,i){const o=await this.getCollectionAddress(r,t,i);return await this.getTokenOwnedFromCollectionAddress(e,o,i)}async getCollectionData(e,t,r){var i,o;const c=F.ensure(e).hex();Ce.validateAddress(c);const d={collection_name:{_eq:t},creator_address:{_eq:c}};r!=null&&r.tokenStandard&&(d.token_standard={_eq:r==null?void 0:r.tokenStandard});const p={query:_u,variables:{where_condition:d,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(p)}async getCollectionAddress(e,t,r){return(await this.getCollectionData(e,t,r)).current_collections_v2[0].collection_id}async getCollectionsWithOwnedTokens(e,t){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={owner_address:{_eq:o}};t!=null&&t.tokenStandard&&(c.current_collection={token_standard:{_eq:t==null?void 0:t.tokenStandard}});const d={query:yu,variables:{where_condition:c,offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(d)}async getAccountTransactionsCount(e){const t=F.ensure(e).hex();Ce.validateAddress(t);const r={query:pu,variables:{address:t}};return this.queryIndexer(r)}async getAccountTransactionsData(e,t){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const d={query:xu,variables:{where_condition:{account_address:{_eq:o}},offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(d)}async getTopUserTransactions(e){const t={query:Cu,variables:{limit:e}};return this.queryIndexer(t)}async getUserTransactions(e){var t,r;const i={version:{_lte:e==null?void 0:e.startVersion}},o={query:zu,variables:{where_condition:i,offset:(t=e==null?void 0:e.options)==null?void 0:t.offset,limit:(r=e==null?void 0:e.options)==null?void 0:r.limit,order_by:e==null?void 0:e.orderBy}};return this.queryIndexer(o)}async getDelegatedStakingActivities(e,t){const r=F.ensure(e).hex(),i=F.ensure(t).hex();Ce.validateAddress(r),Ce.validateAddress(i);const o={query:gu,variables:{delegatorAddress:r,poolAddress:i}};return this.queryIndexer(o)}async getNumberOfDelegators(e){const t=F.ensure(e).hex();Ce.validateAddress(t);const r={query:mu,variables:{poolAddress:t}};return this.queryIndexer(r)}async getAccountCoinsData(e,t){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const d={query:uu,variables:{where_condition:{owner_address:{_eq:o}},offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(d)}async getAccountCoinsDataCount(e){const t=F.ensure(e).hex();Ce.validateAddress(t);const r={query:lu,variables:{address:t}};return this.queryIndexer(r)}async getAccountOwnedObjects(e,t){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const d={query:bu,variables:{where_condition:{owner_address:{_eq:o}},offset:(r=t==null?void 0:t.options)==null?void 0:r.offset,limit:(i=t==null?void 0:t.options)==null?void 0:i.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(d)}},Jn=class{constructor(n,e,t=!1){let r=null,i=null;if(typeof n=="object"&&Fu(n)?(r=n.fullnodeUrl,i=n.indexerUrl,this.network="CUSTOM"):(r=$l[n],i=jr[n],this.network=n),this.network==="CUSTOM"&&!r)throw new Error("fullnode url is not provided");i&&(this.indexerClient=new Aa(i,e)),this.aptosClient=new hr(r,e,t)}};function Ua(n,e,t){Object.getOwnPropertyNames(e.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(e.prototype,r);i&&(i.value=function(...o){return this[t][r](...o)},Object.defineProperty(n.prototype,r,i))}),Object.getOwnPropertyNames(e).forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);i&&(i.value=function(...o){return this[t][r](...o)},!n.hasOwnProperty.call(n,r)&&Object.defineProperty(n,r,i))})}Ua(Jn,hr,"aptosClient");Ua(Jn,Aa,"indexerClient");function Fu(n){return n.fullnodeUrl!==void 0&&typeof n.fullnodeUrl=="string"}var Sa=class{constructor(n,e){this.type=n,this.value=e}},Ea=class{constructor(){this.data={}}setProperty(n,e){this.data[n]=e}};function qu(n){let e;return n==="string"||n==="String"?e=new It(ds):e=new yn(n).parseTypeTag(),e}function Ba(n){const e=n.map.data,t=new Ea;return e.forEach(r=>{const{key:i}=r,o=r.value.value,c=r.value.type,d=qu(c),p=ju(d,o),y=new Sa(c,p);t.setProperty(i,y)}),t}function ju(n,e){const t=new cs(new F(e).toUint8Array());let r="";return n instanceof Ut?r=t.deserializeU8().toString():n instanceof Kt?r=t.deserializeU64().toString():n instanceof Wt?r=t.deserializeU128().toString():n instanceof Gt?r=t.deserializeBool()?"true":"false":n instanceof Bt?r=F.fromUint8Array(t.deserializeFixedBytes(32)).hex():n instanceof It&&n.isStringTypeTag()?r=t.deserializeStr():r=e,r}var Gu={};rr(Gu,{PropertyMap:()=>Ea,PropertyValue:()=>Sa,Token:()=>Wu,TokenData:()=>Ku});var Ku=class{constructor(n,e,t,r,i,o,c,d){this.collection=n,this.description=e,this.name=t,this.maximum=r,this.supply=i,this.uri=o,this.default_properties=Ba(c),this.mutability_config=d}},Wu=class{constructor(n,e,t){this.id=n,this.amount=e,this.token_properties=Ba(t)}},hi=class{constructor(n){this.assetType="0x1::fungible_asset::Metadata",this.provider=n}async transfer(n,e,t,r,i){const o=await this.generateTransfer(n,e,t,r,i);return await this.provider.signAndSubmitTransaction(n,o)}async getPrimaryBalance(n,e){const t={function:"0x1::primary_fungible_store::balance",type_arguments:[this.assetType],arguments:[F.ensure(n).hex(),F.ensure(e).hex()]},r=await this.provider.view(t);return BigInt(r[0])}async generateTransfer(n,e,t,r,i){return await new dr(this.provider,{sender:n.address(),...i}).build("0x1::primary_fungible_store::transfer",[this.assetType],[F.ensure(e).hex(),F.ensure(t).hex(),r])}},pi="0x1::aptos_account::transfer_coins",Vu="0x1::coin::transfer",Yu=class{constructor(n){this.aptosClient=n}async transfer(n,e,t,r){var i,o,c;const d=((i=r==null?void 0:r.coinType)!=null?i:"").toString().includes("::");if(r!=null&&r.coinType&&!d&&xe.isValid(r.coinType)){console.warn("to transfer a fungible asset, use `FungibleAssetClient()` class for better support");const C=new Jn({fullnodeUrl:this.aptosClient.nodeUrl,indexerUrl:(o=jr[fi[this.aptosClient.nodeUrl]])!=null?o:this.aptosClient.nodeUrl});return await new hi(C).transfer(n,r==null?void 0:r.coinType,kn(e),t)}const p=(c=r==null?void 0:r.coinType)!=null?c:qr;let y;(r==null?void 0:r.createReceiverIfMissing)===void 0?y=pi:y=r!=null&&r.createReceiverIfMissing?pi:Vu;const m=kn(e),E=await new dr(this.aptosClient,{sender:n.address(),...r}).build(y,[p],[m,t]),N=hr.generateBCSTransaction(n,E);return(await this.aptosClient.submitSignedBCSTransaction(N)).hash}async checkBalance(n,e){var t,r,i;const o=((t=e==null?void 0:e.coinType)!=null?t:"").toString().includes("::");if(e!=null&&e.coinType&&!o&&xe.isValid(e.coinType)){console.warn("to check balance of a fungible asset, use `FungibleAssetClient()` class for better support");const m=new Jn({fullnodeUrl:this.aptosClient.nodeUrl,indexerUrl:(r=jr[fi[this.aptosClient.nodeUrl]])!=null?r:this.aptosClient.nodeUrl});return await new hi(m).getPrimaryBalance(kn(n),e==null?void 0:e.coinType)}const d=`0x1::coin::CoinStore<${(i=e==null?void 0:e.coinType)!=null?i:qr}>`,p=kn(n),y=await this.aptosClient.getAccountResource(p,d);return BigInt(y.data.coin.value)}},Ju={};rr(Ju,{AptosErrorCode:()=>Ia,MoveFunctionVisibility:()=>Ca,RoleType:()=>za});var Ia=(n=>(n.ACCOUNT_NOT_FOUND="account_not_found",n.RESOURCE_NOT_FOUND="resource_not_found",n.MODULE_NOT_FOUND="module_not_found",n.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",n.VERSION_NOT_FOUND="version_not_found",n.TRANSACTION_NOT_FOUND="transaction_not_found",n.TABLE_ITEM_NOT_FOUND="table_item_not_found",n.BLOCK_NOT_FOUND="block_not_found",n.STATE_VALUE_NOT_FOUND="state_value_not_found",n.VERSION_PRUNED="version_pruned",n.BLOCK_PRUNED="block_pruned",n.INVALID_INPUT="invalid_input",n.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",n.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",n.VM_ERROR="vm_error",n.HEALTH_CHECK_FAILED="health_check_failed",n.MEMPOOL_IS_FULL="mempool_is_full",n.INTERNAL_ERROR="internal_error",n.WEB_FRAMEWORK_ERROR="web_framework_error",n.BCS_NOT_SUPPORTED="bcs_not_supported",n.API_DISABLED="api_disabled",n))(Ia||{}),Ca=(n=>(n.PRIVATE="private",n.PUBLIC="public",n.FRIEND="friend",n))(Ca||{}),za=(n=>(n.VALIDATOR="validator",n.FULL_NODE="full_node",n))(za||{});const Pr=1e8,On={network:null,connection:null,PENNIES_PER_APT:Pr,formatBalance(n){return n=Number(n)/Pr,n.toFixed(5)},toPennies(n){return n*Pr},getNetwork(){return this.network},setNetwork(n){this.network=n},setConnection(n){this.setNetwork(n);const e=new hr(n);this.connection=new Yu(e)},getConnection(){return this.connection},getBalance(n){const e=this.getConnection(),t=new Yn(void 0,n);return e.checkBalance(t)},deposit(n,e,t,r,i){return(async()=>{const c={arguments:[e,t],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]},d=await r.send(c);return i&&i(),d})()}},Xu={key:0},Qu={class:"tw-flex tw-justify-between"},Zu={class:"tw-text-text-error-primary tw-mb-2"},ed={key:1},td=["href"],e0=qa({__name:"DepositAptosPetra",props:{provider:{}},setup(n){const{setWalletModal:e}=ja(),t=n,r=Ga(),{getWeb3AuthProviders:i}=Ka(r),o=He(!1),c=He(),d=He(),p=He(""),y=He(!1),m=He(0),x=He(0),E=He(t.provider.extra.main_currency),N=He(0),z=He(""),C=He(""),j=He(0),Q=He(null),be=He(""),k=He(!1),pe=He(t.provider.extra.address),we=He({amount:0});async function Pe(){p.value=await d.value.connect();const ge=await On.getBalance(p.value);return y.value=!0,m.value=On.formatBalance(ge),{extraData:{to:pe.value,from:p.value,amount:we.value.amount,checker:t.provider.extra.checker,currency:t.provider.extra.currency,mainCurrency:t.provider.extra.main_currency},isWaitingResponse:!0}}function Ve(ge,ze){x.value=ge.main_amount,N.value=ge.pennies,z.value=ge.payment_id,C.value=ze,Te(),k.value=!0}async function ve(){if(be.value="",m.value<x.value){be.value="not_enough_funds";return}const ze={txid:(await On.deposit(p.value,pe.value,N.value,d.value)).hash,from:p.value,to:pe.value,payment_id:z.value,main_amount:x.value,currency:t.provider.extra.currency,initial_data:C.value};await Xa.post(t.provider.extra.webhook,ze),e()}function Te(){j.value=t.provider.extra.time_to_commit,Q.value=Qa(()=>{if(j.value<=0){clearInterval(Q.value);return}j.value--},1e3)}function je(){c.value=i.value.petra||null,d.value=new rc("petra"),o.value=d.value.hasUserApp(),On.setConnection(t.provider.extra.network_url)}return Wa(()=>{je()}),Va(()=>{o.value&&d.value.disconnect()}),(ge,ze)=>{var Je;const Ye=$a,ft=Ma;return Re(o)?(en(),Sr(ft,{key:0,"field-variables":Re(we),"is-form-valid":!0,provider:ge.provider,"on-before-submit":Pe,"hide-deposit-button":Re(k),onOnResponse:Ve},{default:In(()=>[Ya(Ye,{amount:Re(we).amount,"onUpdate:amount":ze[0]||(ze[0]=Ze=>Re(we).amount=Ze),disabled:Re(k),"min-limit":ge.provider.min_limit,"max-limit":ge.provider.max_limit,"is-required":""},Ja({_:2},[Re(y)?{name:"titleAfter",fn:In(()=>[Rt("span",null,it(ge.$t("available"))+" ("+it(Re(E))+"): "+it(Re(m)),1)]),key:"0"}:void 0]),1032,["amount","disabled","min-limit","max-limit"]),Re(k)?(en(),Gs("div",Xu,[Rt("div",Qu,[Rt("div",Zu,it(ge.$t("click_approve "))+": "+it(Re(j)),1),Rt("div",null,[Rt("span",null,it(Re(x))+" ("+it(Re(E))+")",1)])])])):Er("",!0),Re(be)?(en(),Sr(ic,{key:1},{default:In(()=>[Br(it(ge.$t(Re(be))),1)]),_:1})):Er("",!0),Re(k)?(en(),Sr(sc,{key:2,"is-disabled":Re(j)<=0,onClick:ve},{default:In(()=>[Br(it(ge.$t("send")),1)]),_:1},8,["is-disabled"])):Er("",!0)]),_:1},8,["field-variables","provider","hide-deposit-button"])):(en(),Gs("div",ed,[Br(it(ge.$t("you_have_to_install"))+" ",1),Rt("a",{target:"_blank",href:(Je=Re(c))==null?void 0:Je.url,class:"tw-text-text-brand tw-cursor-pointer"}," Petra ",8,td)]))}}});export{e0 as default};
