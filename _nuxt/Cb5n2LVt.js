import{_ as Y}from"./DdEhcY8t.js";import{_ as ee}from"./CH2Buh_U.js";import{_ as te}from"./BRNiVJfy.js";import{_ as T}from"./DQ9AOTKz.js";import{_ as oe}from"./DOMz106x.js";import{U,ak as F,Z as D,o as s,c as h,a as f,u as v,W as e,an as se,f as w,x as y,K as m,t as r,b as d,a4 as ne,a5 as R,a1 as ae,a0 as V,ab as ie,j as P,i as I,p as S,a3 as re,F as le,r as ce}from"./GLBH15dL.js";import{_ as ue}from"./iGJpO4hG.js";import{_ as me}from"./B0IJO_Xd.js";import{_ as _e}from"./CpKgH15o.js";import{u as pe}from"./DCMfTZpQ.js";import{u as de}from"./C9aiABHZ.js";import{g as fe}from"./C1D4Ozuk.js";import"./viXQLG1X.js";import"./DCkZ5Rzz.js";import"./DpuOAysh.js";import"./C7PoV1zm.js";import"./DRArWz0C.js";import"./D8aEg3BZ.js";import"./BvI9bkuF.js";import"./gfcTzQ0I.js";import"./56Y_7FHu.js";const ve={class:"bonus-item-header"},be={class:"bonus-item-body"},ge={class:"bonus-item-title fg-title-20-fat"},he=U({__name:"BonusItem",props:{bonus:{},isExpired:{type:Boolean}},setup(A){const $=A,l=F(),x=()=>{l.setCurrentBonusId($.bonus.id),l.setVisibleBonusModal(!0)},{t:c}=D();return(n,L)=>{var k,b;const C=T,_=oe,B=ne;return s(),h("div",{class:"bonus-item",onClick:x},[f("div",ve,[v(C,{src:n.bonus.banner,class:"bonus-item-image"},null,8,["src"]),!("isExpired"in n?n.isExpired:e(se))&&((k=n.bonus.extra)!=null&&k.expiration_after)?(s(),w(_,{key:0,id:`bonus-countdown-${n.bonus.id}`,class:"bonus-item-countdown","is-bonus":"","end-date":(b=n.bonus.extra)==null?void 0:b.expiration_after},{days:y(()=>[m(r(e(c)("days")),1)]),hours:y(()=>[m(r(e(c)("hours")),1)]),minutes:y(()=>[m(r(e(c)("min")),1)]),seconds:y(()=>[m(r(e(c)("sec")),1)]),_:1},8,["id","end-date"])):d("",!0)]),f("div",be,[f("div",ge,r(n.bonus.name),1),f("div",{class:"tw-mt-2 fg-main-12-regular tw-text-text-brand tw-cursor-pointer",onClick:x},[m(r(e(c)("bonus_info"))+" ",1),v(B,{class:"tw-ms-1",width:6,height:10,name:"slider-arrow-next"})])])])}}}),we=R(he,[["__scopeId","data-v-450fc2d3"]]),ye={class:"promotions"},xe={class:"promotions-info"},Be={key:0,class:"promotions-total"},ke={class:"tw-text-text-brand tw-flex tw-gap-1 tw-items-center"},Ne={key:1,class:"promotions-list"},u=6,Ie=U({__name:"promotions",setup(A){const $=ae(),{isLoggedIn:l}=V($),x=ie(),{t:c}=D(),{platformCommasFormat:n}=de(),L=["6ed534e6-fe06-428f-b15f-e769cbbfe1c4","45cab422-ae18-45d9-acde-e0ddead0091a"],C=F(),{getBonuses:_,getActiveBonus:B}=V(C),{getBonusBalance:k,getCurrency:b}=V(x),O=P(()=>B.value&&l.value),g=I("available"),j=[{key:"available",label:"available",icon:"available_bonus"},{key:"history",label:"history",icon:"history_bonus"}],E=o=>{var i;return((i=o.extra)==null?void 0:i.expiration_after)&&new Date(o.extra.expiration_after)<new Date},M=P(()=>_.value.filter(o=>!o.activated&&!E(o))),G=P(()=>_.value.filter(o=>!o.activated&&E(o))),t=I([]),N=I(1);S(g,o=>{N.value=1,o==="available"?t.value=M.value:o==="history"&&(t.value=G.value)});const a=I([]);S(t,()=>{t.value.length<=u?a.value=t.value:a.value=t.value.slice(0,u)});const H=()=>{const i=a.value.length+u;a.value=t.value.slice(0,i),N.value++};return S([l,_],()=>{_.value.length&&(t.value=M.value,t.value.length<=u?a.value=t.value:a.value=t.value.slice(0,u))},{immediate:!0}),S(l,()=>{g.value="available"}),pe({title:"Promotions"}),(o,i)=>{const K=Y,W=ee,Z=te,q=T,z=we,J=ue,Q=me,X=_e;return s(),h("div",ye,[v(K,{class:"tw-mb-4","title-key":"bonuses","icon-name":"bonuses"}),e(O)?(s(),w(W,{key:0,bonus:e(B)},null,8,["bonus"])):d("",!0),f("div",xe,[v(Z,{modelValue:e(g),"onUpdate:modelValue":i[0]||(i[0]=p=>re(g)?g.value=p:null),tabs:j,type:"secondary"},null,8,["modelValue"]),e(l)?(s(),h("div",Be,[m(r(e(c)("total_bonus_amount"))+": ",1),f("span",ke,[m(r(e(n)(L,e(k)))+" ",1),v(q,{src:e(fe)(e(b)),alt:e(b),class:"tw-min-w-4 tw-min-h-4"},null,8,["src","alt"])])])):d("",!0)]),e(a).length?(s(),h("div",Ne,[(s(!0),h(le,null,ce(e(a),p=>(s(),w(z,{key:p.id,"is-expired":!!E(p),bonus:p},null,8,["is-expired","bonus"]))),128))])):d("",!0),e(N)*u<e(t).length?(s(),w(Q,{key:2,"class-list":"tw-my-8","item-count":e(a).length,item:{total:e(t).length,total_pages:e(t).length/u,page:e(N)}},{action:y(()=>[v(J,{"label-key":"show_more","color-type":"outline",class:"content-btn",onClick:i[1]||(i[1]=p=>H())})]),_:1},8,["item-count","item"])):d("",!0),e(t).length<1?(s(),w(X,{key:3,class:"tw-w-full tw-my-4"})):d("",!0)])}}}),qe=R(Ie,[["__scopeId","data-v-23e12390"]]);export{qe as default};
