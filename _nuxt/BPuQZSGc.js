import{_ as M}from"./SOohJPuW.js";import{_ as S}from"./92T7Fwo1.js";import{U as $,ab as D,a0 as P,i as h,j as C,p as R,k as F,o as d,c as T,f as w,x as u,a as n,t as m,W as t,a3 as p,b as I,u as _,a4 as j,a5 as z}from"./DSD2pUNw.js";import{_ as E}from"./C9cRvAIb.js";import{u as W}from"./BLR1aNLP.js";import{g as V}from"./DiADfKRX.js";const G={class:"converter"},H={class:"tw-flex tw-items-center tw-gap-1"},J={class:"tw-flex tw-flex-col"},K={class:"fg-main-12-regular tw-text-text-tertiary"},O={class:"converter-inputs"},Q=["src"],X={class:"tw-text-text-tertiary ng-flex-center"},Y=["src"],Z={class:"tw-text-text-tertiary ng-flex-center"},ee=$({__name:"AmountConverter",props:{amount:{},minLimit:{},maxLimit:{},currencyList:{},isRequired:{type:Boolean},allowedPlatforms:{}},emits:["update:amount","update:originAmount","update:originCurrency"],setup(x,{emit:L}){const{platformCommasFormat:f}=W(),l=x,v=L,A=D(),{getCurrency:g,userData:N}=P(A),r=h(l.currencyList[0]),o=h(0),i=C(()=>r.value?f(l.allowedPlatforms,(o.value*r.value.exact_value).toFixed(2)):f(l.allowedPlatforms,o.value)),U=C(()=>N.value.decimal_payment),c=e=>U.value?e:Math.round(Number(e)),b=()=>{o.value=c(o.value)};return R(()=>i.value,()=>{v("update:amount",i.value),v("update:originCurrency",r.value.code)}),F(()=>{o.value=c(Number(l.amount))}),(e,a)=>{const k=M,y=S,B=j,q=E;return d(),T("div",G,[e.currencyList.length>0?(d(),w(k,{key:0,modelValue:t(r),"onUpdate:modelValue":a[0]||(a[0]=s=>p(r)?r.value=s:null),"item-list":e.currencyList,"default-option":e.currencyList[0],"displayed-option":"code","modal-overflow":!0},{"selected-option":u(({props:s})=>[n("div",H,[n("div",J,[n("span",K,m(e.$t("currency")),1),n("span",null,m(s.code),1)])])]),_:1},8,["modelValue","item-list","default-option"])):I("",!0),n("div",O,[_(y,{modelValue:t(o),"onUpdate:modelValue":a[1]||(a[1]=s=>p(o)?o.value=s:null),modelModifiers:{number:!0},"input-name":"amount","placeholder-key":"amount",min:e.minLimit,max:e.maxLimit,"is-required":e.isRequired,onInput:a[2]||(a[2]=s=>e.$emit("update:originAmount",c(t(o)))),onBlur:b},{leftIcon:u(()=>[n("img",{src:("getCurrencyIconUrl"in e?e.getCurrencyIconUrl:t(V))(t(r).code),alt:"currency",width:"24",height:"24"},null,8,Q)]),rightIcon:u(()=>[n("span",X,m(t(r).code),1)]),_:1},8,["modelValue","min","max","is-required"]),_(B,{size:24,name:"converter",class:"converter-icon"}),_(y,{modelValue:t(i),"onUpdate:modelValue":a[3]||(a[3]=s=>p(i)?i.value=s:null),modelModifiers:{number:!0},"input-name":"convertedAmount","placeholder-key":"converted_amount","is-required":"","is-disabled":""},{leftIcon:u(()=>[n("img",{src:("getCurrencyIconUrl"in e?e.getCurrencyIconUrl:t(V))(t(g)),alt:"currency",width:"24",height:"24"},null,8,Y)]),rightIcon:u(()=>[n("span",Z,m(t(g)),1)]),_:1},8,["modelValue"])]),e.minLimit?(d(),w(q,{key:1,"min-amount":e.minLimit},null,8,["min-amount"])):I("",!0)])}}}),ue=z(ee,[["__scopeId","data-v-9f0f517d"]]);export{ue as _};
