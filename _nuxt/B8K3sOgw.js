import{U as ee,a1 as te,$ as ie,V as pe,am as se,a7 as ue,a0 as z,i as _,j as $,o as l,f as r,x as s,W as e,Y as f,u as a,b as d,a4 as ae,a5 as ne,a6 as ge,_ as de,ak as _e,c as ve,a3 as ke,a as b,an as we,ao as Z,ah as he,ai as fe}from"./DSD2pUNw.js";import{_ as oe}from"./BZ6bRDco.js";import{_ as le}from"./CKIiqM3i.js";import{_ as ye}from"./CNvrXMO9.js";import{_ as be}from"./DYjXzImW.js";import{_ as Be}from"./ChUyVPeQ.js";import{u as Ie,L as J,_ as Se}from"./CyCbr2i4.js";import{_ as Pe}from"./EhEUCJbV.js";import{_ as Ve}from"./BbYA9_w2.js";import{u as Ge}from"./IW4IgeV-.js";import{u as re,a as Le}from"./DLW0uqGA.js";import{u as ce}from"./tIRvP6xh.js";import{_ as Ce}from"./C4jqm2Pn.js";import{_ as xe}from"./CtdENio2.js";import{u as Ue}from"./CygSoWUo.js";import"./R1YRABMb.js";import"./D8Vkugs4.js";import"./DCwwILS6.js";import"./BLR1aNLP.js";import"./56Y_7FHu.js";import"./DiADfKRX.js";import"./D2M15My9.js";import"./CqLY2vNr.js";import"./Dq3GPOqN.js";import"./mYk17c8H.js";import"./CrE1ES4d.js";import"./D8aEg3BZ.js";import"./rnzwH3QY.js";import"./D8SE-IQr.js";import"./BcNY68dZ.js";import"./DUXdqV41.js";import"./Zs2GqXH5.js";import"./BOAzHGzj.js";import"./xL4uUKpb.js";import"./SOohJPuW.js";import"./DaXGcVam.js";import"./CTKbW84e.js";const Te=ee({__name:"GamesCasino",setup(G){const L=te(),N=ie(),w=pe(),h=se(),D=ue(),{slicedList:A,gridSize:M,filter:E,onFilter:j,onGoTo:O}=Ie(),{setSliders:B,getSliders:t,hasCustomSlider:I}=Ge(),{updateBreakpoints:o}=re(),{isLoggedIn:H}=z(L),{isLiveWins:K}=z(N),S=_(!0),p=_([]),C=_([]),P=_([]),V=_([]),W=_([]),q=_([]),x=_([]),R=_([]),c={breakpointsBase:"container",slidesPerView:6,breakpoints:{[o.value.mobileSmall]:{slidesPerView:3,spaceBetween:8},[o.value.mobileLarge]:{slidesPerView:4,spaceBetween:8},[o.value.tablet]:{slidesPerView:5,spaceBetween:12},[o.value.desktop]:{slidesPerView:6,spaceBetween:16},[o.value.desktopLarge]:{slidesPerView:7,spaceBetween:16}}},Q=[J.month,J.week,J.day],Y=$(()=>[{title:"spins",titleIcon:"slot",games:q.value,link:w({path:f.games}),titleIconUrl:"",sliderSettings:c},{title:"live_casino",titleIcon:"live_casino",games:P.value,link:w({path:f.live_games}),titleIconUrl:"",sliderSettings:c},{title:"slots_slider",titleIcon:"slots",games:C.value,link:w({path:f.games}),titleIconUrl:"",sliderSettings:c},{title:"virtual_sport",titleIcon:"sports",games:R.value,link:w({path:f.virtual_sport}),titleIconUrl:"",sliderSettings:c},{title:"table_games",titleIcon:"table_games",games:V.value,link:w({path:f.table_games}),titleIconUrl:"",sliderSettings:c},{title:"special_games",titleIcon:"special",games:W.value,link:w({path:f.special_games}),titleIconUrl:"",sliderSettings:c}]),i=k=>I.value||!k?w({path:f.games}):k,m=async()=>{try{const{data:k}=await D.fetchBattles({limit:9}),{data:F}=await h.fetchSpinsProviders();if(x.value=k.items,p.value=F.items,!(I!=null&&I.value)){const{data:u}=await h.fetchSpins({sort:"rating",per_page:21,is_top_or_new:1}),{data:v}=await h.fetchSpins({sort:"rating",per_page:21,is_top:0,is_new:0}),{data:g}=await h.fetchVirtuals({sort:"rating",per_page:21}),{data:U}=await h.fetchTableGames({sort:"rating",per_page:21}),{data:T}=await h.fetchLiveGames({sort:"rating",per_page:21}),{data:y}=await h.fetchCrypto({sort:"rating",per_page:21});C.value=v.items,q.value=u.items,R.value=g.items,V.value=U.items,P.value=T.items,W.value=y.items}B(Y.value,6)}catch(k){console.error("GameCasino.vue -> getData:",k)}finally{S.value=!1}};return ce("fetchGames",()=>m(),{watch:[H]}),(k,F)=>{const u=be,v=Be,g=oe,U=ae,T=Se,y=Pe,X=Ve,me=le;return l(),r(me,{loading:e(S)},{default:s(()=>[e(t)[0]&&e(t)[0].games.length?(l(),r(g,{key:0,list:e(t)[0].games,"slider-id":"group-games-0",class:"game-slider tw-mt-8","is-navigation":!0,"slider-settings":c},{header:s(()=>[a(u,{"is-navigation":!0,"title-key":e(t)[0].title,"title-icon":e(t)[0].titleIcon,"navigation-link":e(t)[0].link,"title-icon-url":e(t)[0].titleIconUrl},null,8,["title-key","title-icon","navigation-link","title-icon-url"])]),item:s(({item:n})=>[a(v,{"page-path":i(e(t)[0].link),game:n},null,8,["page-path","game"])]),_:1},8,["list"])):d("",!0),e(K)?(l(),r(T,{key:1,class:"tw-my-8","current-filter":e(E),"filter-list":Q,"grid-size":e(M),list:e(A),onGoTo:e(O),onUpdate:e(j)},{"header-icon":s(()=>[a(U,{name:"lobby",size:24})]),_:1},8,["current-filter","grid-size","list","onGoTo","onUpdate"])):d("",!0),e(x).length?(l(),r(g,{key:2,list:e(x),"slider-id":"battle-spins",class:"battle-slider tw-mt-8","is-navigation":!0,"slider-settings":{breakpointsBase:"container",slidesPerView:3,breakpoints:{[e(o).mobileSmall]:{slidesPerView:1,spaceBetween:10},[e(o).mobile]:{slidesPerView:1,spaceBetween:10},[e(o).tablet]:{slidesPerView:2,spaceBetween:10},[e(o).desktop]:{slidesPerView:3,spaceBetween:10}}}},{header:s(()=>[a(u,{"navigation-link":e(f).pvp_battle,"is-navigation":!0,"title-key":"battles","title-icon":"pvp"},null,8,["navigation-link"])]),item:s(({item:n})=>[a(y,{item:n},null,8,["item"])]),_:1},8,["list","slider-settings"])):d("",!0),e(t)[1]&&e(t)[1].games.length?(l(),r(g,{key:3,list:e(t)[1].games,"slider-id":"group-games-1",class:"game-slider tw-my-8","is-navigation":!0,"slider-settings":c},{header:s(()=>[a(u,{"is-navigation":!0,"title-key":e(t)[1].title,"title-icon":e(t)[1].titleIcon,"navigation-link":e(t)[1].link,"title-icon-url":e(t)[1].titleIconUrl},null,8,["title-key","title-icon","navigation-link","title-icon-url"])]),item:s(({item:n})=>[a(v,{"page-path":i(e(t)[1].link),game:n},null,8,["page-path","game"])]),_:1},8,["list"])):d("",!0),e(p).length?(l(),r(g,{key:4,list:e(p),"slider-id":"slider-provider",class:"game-slider tw-mt-8","is-navigation":!0,"slider-settings":{breakpointsBase:"container",slidesPerView:6,breakpoints:{[e(o).mobileSmall]:{slidesPerView:3,spaceBetween:8},[e(o).mobileLarge]:{slidesPerView:4,spaceBetween:8},[e(o).tablet]:{slidesPerView:5,spaceBetween:12},[e(o).desktop]:{slidesPerView:6,spaceBetween:16},[e(o).desktopLarge]:{slidesPerView:7,spaceBetween:16}}}},{header:s(()=>[a(u,{"is-navigation":!0,"title-key":"top_providers","title-icon":"top-providers","navigation-link":e(f).providers},null,8,["navigation-link"])]),item:s(({item:n})=>[a(X,{"link-to":{path:"/games",query:{provider:n.id}},item:n},null,8,["link-to","item"])]),_:1},8,["list","slider-settings"])):d("",!0),e(t)[2]&&e(t)[2].games.length?(l(),r(g,{key:5,list:e(t)[2].games,"slider-id":"group-games-2",class:"game-slider tw-mt-8","is-navigation":!0,"slider-settings":c},{header:s(()=>[a(u,{"is-navigation":!0,"title-key":e(t)[2].title,"title-icon":e(t)[2].titleIcon,"navigation-link":e(t)[2].link,"title-icon-url":e(t)[2].titleIconUrl},null,8,["title-key","title-icon","navigation-link","title-icon-url"])]),item:s(({item:n})=>[a(v,{"page-path":i(e(t)[2].link),game:n},null,8,["page-path","game"])]),_:1},8,["list"])):d("",!0),e(t)[3]&&e(t)[3].games.length?(l(),r(g,{key:6,list:e(t)[3].games,"slider-id":"group-games-3",class:"game-slider tw-mt-8","is-navigation":!0,"slider-settings":c},{header:s(()=>[a(u,{"is-navigation":!0,"title-key":e(t)[3].title,"title-icon":e(t)[3].titleIcon,"navigation-link":e(t)[3].link,"title-icon-url":e(t)[3].titleIconUrl},null,8,["title-key","title-icon","navigation-link","title-icon-url"])]),item:s(({item:n})=>[a(v,{"page-path":i(e(t)[3].link),game:n},null,8,["page-path","game"])]),_:1},8,["list"])):d("",!0),e(t)[4]&&e(t)[4].games.length?(l(),r(g,{key:7,list:e(t)[4].games,"slider-id":"group-games-4",class:"game-slider tw-mt-8","is-navigation":!0,"slider-settings":c},{header:s(()=>[a(u,{"is-navigation":!0,"title-key":e(t)[4].title,"title-icon":e(t)[4].titleIcon,"navigation-link":e(t)[4].link,"title-icon-url":e(t)[4].titleIconUrl},null,8,["title-key","title-icon","navigation-link","title-icon-url"])]),item:s(({item:n})=>[a(v,{"page-path":i(e(t)[4].link),game:n},null,8,["page-path","game"])]),_:1},8,["list"])):d("",!0),e(t)[5]&&e(t)[5].games.length?(l(),r(g,{key:8,list:e(t)[5].games,"slider-id":"group-games-5",class:"game-slider tw-mt-8","is-navigation":!0,"slider-settings":c},{header:s(()=>[a(u,{"is-navigation":!0,"title-key":e(t)[5].title,"title-icon":e(t)[5].titleIcon,"navigation-link":e(t)[5].link,"title-icon-url":e(t)[5].titleIconUrl},null,8,["title-key","title-icon","navigation-link","title-icon-url"])]),item:s(({item:n})=>[a(v,{"page-path":i(e(t)[5].link),game:n},null,8,["page-path","game"])]),_:1},8,["list"])):d("",!0),e(t)[6]&&e(t)[6].games.length?(l(),r(g,{key:9,list:e(t)[6].games,"slider-id":"group-games-6",class:"game-slider tw-mt-8","is-navigation":!0,"slider-settings":c},{header:s(()=>[a(u,{"is-navigation":!0,"title-key":e(t)[6].title,"title-icon":e(t)[6].titleIcon,"navigation-link":e(t)[6].link,"title-icon-url":e(t)[6].titleIconUrl},null,8,["title-key","title-icon","navigation-link","title-icon-url"])]),item:s(({item:n})=>[a(v,{"page-path":i(e(t)[6].link),game:n},null,8,["page-path","game"])]),_:1},8,["list"])):d("",!0)]),_:1},8,["loading"])}}}),$e=ne(Te,[["__scopeId","data-v-8e07d92a"]]),ze=G=>(he("data-v-6522918e"),G=G(),fe(),G),Ne={class:"tw-pt-6 tw-pb-16 tw-overflow-hidden"},Ae={class:"slider-wrapper"},We=["onClick"],qe=["src"],Re={class:"controls"},Fe={class:"controls-prev slider-prev"},De=ze(()=>b("div",{class:"swiper-pagination"},null,-1)),Me={class:"controls-next slider-next"},Ee={class:"tw-mt-4"},je=ee({__name:"casino",setup(G){const L=ge(),N=de(),w=te(),h=ie(),D=se(),A=_e(),{setCurrentBonusId:M,setVisibleBonusModal:E}=A,{fetchSpins:j}=D,{pages:O}=Le(),{updateBreakpoints:B}=re(),{isLoggedIn:t}=z(w),{getBonuses:I}=z(A),{getActiveCategory:o,isLeaderBoard:H,isPromotions:K}=z(h),S=_(!1),p=_("all"),C=_([]),P=$(()=>I.value.filter(i=>{var m;return!i.activated&&(!we((m=i.extra)==null?void 0:m.expiration_after)&&i.status!==4||!i.extra&&!i.activated)})),V=$(()=>L.query.tab),W=$(()=>{const i=Object.values(O).find(m=>m[0]===p.value);return i!=null&&i.length?i[1]:""}),q=i=>{M(i),E(!0)},x=async()=>{const i={is_new:1,per_page:21};try{const{data:m}=await j(i);C.value=m.items}catch(m){console.error("getNewGames, casino.vue",m)}},R=()=>{var i;p.value=((i=Z.find(m=>m.key===L.query.tab))==null?void 0:i.key)||"all"},c=$(()=>Z.map(i=>({isActive:i.value!=="all"?o.value[i.value].isEnabled:!0,counter:i.value===p.value&&i.value!=="all"?o.value[i.value].gamesCount:null,...i})).filter(i=>i.isActive)),Q=()=>{p.value!==L.query.tab&&N.replace({query:{tab:p.value}}),p.value==="all"&&N.replace({query:{tab:"all"}})},Y=async()=>{try{S.value=!0,await x(),R()}catch(i){console.error("casinoInitializeAction, casino.vue",i)}finally{S.value=!1}};return ce("initializeCasinoPage",()=>Y(),{watch:[t]}),Ue({title:"Casino"}),(i,m)=>{const k=ae,F=oe,u=le,v=ye,g=$e,U=Ce,T=xe;return l(),ve("div",Ne,[e(K)?(l(),r(u,{key:0,loading:e(S)},{default:s(()=>[b("section",Ae,[e(P).length?(l(),r(F,{key:`casino-bonuses-${e(P).length}`,list:e(P),"slider-id":"casino-bonuses",class:"casino-bonuses tw-mb-8","is-navigation":!0,"is-pagination":!0,"slider-settings":{breakpointsBase:"container",slidesPerView:6,spaceBetween:16,breakpoints:{[e(B).mobileSmall]:{slidesPerView:1,spaceBetween:8},[e(B).mobile]:{slidesPerView:2,spaceBetween:8},[e(B).tablet]:{slidesPerView:2,spaceBetween:12},[e(B).desktop]:{slidesPerView:3,spaceBetween:16}}}},{item:s(({item:y})=>[b("div",{class:"hover:tw-opacity-80",onClick:X=>q(y.id)},[b("img",{src:y.banner,class:"bonus-img"},null,8,qe)],8,We)]),pagination:s(()=>[b("div",Re,[b("div",Fe,[a(k,{name:"left",size:13})]),De,b("div",Me,[a(k,{name:"right",size:13})])])]),_:1},8,["list","slider-settings"])):d("",!0)])]),_:1},8,["loading"])):d("",!0),a(v,{modelValue:e(p),"onUpdate:modelValue":m[0]||(m[0]=y=>ke(p)?p.value=y:null),tabs:e(c),type:"secondary",class:"mobile:tw-mb-8 casino-tabs",onClick:Q},null,8,["modelValue","tabs"]),b("div",Ee,[!e(V)||e(V)==="all"?(l(),r(g,{key:0,"key-name":e(p),"new-game":e(C)},null,8,["key-name","new-game"])):(l(),r(U,{key:`game-list-${e(V)}`,"route-path":e(W)},null,8,["route-path"]))]),e(H)?(l(),r(T,{key:1,class:"tw-mt-8"})):d("",!0)])}}}),Lt=ne(je,[["__scopeId","data-v-6522918e"]]);export{Lt as default};
